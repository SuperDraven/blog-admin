(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{304:function(t,e,n){var content=n(434);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("b63d3f98",content,!0,{sourceMap:!1})},433:function(t,e,n){"use strict";var l=n(304);n.n(l).a},434:function(t,e,n){(t.exports=n(17)(!1)).push([t.i,".margin-top-8{margin-top:8px}.margin-top-10{margin-top:10px}.margin-top-20{margin-top:20px}.margin-left-10{margin-left:10px}.margin-bottom-10{margin-bottom:10px}.margin-bottom-100{margin-bottom:100px}.margin-right-10{margin-right:10px}.padding-left-6{padding-left:6px}.padding-left-8{padding-left:5px}.padding-left-10{padding-left:10px}.padding-left-20{padding-left:20px}.height-100{height:100%}.height-120px{height:100px}.height-200px{height:200px}.height-492px{height:492px}.height-460px{height:460px}.line-gray{height:0;border-bottom:2px solid #dcdcdc}.notwrap{word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.padding-left-5{padding-left:10px}[v-cloak]{display:none}.article-link-con{height:32px;width:100%}.fixed-link-enter{opacity:0}.fixed-link-enter-active,.fixed-link-leave-active{transition:opacity .3s}.fixed-link-enter-to{opacity:1}.openness-radio-con{height:130px}.openness-radio-con,.publish-time-picker-con{margin-left:40px;padding-left:10px;border-left:1px dashed #ebe9f3;overflow:hidden}.publish-time-picker-con{height:100px}.openness-con-enter{height:0}.openness-con-enter-active,.openness-con-leave-active{transition:height .3s}.openness-con-enter-to,.openness-con-leave{height:130px}.openness-con-leave-to{height:0}.publish-button-con{border-top:1px solid #f3eff1;padding-top:14px}.publish-button{float:right;margin-left:10px}.publish-time-enter{height:0}.publish-time-enter-active,.publish-time-leave-active{transition:height .3s}.publish-time-enter-to,.publish-time-leave{height:100px}.publish-time-leave-to{height:0}.classification-con{height:200px;margin-top:-16px;border-left:1px solid #dddee1;border-right:1px solid #dddee1;border-bottom:1px solid #dddee1;border-radius:0 0 3px 3px;padding:10px;overflow:auto}.add-new-tag-con{margin-top:20px;border-top:1px dashed #dbdddf;padding:20px 0;height:60px;overflow:hidden}.add-new-tag-enter{height:0;margin-top:0;padding:0}.add-new-tag-enter-active,.add-new-tag-leave-active{transition:all .3s}.add-new-tag-enter-to,.add-new-tag-leave{height:60px;margin-top:20px;padding:20px 0}.add-new-tag-leave-to{height:0;margin-top:0;padding:0}",""])},758:function(t,e,n){"use strict";n.r(e);var l={name:"artical-publish",data:function(){return{articleTitle:"",articleError:"",showLink:!1,fixedLink:"",articlePath:"",articlePathHasEdited:!1,editLink:!1,editPathButtonType:"ghost",editPathButtonText:"编辑",articleStateList:[{value:"草稿"},{value:"等待复审"}],editOpenness:!1,Openness:"公开",currentOpenness:"公开",topArticle:!1,publishTime:"",publishTimeType:"immediately",editPublishTime:!1,articleTagSelected:[],articleTagList:[],classificationList:[],classificationSelected:[],offenUsedClass:[],offenUsedClassSelected:[],classificationFinalSelected:[],publishLoading:!1,addingNewTag:!1,newTagName:""}},methods:{handleArticletitleBlur:function(){if(0!==this.articleTitle.length){if(localStorage.articleTitle=this.articleTitle,!this.articlePathHasEdited){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,l=t.getDate();this.fixedLink=window.location.host+"/"+e+"/"+n+"/"+l+"/",this.articlePath=this.articleTitle,this.articlePathHasEdited=!0,this.showLink=!0}}else this.$Message.error("文章标题不可为空哦")},editArticlePath:function(){this.editLink=!this.editLink,this.editPathButtonType="ghost"===this.editPathButtonType?"success":"ghost",this.editPathButtonText="编辑"===this.editPathButtonText?"完成":"编辑"},handleEditOpenness:function(){this.editOpenness=!this.editOpenness},handleSaveOpenness:function(){this.Openness=this.currentOpenness,this.editOpenness=!1},cancelEditOpenness:function(){this.currentOpenness=this.Openness,this.editOpenness=!1},handleEditPublishTime:function(){this.editPublishTime=!this.editPublishTime},handleSavePublishTime:function(){this.publishTimeType="timing",this.editPublishTime=!1},cancelEditPublishTime:function(){this.publishTimeType="immediately",this.editPublishTime=!1},setPublishTime:function(t){this.publishTime=t},setClassificationInAll:function(t){this.classificationFinalSelected=t.map((function(t){return t.title})),localStorage.classificationSelected=JSON.stringify(this.classificationFinalSelected)},setClassificationInOffen:function(t){this.classificationFinalSelected=t},handleAddNewTag:function(){this.addingNewTag=!this.addingNewTag},createNewTag:function(){var t=this;0!==this.newTagName.length?(this.articleTagList.push({value:this.newTagName}),this.addingNewTag=!1,setTimeout((function(){t.newTagName=""}),200)):this.$Message.error("请输入标签名")},cancelCreateNewTag:function(){this.newTagName="",this.addingNewTag=!1},canPublish:function(){return 0!==this.articleTitle.length||(this.$Message.error("请输入文章标题"),!1)},handlePreview:function(){if(this.canPublish()){if("immediately"===this.publishTimeType){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,l=t.getDate(),o=t.getHours(),r=t.getMinutes(),c=t.getSeconds();localStorage.publishTime=e+" 年 "+n+" 月 "+l+" 日 -- "+o+" : "+r+" : "+c}else localStorage.publishTime=this.publishTime;this.$router.push({name:"preview"})}},handleSaveDraft:function(){this.canPublish()},handlePublish:function(){var t=this;this.canPublish()&&(this.publishLoading=!0,setTimeout((function(){t.publishLoading=!1,t.$Notice.success({title:"保存成功",desc:"文章《"+t.articleTitle+"》保存成功"})}),1e3))},handleSelectTag:function(){localStorage.tagsList=JSON.stringify(this.articleTagSelected)}},computed:{completeUrl:function(){var t=this.fixedLink+this.articlePath;return localStorage.finalUrl=t,t}},mounted:function(){this.articleTagList=[{value:"vue"},{value:"iview"},{value:"ES6"},{value:"webpack"},{value:"babel"},{value:"eslint"}],this.classificationList=[{title:"Vue实例我",children:[{title:"数据与方法"},{title:"生命周期"}]}],this.offenUsedClass=[{title:"vue实例"},{title:"生命周期"},{title:"模板语法"},{title:"插值"},{title:"缩写"}]},destroyed:function(){}},o=(n(433),n(2)),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("Col",{attrs:{span:"18"}},[n("Card",[n("Form",{attrs:{"label-width":80}},[n("FormItem",{attrs:{label:"文章标题",error:t.articleError}},[n("Input",{attrs:{icon:"android-list"},on:{"on-blur":t.handleArticletitleBlur},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}})],1),t._v(" "),n("div",{staticClass:"article-link-con"},[n("transition",{attrs:{name:"fixed-link"}},[n("FormItem",{directives:[{name:"show",rawName:"v-show",value:t.showLink,expression:"showLink"}],attrs:{label:"固定链接"}},[n("span",[n("span",{key:"pathfixedtext"},[t._v(t._s(t.fixedLink))]),t._v(" "),t.editLink?n("Input",{key:"pathInput",staticStyle:{display:"inline-block",width:"auto"},model:{value:t.articlePath,callback:function(e){t.articlePath=e},expression:"articlePath"}}):n("span",{key:"pathText"},[t._v(t._s(t.articlePath))])],1),t._v(" "),n("span",{staticStyle:{float:"right"}},[n("Button",{attrs:{type:t.editPathButtonType},on:{click:t.editArticlePath}},[t._v(t._s(t.editPathButtonText))])],1)])],1)],1)],1),t._v(" "),n("div",{staticClass:"margin-top-20"},[n("textarea",{attrs:{id:"articleEditor"}})])],1)],1),t._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"6"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"paper-airplane"}}),t._v("\n                发布\n            ")],1),t._v(" "),n("p",{staticClass:"margin-top-10"},[n("Icon",{attrs:{type:"android-time"}}),t._v("  状    态：\n                "),n("Select",{staticStyle:{width:"90px"},attrs:{size:"small",value:"草稿"}},t._l(t.articleStateList,(function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1),t._v(" "),n("p",{staticClass:"margin-top-10"},[n("Icon",{attrs:{type:"eye"}}),t._v("  公开度： \n                "),n("b",[t._v(t._s(t.Openness))]),t._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.editOpenness,expression:"!editOpenness"}],attrs:{size:"small",type:"text"},on:{click:t.handleEditOpenness}},[t._v("修改")]),t._v(" "),n("transition",{attrs:{name:"openness-con"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.editOpenness,expression:"editOpenness"}],staticClass:"openness-radio-con"},[n("RadioGroup",{attrs:{vertical:""},model:{value:t.currentOpenness,callback:function(e){t.currentOpenness=e},expression:"currentOpenness"}},[n("Radio",{attrs:{label:"公开"}},[t._v("\n                                公开\n                                "),n("Checkbox",{directives:[{name:"show",rawName:"v-show",value:"公开"===t.currentOpenness,expression:"currentOpenness === '公开'"}],model:{value:t.topArticle,callback:function(e){t.topArticle=e},expression:"topArticle"}},[t._v("在首页置顶这篇文章")])],1),t._v(" "),n("Radio",{attrs:{label:"密码"}},[t._v("\n                                密码\n                                "),n("Input",{directives:[{name:"show",rawName:"v-show",value:"密码"===t.currentOpenness,expression:"currentOpenness === '密码'"}],staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"请输入密码"}})],1),t._v(" "),n("Radio",{attrs:{label:"私密"}})],1),t._v(" "),n("div",[n("Button",{attrs:{type:"primary"},on:{click:t.handleSaveOpenness}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:t.cancelEditOpenness}},[t._v("取消")])],1)],1)])],1),t._v(" "),n("p",{staticClass:"margin-top-10"},[n("Icon",{attrs:{type:"ios-calendar-outline"}}),t._v("  \n                "),"immediately"===t.publishTimeType?n("span",[t._v("立即发布")]):n("span",[t._v("定时："+t._s(t.publishTime))]),t._v(" "),n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.editPublishTime,expression:"!editPublishTime"}],attrs:{size:"small",type:"text"},on:{click:t.handleEditPublishTime}},[t._v("修改")]),t._v(" "),n("transition",{attrs:{name:"publish-time"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.editPublishTime,expression:"editPublishTime"}],staticClass:"publish-time-picker-con"},[n("div",{staticClass:"margin-top-10"},[n("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"选择日期和时间"},on:{"on-change":t.setPublishTime}})],1),t._v(" "),n("div",{staticClass:"margin-top-10"},[n("Button",{attrs:{type:"primary"},on:{click:t.handleSavePublishTime}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:t.cancelEditPublishTime}},[t._v("取消")])],1)])])],1),t._v(" "),n("Row",{staticClass:"margin-top-20 publish-button-con"},[n("span",{staticClass:"publish-button"},[n("Button",{on:{click:t.handlePreview}},[t._v("预览")])],1),t._v(" "),n("span",{staticClass:"publish-button"},[n("Button",{on:{click:t.handleSaveDraft}},[t._v("保存草稿")])],1),t._v(" "),n("span",{staticClass:"publish-button"},[n("Button",{staticStyle:{width:"90px"},attrs:{loading:t.publishLoading,icon:"ios-checkmark",type:"primary"},on:{click:t.handlePublish}},[t._v("发布")])],1)])],1),t._v(" "),n("div",{staticClass:"margin-top-10"},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"navicon-round"}}),t._v("\n                    分类目录\n                ")],1),t._v(" "),n("Tabs",{attrs:{type:"card"}},[n("TabPane",{attrs:{label:"所有分类目录"}},[n("div",{staticClass:"classification-con"},[n("Tree",{attrs:{data:t.classificationList,"show-checkbox":""},on:{"on-check-change":t.setClassificationInAll}})],1)]),t._v(" "),n("TabPane",{attrs:{label:"常用目录"}},[n("div",{staticClass:"classification-con"},[n("CheckboxGroup",{on:{"on-change":t.setClassificationInOffen},model:{value:t.offenUsedClassSelected,callback:function(e){t.offenUsedClassSelected=e},expression:"offenUsedClassSelected"}},t._l(t.offenUsedClass,(function(e){return n("p",{key:e.title},[n("Checkbox",{attrs:{label:e.title}},[t._v(t._s(e.title))])],1)})),0)],1)])],1)],1)],1),t._v(" "),n("div",{staticClass:"margin-top-10"},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-pricetags-outline"}}),t._v("\n                    标签\n                ")],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"18"}},[n("Select",{attrs:{multiple:"",placeholder:"请选择文章标签"},on:{"on-change":t.handleSelectTag},model:{value:t.articleTagSelected,callback:function(e){t.articleTagSelected=e},expression:"articleTagSelected"}},t._l(t.articleTagList,(function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)],1),t._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"6"}},[n("Button",{directives:[{name:"show",rawName:"v-show",value:!t.addingNewTag,expression:"!addingNewTag"}],attrs:{long:"",type:"ghost"},on:{click:t.handleAddNewTag}},[t._v("新建")])],1)],1),t._v(" "),n("transition",{attrs:{name:"add-new-tag"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.addingNewTag,expression:"addingNewTag"}],staticClass:"add-new-tag-con"},[n("Col",{attrs:{span:"14"}},[n("Input",{attrs:{placeholder:"请输入标签名"},model:{value:t.newTagName,callback:function(e){t.newTagName=e},expression:"newTagName"}})],1),t._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"5"}},[n("Button",{attrs:{long:"",type:"primary"},on:{click:t.createNewTag}},[t._v("确定")])],1),t._v(" "),n("Col",{staticClass:"padding-left-10",attrs:{span:"5"}},[n("Button",{attrs:{long:"",type:"ghost"},on:{click:t.cancelCreateNewTag}},[t._v("取消")])],1)],1)])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);