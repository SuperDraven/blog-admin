(window.webpackJsonp=window.webpackJsonp||[]).push([[21],Array(219).concat([function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},o={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},r=Object.prototype.toString,l=Array.prototype,h=l.forEach,c=l.filter,d=l.slice,f=l.map,m=l.reduce,v={};function y(source){if(null==source||"object"!=typeof source)return source;var t=source,e=r.call(source);if("[object Array]"===e){t=[];for(var i=0,l=source.length;i<l;i++)t[i]=y(source[i])}else if(o[e]){var h=source.constructor;if(source.constructor.from)t=h.from(source);else{t=new h(source.length);for(i=0,l=source.length;i<l;i++)t[i]=y(source[i])}}else if(!n[e]&&!P(source)&&!L(source))for(var c in t={},source)source.hasOwnProperty(c)&&(t[c]=y(source[c]));return t}function x(t,source,e){if(!A(source)||!A(t))return e?y(source):t;for(var n in source)if(source.hasOwnProperty(n)){var o=t[n],r=source[n];!A(r)||!A(o)||T(r)||T(o)||L(r)||L(o)||C(r)||C(o)||P(r)||P(o)?!e&&n in t||(t[n]=y(source[n])):x(o,r,e)}return t}function _(t,source,e){for(var n in source)source.hasOwnProperty(n)&&(e?null!=source[n]:null==t[n])&&(t[n]=source[n]);return t}var w,S=function(){return v.createCanvas()};function M(t,e,n){if(t&&e)if(t.forEach&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function I(t,e){var n=d.call(arguments,2);return function(){return t.apply(e,n.concat(d.call(arguments)))}}function T(t){return"[object Array]"===r.call(t)}function A(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function C(t){return!!n[r.call(t)]}function L(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}v.createCanvas=function(){return document.createElement("canvas")};var D="__ec_primitive__";function P(t){return t[D]}function k(t){t&&M(t,(function(t,e){this.set(e,t)}),this)}k.prototype={constructor:k,get:function(t){return this["_ec_"+t]},set:function(t,e){return this["_ec_"+t]=e,e},each:function(t,e){for(var n in void 0!==e&&(t=I(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n.slice(4))},removeKey:function(t){delete this["_ec_"+t]}},e.$override=function(t,e){v[t]=e},e.clone=y,e.merge=x,e.mergeAll=function(t,e){for(var n=t[0],i=1,o=t.length;i<o;i++)n=x(n,t[i],e);return n},e.extend=function(t,source){for(var e in source)source.hasOwnProperty(e)&&(t[e]=source[e]);return t},e.defaults=_,e.createCanvas=S,e.getContext=function(){return w||(w=S().getContext("2d")),w},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1},e.inherits=function(t,e){var n=t.prototype;function o(){}for(var r in o.prototype=e.prototype,t.prototype=new o,n)t.prototype[r]=n[r];t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,source,e){_(t="prototype"in t?t.prototype:t,source="prototype"in source?source.prototype:source,e)},e.isArrayLike=function(data){if(data)return"string"!=typeof data&&"number"==typeof data.length},e.each=M,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===f)return t.map(e,n);for(var o=[],i=0,r=t.length;i<r;i++)o.push(e.call(n,t[i],i,t));return o}},e.reduce=function(t,e,n,o){if(t&&e){if(t.reduce&&t.reduce===m)return t.reduce(e,n,o);for(var i=0,r=t.length;i<r;i++)n=e.call(o,n,t[i],i,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===c)return t.filter(e,n);for(var o=[],i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t)&&o.push(t[i]);return o}},e.find=function(t,e,n){if(t&&e)for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t))return t[i]},e.bind=I,e.curry=function(t){var e=d.call(arguments,1);return function(){return t.apply(this,e.concat(d.call(arguments)))}},e.isArray=T,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===r.call(t)},e.isObject=A,e.isBuiltInObject=C,e.isDom=L,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var i=0,e=arguments.length;i<e;i++)if(null!=arguments[i])return arguments[i]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(d,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.setAsPrimitive=function(t){t[D]=!0},e.isPrimitive=P,e.createHashMap=function(t){return new k(t)},e.noop=function(){}},function(t,e,n){n(223).__DEV__;var o=n(275),r=n(219),l=n(242),h=n(230),c=n(312),d=n(252),f=n(459),m=n(484),v=n(241),y=n(485),x=n(486),_=n(232),w=n(234),S=n(316),M=n(246),I=n(221),T=n(224),A=n(253).throttle,C=n(488),L=n(489),D=r.each,P=_.parseClassType,k=1e3,O=1e3,E=3e3,z={PROCESSOR:{FILTER:k,STATISTIC:5e3},VISUAL:{LAYOUT:O,GLOBAL:2e3,CHART:E,COMPONENT:4e3,BRUSH:5e3}},N="__flagInMainProcess",R="__optionUpdated",V=/^[a-zA-Z0-9_]+$/;function B(t){return function(e,n,o){e=e&&e.toLowerCase(),d.prototype[t].call(this,e,n,o)}}function G(){d.call(this)}function H(t,e,n){n=n||{},"string"==typeof e&&(e=gt[e]),this.id,this.group,this._dom=t;var l,h,f=this._zr=o.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});function y(a,b){return a.prio-b.prio}this._throttledZrFlush=A(r.bind(f.flush,f),17),(e=r.clone(e))&&x(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new v,this._api=(h=(l=this)._coordSysMgr,r.extend(new m(l),{getCoordinateSystems:r.bind(h.getCoordinateSystems,h),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return l._model.getComponent(e.mainType,e.index);t=t.parent}}})),d.call(this),this._messageCenter=new G,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],c(pt,y),c(ht,y),f.animation.on("frame",this._onframe,this),r.setAsPrimitive(this)}G.prototype.on=B("on"),G.prototype.off=B("off"),G.prototype.one=B("one"),r.mixin(G,d);var W=H.prototype;function F(t,e,n){var o,r=this._model,l=this._coordSysMgr.getCoordinateSystems();e=T.parseFinder(r,e);for(var i=0;i<l.length;i++){var h=l[i];if(h[t]&&null!=(o=h[t](r,e,n)))return o}}W._onframe=function(){if(this[R]){var t=this[R].silent;this[N]=!0,Z.prepareAndUpdate.call(this),this[N]=!1,this[R]=!1,X.call(this,t),Y.call(this,t)}},W.getDom=function(){return this._dom},W.getZr=function(){return this._zr},W.setOption=function(option,t,e){var n;if(r.isObject(t)&&(e=t.lazyUpdate,n=t.silent,t=t.notMerge),this[N]=!0,!this._model||t){var o=new y(this._api),l=this._theme;(this._model=new f(null,null,l,o)).init(null,null,l,o)}this._model.setOption(option,ct),e?(this[R]={silent:n},this[N]=!1):(Z.prepareAndUpdate.call(this),this._zr.flush(),this[R]=!1,this[N]=!1,X.call(this,n),Y.call(this,n))},W.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},W.getModel=function(){return this._model},W.getOption=function(){return this._model&&this._model.getOption()},W.getWidth=function(){return this._zr.getWidth()},W.getHeight=function(){return this._zr.getHeight()},W.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},W.getRenderedCanvas=function(t){if(h.canvasSupported){(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,n=e.storage.getDisplayList();return r.each(n,(function(t){t.stopAnimation(!0)})),e.painter.getRenderedCanvas(t)}},W.getSvgDataUrl=function(){if(h.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return r.each(e,(function(t){t.stopAnimation(!0)})),t.painter.pathToSvg()}},W.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,o=[],r=this;D(e,(function(t){n.eachComponent({mainType:t},(function(component){var view=r._componentsMap[component.__viewId];view.group.ignore||(o.push(view),view.group.ignore=!0)}))}));var l="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return D(o,(function(view){view.group.ignore=!1})),l},W.getConnectedDataURL=function(t){if(h.canvasSupported){var e=this.group,n=Math.min,l=Math.max;if(yt[e]){var c=1/0,d=1/0,f=-1/0,m=-1/0,v=[],y=t&&t.pixelRatio||1;r.each(vt,(function(o,h){if(o.group===e){var canvas=o.getRenderedCanvas(r.clone(t)),y=o.getDom().getBoundingClientRect();c=n(y.left,c),d=n(y.top,d),f=l(y.right,f),m=l(y.bottom,m),v.push({dom:canvas,left:y.left,top:y.top})}}));var x=(f*=y)-(c*=y),_=(m*=y)-(d*=y),w=r.createCanvas();w.width=x,w.height=_;var S=o.init(w);return D(v,(function(t){var img=new I.Image({style:{x:t.left*y-c,y:t.top*y-d,image:t.dom}});S.add(img)})),S.refreshImmediately(),w.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},W.convertToPixel=r.curry(F,"convertToPixel"),W.convertFromPixel=r.curry(F,"convertFromPixel"),W.containPixel=function(t,e){var n,o=this._model;return t=T.parseFinder(o,t),r.each(t,(function(t,o){o.indexOf("Models")>=0&&r.each(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(e);else if("seriesModels"===o){var view=this._chartsMap[t.__viewId];view&&view.containPoint&&(n|=view.containPoint(e,t))}}),this)}),this),!!n},W.getVisual=function(t,e){var n=this._model,data=(t=T.parseFinder(n,t,{defaultMainType:"series"})).seriesModel.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?data.indexOfRawIndex(t.dataIndex):null;return null!=o?data.getItemVisual(o,e):data.getVisual(e)},W.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},W.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Z={update:function(t){var e=this._model,n=this._api,o=this._coordSysMgr,r=this._zr;if(e){e.restoreData(),o.create(this._model,this._api),J.call(this,e,n),Q.call(this,e),o.update(e,n),et.call(this,e,t),nt.call(this,e,t);var c=e.get("backgroundColor")||"transparent",d=r.painter;if(d.isSingleCanvas&&d.isSingleCanvas())r.configLayer(0,{clearColor:c});else{if(!h.canvasSupported){var f=l.parse(c);c=l.stringify(f,"rgb"),0===f[3]&&(c="transparent")}c.colorStops||c.image?(r.configLayer(0,{clearColor:c}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&r.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=c)}D(ft,(function(t){t(e,n)}))}},updateView:function(t){var e=this._model;e&&(e.eachSeries((function(t){t.getData().clearAllVisual()})),et.call(this,e,t),$.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(e.eachSeries((function(t){t.getData().clearAllVisual()})),et.call(this,e,t,!0),$.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(tt.call(this,e,t),$.call(this,"updateLayout",e,t))},prepareAndUpdate:function(t){var e=this._model;K.call(this,"component",e),K.call(this,"chart",e),Z.update.call(this,t)}};function U(t,e,n,o,r){var l=t._model;if(o){var h={};h[o+"Id"]=n[o+"Id"],h[o+"Index"]=n[o+"Index"],h[o+"Name"]=n[o+"Name"];var c={mainType:o,query:h};r&&(c.subType=r),l&&l.eachComponent(c,(function(e,n){d(t["series"===o?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else D(t._componentsViews.concat(t._chartsViews),d);function d(view){view&&view.__alive&&view[e]&&view[e](view.__model,l,t._api,n)}}function j(t,e){var n=t.type,o=t.escapeConnect,l=lt[n],h=l.actionInfo,c=(h.update||"update").split(":"),d=c.pop();c=null!=c[0]&&P(c[0]),this[N]=!0;var f=[t],m=!1;t.batch&&(m=!0,f=r.map(t.batch,(function(e){return(e=r.defaults(r.extend({},e),t)).batch=null,e})));var v,y=[],x="highlight"===n||"downplay"===n;D(f,(function(t){(v=(v=l.action(t,this._model,this._api))||r.extend({},t)).type=h.event||v.type,y.push(v),x?U(this,d,t,"series"):c&&U(this,d,t,c.main,c.sub)}),this),"none"===d||x||c||(this[R]?(Z.prepareAndUpdate.call(this,t),this[R]=!1):Z[d].call(this,t)),v=m?{type:h.event||n,escapeConnect:o,batch:y}:y[0],this[N]=!1,!e&&this._messageCenter.trigger(v.type,v)}function X(t){for(var e=this._pendingActions;e.length;){var n=e.shift();j.call(this,n,t)}}function Y(t){!t&&this.trigger("updated")}function $(t,e,n){var o=this._api;D(this._componentsViews,(function(component){var r=component.__model;component[t](r,e,o,n),st(r,component)}),this),e.eachSeries((function(r,l){var h=this._chartsMap[r.__viewId];h[t](r,e,o,n),st(r,h),ot(r,h)}),this),at(this._zr,e),D(ft,(function(t){t(e,o)}))}function K(t,e){for(var n="component"===t,o=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,l=this._zr,i=0;i<o.length;i++)o[i].__alive=!1;e[n?"eachComponent":"eachSeries"]((function(t,h){if(n){if("series"===t)return}else h=t;var c="_ec_"+h.id+"_"+h.type,view=r[c];if(!view){var d=P(h.type),f=n?S.getClass(d.main,d.sub):M.getClass(d.sub);if(!f)return;(view=new f).init(e,this._api),r[c]=view,o.push(view),l.add(view.group)}h.__viewId=view.__id=c,view.__alive=!0,view.__model=h,view.group.__ecComponentInfo={mainType:h.mainType,index:h.componentIndex}}),this);for(i=0;i<o.length;){var view=o[i];view.__alive?i++:(l.remove(view.group),view.dispose(e,this._api),o.splice(i,1),delete r[view.__id],view.__id=view.group.__ecComponentInfo=null)}}function J(t,e){D(ht,(function(n){n.func(t,e)}))}function Q(t){var e={};t.eachSeries((function(t){var n=t.get("stack"),data=t.getData();if(n&&"list"===data.type){var o=e[n];e.hasOwnProperty(n)&&o&&(data.stackedOn=o),e[n]=data}}))}function tt(t,e){var n=this._api;D(pt,(function(o){o.isLayout&&o.func(t,n,e)}))}function et(t,e,n){var o=this._api;t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()})),D(pt,(function(r){(!n||!r.isLayout)&&r.func(t,o,e)}))}function nt(t,e){var n=this._api;D(this._componentsViews,(function(o){var r=o.__model;o.render(r,t,n,e),st(r,o)}),this),D(this._chartsViews,(function(t){t.__alive=!1}),this),t.eachSeries((function(o,r){var l=this._chartsMap[o.__viewId];l.__alive=!0,l.render(o,t,n,e),l.group.silent=!!o.get("silent"),st(o,l),ot(o,l)}),this),at(this._zr,t),D(this._chartsViews,(function(e){e.__alive||e.remove(t,n)}),this)}W.resize=function(t){this[N]=!0,this._zr.resize(t);var e=this._model&&this._model.resetOption("media");Z[e?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[N]=!1;var n=t&&t.silent;X.call(this,n),Y.call(this,n)},W.showLoading=function(t,e){if(r.isObject(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),mt[t]){var n=mt[t](this._api,e),o=this._zr;this._loadingFX=n,o.add(n)}},W.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},W.makeActionFromEvent=function(t){var e=r.extend({},t);return e.type=ut[t.type],e},W.dispatchAction=function(t,e){r.isObject(e)||(e={silent:!!e}),lt[t.type]&&this._model&&(this[N]?this._pendingActions.push(t):(j.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&h.browser.weChat&&this._throttledZrFlush(),X.call(this,e.silent),Y.call(this,e.silent)))},W.on=B("on"),W.off=B("off"),W.one=B("one");var it=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function at(t,e){var n=t.storage,o=0;n.traverse((function(t){t.isGroup||o++})),o>e.get("hoverLayerThreshold")&&!h.node&&n.traverse((function(t){t.isGroup||(t.useHoverLayer=!0)}))}function ot(t,e){var n=0;e.group.traverse((function(t){"group"===t.type||t.ignore||n++}));var o=+t.get("progressive"),r=n>t.get("progressiveThreshold")&&o&&!h.node;r&&e.group.traverse((function(t){t.isGroup||(t.progressive=r?Math.floor(n++/o):-1,r&&t.stopAnimation(!0))}));var l=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||t.setStyle("blend",l)}))}function st(t,view){var e=t.get("z"),n=t.get("zlevel");view.group.traverse((function(t){"group"!==t.type&&(null!=e&&(t.z=e),null!=n&&(t.zlevel=n))}))}W._initEvents=function(){D(it,(function(t){this._zr.on(t,(function(e){var n,o=this.getModel(),l=e.target;if("globalout"===t)n={};else if(l&&null!=l.dataIndex){var h=l.dataModel||o.getSeriesByIndex(l.seriesIndex);n=h&&h.getDataParams(l.dataIndex,l.dataType)||{}}else l&&l.eventData&&(n=r.extend({},l.eventData));n&&(n.event=e,n.type=t,this.trigger(t,n))}),this)}),this),D(ut,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},W.isDisposed=function(){return this._disposed},W.clear=function(){this.setOption({series:[]},!0)},W.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._api,e=this._model;D(this._componentsViews,(function(component){component.dispose(e,t)})),D(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete vt[this.id]}},r.mixin(H,d);var lt={},ut={},ht=[],ct=[],ft=[],pt=[],gt={},mt={},vt={},yt={},xt=new Date-0,_t=new Date-0,bt="_echarts_instance_",wt={};function St(t){yt[t]=!1}var Mt=St;function It(t){var e;return e=t.getAttribute?t.getAttribute(bt):t[bt],vt[e]}function Tt(t){ct.push(t)}function At(t,e,n){"function"==typeof e&&(n=e,e="");var o=r.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||o).toLowerCase(),e=t.event,r.assert(V.test(o)&&V.test(e)),lt[o]||(lt[o]={action:n,actionInfo:t}),ut[e]=o}function Ct(t,e){"function"==typeof t&&(e=t,t=E),pt.push({prio:t,func:e})}function Lt(t,e){mt[t]=e}Ct(2e3,C),Tt(x),Lt("default",L),At({type:"highlight",event:"highlight",update:"highlight"},r.noop),At({type:"downplay",event:"downplay",update:"downplay"},r.noop);e.version="3.8.5",e.dependencies={zrender:"3.7.4"},e.PRIORITY=z,e.init=function(t,e,n){var o=It(t);if(o)return o;var l=new H(t,e,n);return l.id="ec_"+xt++,vt[l.id]=l,t.setAttribute?t.setAttribute(bt,l.id):t[bt]=l.id,function(t){var e="__connectUpdateStatus";function n(t,n){for(var i=0;i<t.length;i++){t[i][e]=n}}r.each(ut,(function(o,l){t._messageCenter.on(l,(function(o){if(yt[t.group]&&0!==t[e]){if(o&&o.escapeConnect)return;var l=t.makeActionFromEvent(o),h=[];r.each(vt,(function(e){e!==t&&e.group===t.group&&h.push(e)})),n(h,0),D(h,(function(t){1!==t[e]&&t.dispatchAction(l)})),n(h,2)}}))}))}(l),l},e.connect=function(t){if(r.isArray(t)){var e=t;t=null,r.each(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+_t++,r.each(e,(function(e){e.group=t}))}return yt[t]=!0,t},e.disConnect=St,e.disconnect=Mt,e.dispose=function(t){"string"==typeof t?t=vt[t]:t instanceof H||(t=It(t)),t instanceof H&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=It,e.getInstanceById=function(t){return vt[t]},e.registerTheme=function(t,e){gt[t]=e},e.registerPreprocessor=Tt,e.registerProcessor=function(t,e){"function"==typeof t&&(e=t,t=k),ht.push({prio:t,func:e})},e.registerPostUpdate=function(t){ft.push(t)},e.registerAction=At,e.registerCoordinateSystem=function(t,e){v.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=v.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){"function"==typeof t&&(e=t,t=O),pt.push({prio:t,func:e,isLayout:!0})},e.registerVisual=Ct,e.registerLoading=Lt,e.extendComponentModel=function(t){return _.extend(t)},e.extendComponentView=function(t){return S.extend(t)},e.extendSeriesModel=function(t){return w.extend(t)},e.extendChartView=function(t){return M.extend(t)},e.setCanvasCreator=function(t){r.$override("createCanvas",t)},e.registerMap=function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),wt[t]={geoJson:e,specialAreas:n}},e.getMap=function(t){return wt[t]},e.dataTool={};var Dt=n(354);!function(){for(var t in Dt)Dt.hasOwnProperty(t)&&(e[t]=Dt[t])}()},function(t,e,n){var o=n(219),r=n(463),l=n(242),h=n(236),c=n(226),d=n(231),f=n(311),m=n(266);e.Image=m;var v=n(276);e.Group=v;var y=n(267);e.Text=y;var x=n(468);e.Circle=x;var _=n(469);e.Sector=_;var w=n(470);e.Ring=w;var S=n(471);e.Polygon=S;var M=n(474);e.Polyline=M;var I=n(475);e.Rect=I;var T=n(476);e.Line=T;var A=n(477);e.BezierCurve=A;var C=n(478);e.Arc=C;var L=n(479);e.CompoundPath=L;var D=n(352);e.LinearGradient=D;var P=n(480);e.RadialGradient=P;var k=n(228);e.BoundingRect=k;var O=Math.round,E=Math.max,z=Math.min,N={};function R(t,e,rect,n){var path=r.createFromString(t,e),o=path.getBoundingRect();return rect&&("center"===n&&(rect=V(rect,o)),G(path,rect)),path}function V(rect,t){var e,n=t.width/t.height,o=rect.height*n;return e=o<=rect.width?rect.height:(o=rect.width)/n,{x:rect.x+rect.width/2-o/2,y:rect.y+rect.height/2-e/2,width:o,height:e}}var B=r.mergePath;function G(path,rect){if(path.applyTransform){var t=path.getBoundingRect().calculateTransform(rect);path.applyTransform(t)}}function H(t,e,n){var o=O(2*t);return(o+O(e))%2==0?o/2:(o+(n?1:-1))/2}function W(t){return null!=t&&"none"!=t}function F(t){return"string"==typeof t?l.lift(t,-.1):t}function Z(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,o=t.__hoverStl;o.fill=o.fill||(W(n)?F(n):null),o.stroke=o.stroke||(W(e)?F(e):null);var r={};for(var l in o)null!=o[l]&&(r[l]=t.style[l]);t.__normalStl=r,t.__hoverStlDirty=!1}}function U(t){if(!t.__isHover){if(Z(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var style=t.style,e=style.insideRollbackOpt;e&&function(style){var t=style.insideRollback;t&&(style.textFill=t.textFill,style.textStroke=t.textStroke,style.textStrokeWidth=t.textStrokeWidth)}(style),style.extendFrom(t.__hoverStl),e&&(ot(style,style.insideOriginalTextPosition,e),null==style.textFill&&(style.textFill=e.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function j(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function X(t){"group"===t.type?t.traverse((function(t){"group"!==t.type&&U(t)})):U(t)}function Y(t){"group"===t.type?t.traverse((function(t){"group"!==t.type&&j(t)})):j(t)}function $(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&Z(t)}function K(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&X(this)}function J(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Y(this)}function Q(){this.__isEmphasis=!0,X(this)}function tt(){this.__isEmphasis=!1,Y(this)}function et(t,e,n,r,l){return nt(t,e,r,l),n&&o.extend(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function nt(t,e,n,r){if((n=n||N).isRectText){var l=e.getShallow("position")||(r?null:"inside");"outside"===l&&(l="top"),t.textPosition=l,t.textOffset=e.getShallow("offset");var h=e.getShallow("rotate");null!=h&&(h*=Math.PI/180),t.textRotation=h,t.textDistance=o.retrieve2(e.getShallow("distance"),r?null:5)}var c,d=e.ecModel,f=d&&d.option.textStyle,m=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||N).rich;if(n)for(var o in e=e||{},n)n.hasOwnProperty(o)&&(e[o]=1);t=t.parentModel}return e}(e);if(m)for(var v in c={},m)if(m.hasOwnProperty(v)){var y=e.getModel(["rich",v]);it(c[v]={},y,f,n,r)}return t.rich=c,it(t,e,f,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function it(t,e,n,r,l,h){if(n=!l&&n||N,t.textFill=at(e.getShallow("color"),r)||n.color,t.textStroke=at(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=o.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),!l){if(h){var c=t.textPosition;t.insideRollback=ot(t,c,r),t.insideOriginalTextPosition=c,t.insideRollbackOpt=r}null==t.textFill&&(t.textFill=r.autoColor)}t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),h&&r.disableBox||(t.textBackgroundColor=at(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=at(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function at(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function ot(t,e,n){var o,r=n.useInsideStyle;return null==t.textFill&&!1!==r&&(!0===r||n.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(o={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),o}function st(t,e,n,o,r,l){if("function"==typeof r&&(l=r,r=null),o&&o.isAnimationEnabled()){var h=t?"Update":"",c=o.getShallow("animationDuration"+h),d=o.getShallow("animationEasing"+h),f=o.getShallow("animationDelay"+h);"function"==typeof f&&(f=f(r,o.getAnimationDelayParams?o.getAnimationDelayParams(e,r):null)),"function"==typeof c&&(c=c(r)),c>0?e.animateTo(n,c,f||0,d,l,!!l):(e.stopAnimation(),e.attr(n),l&&l())}else e.stopAnimation(),e.attr(n),l&&l()}function lt(t,e,n,o,r){st(!0,t,e,n,o,r)}function ut(t,e,n){return e&&!o.isArrayLike(e)&&(e=f.getLocalTransform(e)),n&&(e=h.invert([],e)),c.applyTransform([],t,e)}e.extendShape=function(t){return d.extend(t)},e.extendPath=function(t,e){return r.extendFromString(t,e)},e.makePath=R,e.makeImage=function(t,rect,e){var path=new m({style:{image:t,x:rect.x,y:rect.y,width:rect.width,height:rect.height},onload:function(img){if("center"===e){var t={width:img.width,height:img.height};path.setStyle(V(rect,t))}}});return path},e.mergePath=B,e.resizePath=G,e.subPixelOptimizeLine=function(param){var t=param.shape,e=param.style.lineWidth;return O(2*t.x1)===O(2*t.x2)&&(t.x1=t.x2=H(t.x1,e,!0)),O(2*t.y1)===O(2*t.y2)&&(t.y1=t.y2=H(t.y1,e,!0)),param},e.subPixelOptimizeRect=function(param){var t=param.shape,e=param.style.lineWidth,n=t.x,o=t.y,r=t.width,l=t.height;return t.x=H(t.x,e,!0),t.y=H(t.y,e,!0),t.width=Math.max(H(n+r,e,!1)-t.x,0===r?0:1),t.height=Math.max(H(o+l,e,!1)-t.y,0===l?0:1),param},e.subPixelOptimize=H,e.setHoverStyle=function(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse((function(t){"group"!==t.type&&$(t,e)})):$(t,e),t.on("mouseover",K).on("mouseout",J),t.on("emphasis",Q).on("normal",tt)},e.setLabelStyle=function(t,e,n,r,l,h,c){var d=(l=l||N).labelFetcher,f=l.labelDataIndex,m=l.labelDimIndex,v=n.getShallow("show"),y=r.getShallow("show"),x=v||y?o.retrieve2(d?d.getFormattedLabel(f,"normal",null,m):null,l.defaultText):null,_=v?x:null,w=y?o.retrieve2(d?d.getFormattedLabel(f,"emphasis",null,m):null,x):null;null==_&&null==w||(et(t,n,h,l),et(e,r,c,l,!0)),t.text=_,e.text=w},e.setTextStyle=et,e.setText=function(t,e,n){var o,r={isRectText:!0};!1===n?o=!0:r.autoColor=n,nt(t,e,r,o),t.host&&t.host.dirty&&t.host.dirty(!1)},e.getFont=function(t,e){var n=e||e.getModel("textStyle");return[t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" ")},e.updateProps=lt,e.initProps=function(t,e,n,o,r){st(!1,t,e,n,o,r)},e.getTransform=function(t,e){for(var n=h.identity([]);t&&t!==e;)h.mul(n,t.getLocalTransform(),n),t=t.parent;return n},e.applyTransform=ut,e.transformDirection=function(t,e,n){var o=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),l=["left"===t?-o:"right"===t?o:0,"top"===t?-r:"bottom"===t?r:0];return l=ut(l,e,n),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"},e.groupTransition=function(t,e,n,r){if(t&&e){var l,h=(l={},t.traverse((function(t){!t.isGroup&&t.anid&&(l[t.anid]=t)})),l);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=h[t.anid];if(e){var o=d(t);t.attr(d(e)),lt(t,o,n,t.dataIndex)}}}))}function d(t){var e={position:c.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=o.extend({},t.shape)),e}},e.clipPointsByRect=function(t,rect){return o.map(t,(function(t){var e=t[0];e=E(e,rect.x),e=z(e,rect.x+rect.width);var n=t[1];return n=E(n,rect.y),[e,n=z(n,rect.y+rect.height)]}))},e.clipRectByRect=function(t,rect){var e=E(t.x,rect.x),n=z(t.x+t.width,rect.x+rect.width),o=E(t.y,rect.y),r=z(t.y+t.height,rect.y+rect.height);if(n>=e&&r>=o)return{x:e,y:o,width:n-e,height:r-o}},e.createIcon=function(t,e,rect){var style=(e=o.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(rect=rect||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(style.image=t.slice(8),o.defaults(style,rect),new m(e)):R(t.replace("path://",""),e,rect,"center")}},function(t,e,n){var o=n(219),r=1e-4;var l=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function h(t){return Math.floor(Math.log(t)/Math.LN10)}e.linearMap=function(t,e,n,o){var r=e[1]-e[0],l=n[1]-n[0];if(0===r)return 0===l?n[0]:(n[0]+n[1])/2;if(o)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*l+n[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort((function(a,b){return a-b})),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var o=+e.slice(n+1);return o<0?-o:0}var r=e.indexOf(".");return r<0?0:e.length-1-r},e.getPixelPrecision=function(t,e){var n=Math.log,o=Math.LN10,r=Math.floor(n(t[1]-t[0])/o),l=Math.round(n(Math.abs(e[1]-e[0]))/o),h=Math.min(Math.max(-r+l,0),20);return isFinite(h)?h:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var r=o.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===r)return 0;for(var l=Math.pow(10,n),h=o.map(t,(function(t){return(isNaN(t)?0:t)/r*l*100})),c=100*l,d=o.map(h,(function(t){return Math.floor(t)})),f=o.reduce(d,(function(t,e){return t+e}),0),m=o.map(h,(function(t,e){return t-d[e]}));f<c;){for(var v=Number.NEGATIVE_INFINITY,y=null,i=0,x=m.length;i<x;++i)m[i]>v&&(v=m[i],y=i);++d[y],m[y]=0,++f}return d[e]/l},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return t>-r&&t<r},e.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=l.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},e.quantity=function(t){return Math.pow(10,h(t))},e.nice=function(t,e){var n=h(t),o=Math.pow(10,n),r=t/o;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*o,n>=-20?+t.toFixed(n<0?-n:0):t},e.reformIntervals=function(t){t.sort((function(a,b){return function t(a,b,e){return a.interval[e]<b.interval[e]||a.interval[e]===b.interval[e]&&(a.close[e]-b.close[e]==(e?-1:1)||!e&&t(a,b,1))}(a,b,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var o=t[i].interval,r=t[i].close,l=0;l<2;l++)o[l]<=e&&(o[l]=e,r[l]=l?1:1-n),e=o[l],n=r[l];o[0]===o[1]&&r[0]*r[1]!=1?t.splice(i,1):i++}return t},e.isNumeric=function(t){return t-parseFloat(t)>=0}},function(t,e,n){(function(t){var n;"undefined"!=typeof window?n=window.__DEV__:void 0!==t&&(n=t.__DEV__),void 0===n&&(n=!0);var o=n;e.__DEV__=o}).call(this,n(35))},function(t,e,n){var o=n(219),r=n(227),l=n(222),h=n(229),c=o.each,d=o.isObject;function f(t){return t instanceof Array?t:null==t?[]:[t]}var m={getDataParams:function(t,e){var data=this.getData(e),n=this.getRawValue(t,e),o=data.getRawIndex(t),l=data.getName(t,!0),h=data.getRawDataItem(t),c=data.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:l,dataIndex:o,data:h,dataType:e,value:n,color:c,marker:r.getTooltipMarker(c),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,o,l){e=e||"normal";var h=this.getData(n).getItemModel(t),c=this.getDataParams(t,n);null!=o&&c.value instanceof Array&&(c.value=c.value[o]);var d=h.get([l||"label",e,"formatter"]);return"function"==typeof d?(c.status=e,d(c)):"string"==typeof d?r.formatTpl(d,c):void 0},getRawValue:function(t,e){var n=this.getData(e).getRawDataItem(t);if(null!=n)return!d(n)||n instanceof Array?n:n.value},formatTooltip:o.noop};function v(t){return d(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}var y,x=(y=0,function(){var t="\0__ec_prop_getter_"+y++;return function(e){return e[t]||(e[t]={})}});function _(t,e){return t&&t.hasOwnProperty(e)}e.normalizeToArray=f,e.defaultEmphasis=function(t,e){if(t)for(var n=t.emphasis=t.emphasis||{},o=t.normal=t.normal||{},i=0,r=e.length;i<r;i++){var l=e[i];!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&(n[l]=o[l])}},e.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],e.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},e.isDataItemOption=function(t){return d(t)&&!(t instanceof Array)},e.converDataValue=function(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+l.parseDate(t)),null==t||""===t?NaN:+t)},e.createDataFormatModel=function(data,t){var e=new h;return o.mixin(e,m),e.seriesIndex=t.seriesIndex,e.name=t.name||"",e.mainType=t.mainType,e.subType=t.subType,e.getData=function(){return data},e},e.dataFormatMixin=m,e.mappingToExists=function(t,e){e=(e||[]).slice();var n=o.map(t||[],(function(t,e){return{exist:t}}));return c(e,(function(t,o){if(d(t)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[o]=null);for(i=0;i<n.length;i++){var r=n[i].exist;if(!(n[i].option||null!=r.id&&null!=t.id||null==t.name||v(t)||v(r)||r.name!==t.name+""))return n[i].option=t,void(e[o]=null)}}})),c(e,(function(t,e){if(d(t)){for(var i=0;i<n.length;i++){var o=n[i].exist;if(!n[i].option&&!v(o)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}})),n},e.makeIdAndName=function(t){var e=o.createHashMap();c(t,(function(t,n){var o=t.exist;o&&e.set(o.id,t)})),c(t,(function(t,n){var r=t.option;o.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})})),c(t,(function(t,n){var o=t.exist,r=t.option,l=t.keyInfo;if(d(r)){if(l.name=null!=r.name?r.name+"":o?o.name:"\0-",o)l.id=o.id;else if(null!=r.id)l.id=r.id+"";else{var h=0;do{l.id="\0"+l.name+"\0"+h++}while(e.get(l.id))}e.set(l.id,t)}}))},e.isIdInner=v,e.compressBatches=function(t,e){var n={},o={};return r(t||[],n),r(e||[],o,n),[l(n),l(o)];function r(t,map,e){for(var i=0,n=t.length;i<n;i++)for(var o=t[i].seriesId,r=f(t[i].dataIndex),l=e&&e[o],h=0,c=r.length;h<c;h++){var d=r[h];l&&l[d]?l[d]=null:(map[o]||(map[o]={}))[d]=1}}function l(map,t){var e=[];for(var i in map)if(map.hasOwnProperty(i)&&null!=map[i])if(t)e.push(+i);else{var n=l(map[i],!0);n.length&&e.push({seriesId:i,dataIndex:n})}return e}},e.queryDataIndex=function(data,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?o.isArray(t.dataIndex)?o.map(t.dataIndex,(function(t){return data.indexOfRawIndex(t)})):data.indexOfRawIndex(t.dataIndex):null!=t.name?o.isArray(t.name)?o.map(t.name,(function(t){return data.indexOfName(t)})):data.indexOfName(t.name):void 0},e.makeGetter=x,e.parseFinder=function(t,e,n){if(o.isString(e)){var r={};r[e+"Index"]=0,e=r}var l=n&&n.defaultMainType;!l||_(e,l+"Index")||_(e,l+"Id")||_(e,l+"Name")||(e[l+"Index"]=0);var h={};return c(e,(function(r,l){r=e[l];if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],d=c[1],f=(c[2]||"").toLowerCase();if(!(!d||!f||null==r||"index"===f&&"none"===r||n&&n.includeMainTypes&&o.indexOf(n.includeMainTypes,d)<0)){var m={mainType:d};"index"===f&&"all"===r||(m[f]=r);var v=t.queryComponents(m);h[d+"Models"]=v,h[d+"Model"]=v[0]}}else h[l]=r})),h},e.dataDimToCoordDim=function(data,t){var e=data.dimensions;t=data.getDimension(t);for(var i=0;i<e.length;i++){var n=data.getDimensionInfo(e[i]);if(n.name===t)return n.coordDim}},e.coordDimToDataDim=function(data,t){var e=[];return c(data.dimensions,(function(n){var o=data.getDimensionInfo(n);o.coordDim===t&&(e[o.coordDimIndex]=o.name)})),e},e.otherDimToDataDim=function(data,t){var e=[];return c(data.dimensions,(function(n){var o=data.getDimensionInfo(n),r=o.otherDims[t];null!=r&&!1!==r&&(e[r]=o.name)})),e}},function(t,e,n){var o=n(219),r=n(228),l=n(222).parsePercent,h=n(227),c=o.each,d=["left","right","top","bottom","width","height"],f=[["width","left","right"],["height","top","bottom"]];function m(t,e,n,o,r){var l=0,h=0;null==o&&(o=1/0),null==r&&(r=1/0);var c=0;e.eachChild((function(d,f){var m,v,y=d.position,rect=d.getBoundingRect(),x=e.childAt(f+1),_=x&&x.getBoundingRect();if("horizontal"===t){var w=rect.width+(_?-_.x+rect.x:0);(m=l+w)>o||d.newline?(l=0,m=w,h+=c+n,c=rect.height):c=Math.max(c,rect.height)}else{var S=rect.height+(_?-_.y+rect.y:0);(v=h+S)>r||d.newline?(l+=c+n,h=0,v=S,c=rect.width):c=Math.max(c,rect.width)}d.newline||(y[0]=l,y[1]=h,"horizontal"===t?l=m+n:h=v+n)}))}var v=m,y=o.curry(m,"vertical"),x=o.curry(m,"horizontal");function _(t,e,n){n=h.normalizeCssArray(n||0);var o=e.width,c=e.height,d=l(t.left,o),f=l(t.top,c),m=l(t.right,o),v=l(t.bottom,c),y=l(t.width,o),x=l(t.height,c),_=n[2]+n[0],w=n[1]+n[3],S=t.aspect;switch(isNaN(y)&&(y=o-m-w-d),isNaN(x)&&(x=c-v-_-f),null!=S&&(isNaN(y)&&isNaN(x)&&(S>o/c?y=.8*o:x=.8*c),isNaN(y)&&(y=S*x),isNaN(x)&&(x=y/S)),isNaN(d)&&(d=o-m-y-w),isNaN(f)&&(f=c-v-x-_),t.left||t.right){case"center":d=o/2-y/2-n[3];break;case"right":d=o-y-w}switch(t.top||t.bottom){case"middle":case"center":f=c/2-x/2-n[0];break;case"bottom":f=c-x-_}d=d||0,f=f||0,isNaN(y)&&(y=o-w-d-(m||0)),isNaN(x)&&(x=c-_-f-(v||0));var rect=new r(d+n[3],f+n[0],y,x);return rect.margin=n,rect}function w(t,source){return source&&t&&c(d,(function(e){source.hasOwnProperty(e)&&(t[e]=source[e])})),t}e.LOCATION_PARAMS=d,e.HV_NAMES=f,e.box=v,e.vbox=y,e.hbox=x,e.getAvailableSize=function(t,e,n){var o=e.width,r=e.height,c=l(t.x,o),d=l(t.y,r),f=l(t.x2,o),m=l(t.y2,r);return(isNaN(c)||isNaN(parseFloat(t.x)))&&(c=0),(isNaN(f)||isNaN(parseFloat(t.x2)))&&(f=o),(isNaN(d)||isNaN(parseFloat(t.y)))&&(d=0),(isNaN(m)||isNaN(parseFloat(t.y2)))&&(m=r),n=h.normalizeCssArray(n||0),{width:Math.max(f-c-n[1]-n[3],0),height:Math.max(m-d-n[0]-n[2],0)}},e.getLayoutRect=_,e.positionElement=function(t,e,n,l,h){var c=!h||!h.hv||h.hv[0],d=!h||!h.hv||h.hv[1],f=h&&h.boundingMode||"all";if(c||d){var rect;if("raw"===f)rect="group"===t.type?new r(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(rect=t.getBoundingRect(),t.needLocalTransform()){var m=t.getLocalTransform();(rect=rect.clone()).applyTransform(m)}e=_(o.defaults({width:rect.width,height:rect.height},e),n,l);var v=t.position,y=c?e.x-rect.x:0,x=d?e.y-rect.y:0;t.attr("position","raw"===f?[y,x]:[v[0]+y,v[1]+x])}},e.sizeCalculable=function(option,t){return null!=option[f[t][0]]||null!=option[f[t][1]]&&null!=option[f[t][2]]},e.mergeLayoutParam=function(t,e,n){!o.isObject(n)&&(n={});var r=n.ignoreSize;!o.isArray(r)&&(r=[r,r]);var l=d(f[0],0),h=d(f[1],1);function d(n,o){var l={},h=0,d={},f=0;if(c(n,(function(e){d[e]=t[e]})),c(n,(function(t){m(e,t)&&(l[t]=d[t]=e[t]),v(l,t)&&h++,v(d,t)&&f++})),r[o])return v(e,n[1])?d[n[2]]=null:v(e,n[2])&&(d[n[1]]=null),d;if(2!==f&&h){if(h>=2)return l;for(var i=0;i<n.length;i++){var y=n[i];if(!m(l,y)&&m(t,y)){l[y]=t[y];break}}return l}return d}function m(t,e){return t.hasOwnProperty(e)}function v(t,e){return null!=t[e]&&"auto"!==t[e]}function y(t,e,source){c(t,(function(t){e[t]=source[t]}))}y(f[0],t,l),y(f[1],t,h)},e.getLayoutParams=function(source){return w({},source)},e.copyLayoutParams=w},function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function o(t){return Math.sqrt(l(t))}var r=o;function l(t){return t[0]*t[0]+t[1]*t[1]}var h=l;function c(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var d=c;function f(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var m=f;e.create=function(t,e){var o=new n(2);return null==t&&(t=0),null==e&&(e=0),o[0]=t,o[1]=e,o},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,a,b){return t[0]=a,t[1]=b,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=o,e.length=r,e.lenSquare=l,e.lengthSquare=h,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t},e.normalize=function(t,e){var n=o(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=c,e.dist=d,e.distanceSquare=f,e.distSquare=m,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,o){return t[0]=e[0]+o*(n[0]-e[0]),t[1]=e[1]+o*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var o=e[0],r=e[1];return t[0]=n[0]*o+n[2]*r+n[4],t[1]=n[1]*o+n[3]*r+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e,n){var o=n(219),r=n(240),l=n(222);var h=o.normalizeCssArray;function c(source){return String(source).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var d=["a","b","c","d","e","f","g"],f=function(t,e){return"{"+t+(null==e?"":e)+"}"};var m=function(t){return t<10?"0"+t:t};var v=r.truncateText,y=r.getBoundingRect;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=h,e.encodeHTML=c,e.formatTpl=function(t,e,n){o.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var l=e[0].$vars||[],i=0;i<l.length;i++){var h=d[i],m=f(h,0);t=t.replace(f(h),n?c(m):m)}for(var v=0;v<r;v++)for(var y=0;y<l.length;y++){m=e[v][l[y]];t=t.replace(f(d[y],v),n?c(m):m)}return t},e.formatTplSimple=function(t,param,e){return o.each(param,(function(n,o){t=t.replace("{"+o+"}",e?c(n):n)})),t},e.getTooltipMarker=function(t,e){return t?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+c(t)+";"+(e||"")+'"></span>':""},e.formatTime=function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var o=l.parseDate(e),r=n?"UTC":"",h=o["get"+r+"FullYear"](),c=o["get"+r+"Month"]()+1,d=o["get"+r+"Date"](),f=o["get"+r+"Hours"](),v=o["get"+r+"Minutes"](),s=o["get"+r+"Seconds"]();return t=t.replace("MM",m(c)).replace("M",c).replace("yyyy",h).replace("yy",h%100).replace("dd",m(d)).replace("d",d).replace("hh",m(f)).replace("h",f).replace("mm",m(v)).replace("m",v).replace("ss",m(s)).replace("s",s)},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=v,e.getTextRect=y},function(t,e,n){var o,r,l,rt,h=n(226),c=n(236),d=h.applyTransform,f=Math.min,m=Math.max;function v(t,e,n,o){n<0&&(t+=n,n=-n),o<0&&(e+=o,o=-o),this.x=t,this.y=e,this.width=n,this.height=o}v.prototype={constructor:v,union:function(t){var e=f(t.x,this.x),n=f(t.y,this.y);this.width=m(t.x+t.width,this.x+this.width)-e,this.height=m(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(o=[],r=[],l=[],rt=[],function(t){if(t){o[0]=l[0]=this.x,o[1]=rt[1]=this.y,r[0]=rt[0]=this.x+this.width,r[1]=l[1]=this.y+this.height,d(o,o,t),d(r,r,t),d(l,l,t),d(rt,rt,t),this.x=f(o[0],r[0],l[0],rt[0]),this.y=f(o[1],r[1],l[1],rt[1]);var e=m(o[0],r[0],l[0],rt[0]),n=m(o[1],r[1],l[1],rt[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(b){var a=this,t=b.width/a.width,e=b.height/a.height,n=c.create();return c.translate(n,n,[-a.x,-a.y]),c.scale(n,n,[t,e]),c.translate(n,n,[b.x,b.y]),n},intersect:function(b){if(!b)return!1;b instanceof v||(b=v.create(b));var a=this,t=a.x,e=a.x+a.width,n=a.y,o=a.y+a.height,r=b.x,l=b.x+b.width,h=b.y,c=b.y+b.height;return!(e<r||l<t||o<h||c<n)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new v(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},v.create=function(rect){return new v(rect.x,rect.y,rect.width,rect.height)};var y=v;t.exports=y},function(t,e,n){var o=n(219),r=n(230),l=n(244),h=n(460),c=n(461),d=n(462),f=n(481),m=o.mixin;function v(option,t,e){this.parentModel=t,this.ecModel=e,this.option=option}function y(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function x(t,path){var e=l.get(t,"getParent");return e?e.call(t,path):t.parentModel}v.prototype={constructor:v,init:null,mergeOption:function(option){o.merge(this.option,option,!0)},get:function(path,t){return null==path?this.option:y(this.option,this.parsePath(path),!t&&x(this,path))},getShallow:function(t,e){var option=this.option,n=null==option?option:option[t],o=!e&&x(this,t);return null==n&&o&&(n=o.getShallow(t)),n},getModel:function(path,t){var e;return new v(null==path?this.option:y(this.option,path=this.parsePath(path)),t=t||(e=x(this,path))&&e.getModel(path),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(o.clone(this.option))},setReadOnly:function(t){l.setReadOnly(this,t)},parsePath:function(path){return"string"==typeof path&&(path=path.split(".")),path},customizeGetParent:function(t){l.set(this,"getParent",t)},isAnimationEnabled:function(){if(!r.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},l.enableClassExtend(v),m(v,h),m(v,c),m(v,d),m(v,f);var _=v;t.exports=_},function(t,e){var n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),l=/micromessenger/i.test(t);n&&(e.firefox=!0,e.version=n[1]);o&&(e.ie=!0,e.version=o[1]);r&&(e.edge=!0,e.version=r[1]);l&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11)}}(navigator.userAgent);t.exports=n},function(t,e,n){var o=n(278),r=n(219),l=n(260),h=n(464),c=n(342).prototype.getCanvasPattern,d=Math.abs,f=new l(!0);function m(t){o.call(this,t),this.path=null}m.prototype={constructor:m,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var rect,style=this.style,path=this.path||f,n=style.hasStroke(),o=style.hasFill(),r=style.fill,l=style.stroke,h=o&&!!r.colorStops,d=n&&!!l.colorStops,m=o&&!!r.image,v=n&&!!l.image;(style.bind(t,this,e),this.setTransform(t),this.__dirty)&&(h&&(rect=rect||this.getBoundingRect(),this._fillGradient=style.getGradient(t,r,rect)),d&&(rect=rect||this.getBoundingRect(),this._strokeGradient=style.getGradient(t,l,rect)));h?t.fillStyle=this._fillGradient:m&&(t.fillStyle=c.call(r,t)),d?t.strokeStyle=this._strokeGradient:v&&(t.strokeStyle=c.call(l,t));var y=style.lineDash,x=style.lineDashOffset,_=!!t.setLineDash,w=this.getGlobalScale();path.setScale(w[0],w[1]),this.__dirtyPath||y&&!_&&n?(path.beginPath(t),y&&!_&&(path.setLineDash(y),path.setLineDashOffset(x)),this.buildPath(path,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&&path.fill(t),y&&_&&(t.setLineDash(y),t.lineDashOffset=x),n&&path.stroke(t),y&&_&&t.setLineDash([]),this.restoreTransform(t),null!=style.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new l},getBoundingRect:function(){var rect=this._rect,style=this.style,t=!rect;if(t){var path=this.path;path||(path=this.path=new l),this.__dirtyPath&&(path.beginPath(),this.buildPath(path,this.shape,!1)),rect=path.getBoundingRect()}if(this._rect=rect,style.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=rect.clone());if(this.__dirty||t){e.copy(rect);var n=style.lineWidth,o=style.strokeNoScale?this.getLineScale():1;style.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),o>1e-10&&(e.width+=n/o,e.height+=n/o,e.x-=n/o/2,e.y-=n/o/2)}return e}return rect},contain:function(t,e){var n=this.transformCoordToLocal(t,e),rect=this.getBoundingRect(),style=this.style;if(t=n[0],e=n[1],rect.contain(t,e)){var o=this.path.data;if(style.hasStroke()){var r=style.lineWidth,l=style.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(style.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),h.containStroke(o,r/l,t,e)))return!0}if(style.hasFill())return h.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):o.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(r.isObject(t))for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&d(t[0]-1)>1e-10&&d(t[3]-1)>1e-10?Math.sqrt(d(t[0]*t[3]-t[2]*t[1])):1}},m.extend=function(t){var e=function(e){m.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var o=this.shape;for(var r in n)!o.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(o[r]=n[r])}t.init&&t.init.call(this,e)};for(var n in r.inherits(e,m),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},r.inherits(m,o);var v=m;t.exports=v},function(t,e,n){var o=n(219),r=n(229),l=n(315),h=n(244),c=n(225),d=n(482),f=Array.prototype.push,m=r.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(option,t,e,n){r.call(this,option,t,e,n),this.uid=l.getUID("componentModel")},init:function(option,t,e,n){this.mergeDefaultAndTheme(option,e)},mergeDefaultAndTheme:function(option,t){var e=this.layoutMode,n=e?c.getLayoutParams(option):{},r=t.getTheme();o.merge(option,r.get(this.mainType)),o.merge(option,this.getDefaultOption()),e&&c.mergeLayoutParam(option,n,e)},mergeOption:function(option,t){o.merge(this.option,option,!0);var e=this.layoutMode;e&&c.mergeLayoutParam(this.option,option,e)},optionUpdated:function(t,e){},getDefaultOption:function(){if(!h.hasOwn(this,"__defaultOption")){for(var t=[],e=this.constructor;e;){var n=e.prototype.defaultOption;n&&t.push(n),e=e.superClass}for(var r={},i=t.length-1;i>=0;i--)r=o.merge(r,t[i],!0);h.set(this,"__defaultOption",r)}return h.get(this,"__defaultOption")},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});h.enableClassManagement(m,{registerWhenExtend:!0}),l.enableSubTypeDefaulter(m),l.enableTopologicalTravel(m,(function(t){var e=[];return o.each(m.getClassesByMainType(t),(function(t){f.apply(e,t.prototype.dependencies||[])})),o.map(e,(function(t){return h.parseClassType(t).main}))})),o.mixin(m,d);var v=m;t.exports=v},function(t,e,n){(function(e){n(223).__DEV__;var o=n(219),r=n(229),l=n(261),h=n(224),c=o.isObject,d="undefined"==typeof window?e:window,f={float:void 0===d.Float64Array?Array:d.Float64Array,int:void 0===d.Int32Array?Array:d.Int32Array,ordinal:Array,number:Array,time:Array},m=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];function v(a,b){o.each(m.concat(b.__wrappedMethods||[]),(function(t){b.hasOwnProperty(t)&&(a[t]=b[t])})),a.__wrappedMethods=b.__wrappedMethods}function y(t){this._array=t||[]}y.prototype.pure=!1,y.prototype.count=function(){return this._array.length},y.prototype.getItem=function(t){return this._array[t]};var x=function(t,e){t=t||["x","y"];for(var n={},o=[],i=0;i<t.length;i++){var r,l={};"string"==typeof t[i]?l={name:r=t[i],coordDim:r,coordDimIndex:0,stackable:!1,type:"number"}:(r=(l=t[i]).name,l.type=l.type||"number",l.coordDim||(l.coordDim=r,l.coordDimIndex=0)),l.otherDims=l.otherDims||{},o.push(r),n[r]=l}this.dimensions=o,this._dimensionInfos=n,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},_=x.prototype;function w(t){return o.isArray(t)||(t=[t]),t}function S(t,e){var n=t.dimensions,r=new x(o.map(n,t.getDimensionInfo,t),t.hostModel);v(r,t);for(var l=r._storage={},h=t._storage,i=0;i<n.length;i++){var c=n[i],d=h[c];o.indexOf(e,c)>=0?l[c]=new d.constructor(h[c].length):l[c]=h[c]}return r}_.type="list",_.hasItemOption=!0,_.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},_.getDimensionInfo=function(t){return o.clone(this._dimensionInfos[this.getDimension(t)])},_.initData=function(data,t,e){data=data||[],o.isArray(data)&&(data=new y(data)),this._rawData=data;var n,r=this._storage={},l=this.indices=[],c=this.dimensions,d=this._dimensionInfos,m=data.count(),v=[],x={};t=t||[];for(var i=0;i<c.length;i++){var _=d[c[i]];0===_.otherDims.itemName&&(n=i);var w=f[_.type];r[c[i]]=new w(m)}var S=this;e||(S.hasItemOption=!1),e=e||function(t,e,n,o){var r=h.getDataItemValue(t);return h.isDataItemOption(t)&&(S.hasItemOption=!0),h.converDataValue(r instanceof Array?r[o]:r,d[e])};for(i=0;i<m;i++){for(var M=data.getItem(i),I=0;I<c.length;I++){var T=c[I];r[T][i]=e(M,T,i,I)}l.push(i)}for(i=0;i<m;i++){M=data.getItem(i);!t[i]&&M&&(null!=M.name?t[i]=M.name:null!=n&&(t[i]=r[c[n]][i]));var A=t[i]||"",C=M&&M.id;!C&&A&&(x[A]=x[A]||0,C=A,x[A]>0&&(C+="__ec__"+x[A]),x[A]++),C&&(v[i]=C)}this._nameList=t,this._idList=v},_.count=function(){return this.indices.length},_.get=function(t,e,n){var o=this._storage,r=this.indices[e];if(null==r||!o[t])return NaN;var l=o[t][r];if(n){var h=this._dimensionInfos[t];if(h&&h.stackable)for(var c=this.stackedOn;c;){var d=c.get(t,e);(l>=0&&d>0||l<=0&&d<0)&&(l+=d),c=c.stackedOn}}return l},_.getValues=function(t,e,n){var r=[];o.isArray(t)||(n=e,e=t,t=this.dimensions);for(var i=0,l=t.length;i<l;i++)r.push(this.get(t[i],e,n));return r},_.hasValue=function(t){for(var e=this.dimensions,n=this._dimensionInfos,i=0,o=e.length;i<o;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},_.getDataExtent=function(t,e,filter){t=this.getDimension(t);var n=this._storage[t],o=this.getDimensionInfo(t);e=o&&o.stackable&&e;var r,l=(this._extent||(this._extent={}))[t+!!e];if(l)return l;if(n){for(var h=1/0,c=-1/0,i=0,d=this.count();i<d;i++)r=this.get(t,i,e),filter&&!filter(r,t,i)||(r<h&&(h=r),r>c&&(c=r));return this._extent[t+!!e]=[h,c]}return[1/0,-1/0]},_.getSum=function(t,e){var n=0;if(this._storage[t])for(var i=0,o=this.count();i<o;i++){var r=this.get(t,i,e);isNaN(r)||(n+=r)}return n},_.indexOf=function(t,e){var n=this._storage[t],o=this.indices;if(n)for(var i=0,r=o.length;i<r;i++){if(n[o[i]]===e)return i}return-1},_.indexOfName=function(t){for(var e=this.indices,n=this._nameList,i=0,o=e.length;i<o;i++){if(n[e[i]]===t)return i}return-1},_.indexOfRawIndex=function(t){var e=this.indices,n=e[t];if(null!=n&&n===t)return t;for(var o=0,r=e.length-1;o<=r;){var l=(o+r)/2|0;if(e[l]<t)o=l+1;else{if(!(e[l]>t))return l;r=l-1}}return-1},_.indicesOfNearest=function(t,e,n,o){var r=[];if(!this._storage[t])return r;null==o&&(o=1/0);for(var l=Number.MAX_VALUE,h=-1,i=0,c=this.count();i<c;i++){var d=e-this.get(t,i,n),f=Math.abs(d);d<=o&&f<=l&&((f<l||d>=0&&h<0)&&(l=f,h=d,r.length=0),r.push(i))}return r},_.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},_.getRawDataItem=function(t){return this._rawData.getItem(this.getRawIndex(t))},_.getName=function(t){return this._nameList[this.indices[t]]||""},_.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},_.each=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]);var l=[],h=(t=o.map(w(t),this.getDimension,this)).length,c=this.indices;r=r||this;for(var i=0;i<c.length;i++)switch(h){case 0:e.call(r,i);break;case 1:e.call(r,this.get(t[0],i,n),i);break;case 2:e.call(r,this.get(t[0],i,n),this.get(t[1],i,n),i);break;default:for(var d=0;d<h;d++)l[d]=this.get(t[d],i,n);l[d]=i,e.apply(r,l)}},_.filterSelf=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]);var l=[],h=[],c=(t=o.map(w(t),this.getDimension,this)).length,d=this.indices;r=r||this;for(var i=0;i<d.length;i++){var f;if(c)if(1===c)f=e.call(r,this.get(t[0],i,n),i);else{for(var m=0;m<c;m++)h[m]=this.get(t[m],i,n);h[m]=i,f=e.apply(r,h)}else f=e.call(r,i);f&&l.push(d[i])}return this.indices=l,this._extent={},this},_.mapArray=function(t,e,n,o){"function"==typeof t&&(o=n,n=e,e=t,t=[]);var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n,o),r},_.map=function(t,e,n,r){var l=S(this,t=o.map(w(t),this.getDimension,this)),h=l.indices=this.indices,c=l._storage,d=[];return this.each(t,(function(){var n=arguments[arguments.length-1],o=e&&e.apply(this,arguments);if(null!=o){"number"==typeof o&&(d[0]=o,o=d);for(var i=0;i<o.length;i++){var r=t[i],l=c[r],f=h[n];l&&(l[f]=o[i])}}}),n,r),l},_.downSample=function(t,e,n,o){for(var r=S(this,[t]),l=this._storage,h=r._storage,c=this.indices,d=r.indices=[],f=[],m=[],v=Math.floor(1/e),y=h[t],x=this.count(),i=0;i<l[t].length;i++)h[t][i]=l[t][i];for(i=0;i<x;i+=v){v>x-i&&(v=x-i,f.length=v);for(var _=0;_<v;_++){var w=c[i+_];f[_]=y[w],m[_]=w}var M=n(f);y[w=m[o(f,M)||0]]=M,d.push(w)}return r},_.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new r(this._rawData.getItem(t),e,e&&e.ecModel)},_.diff=function(t){var e,n=this._idList,o=t&&t._idList;return new l(t?t.indices:[],this.indices,(function(t){return null!=(e=o[t])?e:"e\0\0"+t}),(function(t){return null!=(e=n[t])?e:"e\0\0"+t}))},_.getVisual=function(t){var e=this._visual;return e&&e[t]},_.setVisual=function(t,e){if(c(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},_.setLayout=function(t,e){if(c(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},_.getLayout=function(t){return this._layout[t]},_.getItemLayout=function(t){return this._itemLayouts[t]},_.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?o.extend(this._itemLayouts[t]||{},e):e},_.clearItemLayouts=function(){this._itemLayouts.length=0},_.getItemVisual=function(t,e,n){var o=this._itemVisuals[t],r=o&&o[e];return null!=r||n?r:this.getVisual(e)},_.setItemVisual=function(t,e,n){var o=this._itemVisuals[t]||{};if(this._itemVisuals[t]=o,c(e))for(var r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);else o[e]=n},_.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var M=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};_.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(M,e)),this._graphicEls[t]=e},_.getItemGraphicEl=function(t){return this._graphicEls[t]},_.eachItemGraphicEl=function(t,e){o.each(this._graphicEls,(function(n,o){n&&t&&t.call(e,n,o)}))},_.cloneShallow=function(){var t=o.map(this.dimensions,this.getDimensionInfo,this),e=new x(t,this.hostModel);return e._storage=this._storage,v(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=o.extend({},this._extent)),e},_.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(o.slice(arguments)))})},_.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],_.CHANGABLE_METHODS=["filterSelf"];var I=x;t.exports=I}).call(this,n(35))},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(230),l=n(227),h=l.formatTime,c=l.encodeHTML,d=l.addCommas,f=l.getTooltipMarker,m=n(244),v=m.set,y=m.get,x=n(224),_=n(232),w=n(353),S=n(225),M=S.getLayoutParams,I=S.mergeLayoutParam,T=_.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(option,t,e,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(option,e);var data=this.getInitialData(option,e);v(this,"dataBeforeProcessed",data),this.restoreData()},mergeDefaultAndTheme:function(option,t){var e=this.layoutMode,n=e?M(option):{},r=this.subType;_.hasClass(r)&&(r+="Series"),o.merge(option,t.getTheme().get(this.subType)),o.merge(option,this.getDefaultOption()),x.defaultEmphasis(option.label,["show"]),this.fillDataTextStyle(option.data),e&&I(option,n,e)},mergeOption:function(t,e){t=o.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&I(this.option,t,n);var data=this.getInitialData(t,e);data&&(v(this,"data",data),v(this,"dataBeforeProcessed",data.cloneShallow()))},fillDataTextStyle:function(data){if(data)for(var t=["show"],i=0;i<data.length;i++)data[i]&&data[i].label&&x.defaultEmphasis(data[i].label,t)},getInitialData:function(){},getData:function(t){var data=y(this,"data");return null==t?data:data.getLinkedData(t)},setData:function(data){v(this,"data",data)},getRawData:function(){return y(this,"dataBeforeProcessed")},coordDimToDataDim:function(t){return x.coordDimToDataDim(this.getData(),t)},dataDimToCoordDim:function(t){return x.dataDimToCoordDim(this.getData(),t)},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n){var data=y(this,"data"),r=this.getRawValue(t),l=o.isArray(r)?function(n){var r=o.reduce(n,(function(t,e,n){var o=data.getDimensionInfo(n);return t|(o&&!1!==o.tooltip&&null!=o.tooltipName)}),0),l=[],f=x.otherDimToDataDim(data,"tooltip");function m(t,n){var o=data.getDimensionInfo(n);if(o&&!1!==o.otherDims.tooltip){var f=o.type,m=(r?"- "+(o.tooltipName||o.name)+": ":"")+("ordinal"===f?t+"":"time"===f?e?"":h("yyyy/MM/dd hh:mm:ss",t):d(t));m&&l.push(c(m))}}return f.length?o.each(f,(function(e){m(data.get(e,t),e)})):o.each(n,m),(r?"<br/>":"")+l.join(r?"<br/>":", ")}(r):c(d(r)),m=data.getName(t),v=data.getItemVisual(t,"color");o.isObject(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color);var _=f(v=v||"transparent"),w=this.name;return"\0-"===w&&(w=""),w=w?c(w)+(e?": ":"<br/>"):"",e?_+w+l:w+_+(m?c(m)+": "+l:l)},isAnimationEnabled:function(){if(r.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){v(this,"data",y(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(t,e){var n=this.ecModel,o=w.getColorFromPalette.call(this,t,e);return o||(o=n.getColorFromPalette(t,e)),o},getAxisTooltipData:null,getTooltipPosition:null});o.mixin(T,x.dataFormatMixin),o.mixin(T,w);var A=T;t.exports=A},,function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}e.create=function(){var t=new n(6);return o(t),t},e.identity=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.mul=function(t,e,n){var o=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],l=e[0]*n[2]+e[2]*n[3],h=e[1]*n[2]+e[3]*n[3],c=e[0]*n[4]+e[2]*n[5]+e[4],d=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=o,t[1]=r,t[2]=l,t[3]=h,t[4]=c,t[5]=d,t},e.translate=function(t,a,e){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4]+e[0],t[5]=a[5]+e[1],t},e.rotate=function(t,a,e){var n=a[0],o=a[2],r=a[4],l=a[1],h=a[3],c=a[5],d=Math.sin(e),f=Math.cos(e);return t[0]=n*f+l*d,t[1]=-n*d+l*f,t[2]=o*f+h*d,t[3]=-o*d+f*h,t[4]=f*r+d*c,t[5]=f*c-d*r,t},e.scale=function(t,a,e){var n=e[0],o=e[1];return t[0]=a[0]*n,t[1]=a[1]*o,t[2]=a[2]*n,t[3]=a[3]*o,t[4]=a[4]*n,t[5]=a[5]*o,t},e.invert=function(t,a){var e=a[0],n=a[2],o=a[4],r=a[1],l=a[3],h=a[5],c=e*l-r*n;return c?(c=1/c,t[0]=l*c,t[1]=-r*c,t[2]=-n*c,t[3]=e*c,t[4]=(n*h-l*o)*c,t[5]=(r*o-e*h)*c,t):null}},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(240),l=n(491),h=n(282),c=n(281),d=n(222);function f(t,e){var n,r,span,l=t.type,h=e.getMin(),c=e.getMax(),f=null!=h,m=null!=c,v=t.getExtent();return"ordinal"===l?n=(e.get("data")||[]).length:(r=e.get("boundaryGap"),o.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=d.parsePercent(r[0],1),r[1]=d.parsePercent(r[1],1),span=v[1]-v[0]||Math.abs(v[0])),null==h&&(h="ordinal"===l?n?0:NaN:v[0]-r[0]*span),null==c&&(c="ordinal"===l?n?n-1:NaN:v[1]+r[1]*span),"dataMin"===h?h=v[0]:"function"==typeof h&&(h=h({min:v[0],max:v[1]})),"dataMax"===c?c=v[1]:"function"==typeof c&&(c=c({min:v[0],max:v[1]})),(null==h||!isFinite(h))&&(h=NaN),(null==c||!isFinite(c))&&(c=NaN),t.setBlank(o.eqNaN(h)||o.eqNaN(c)),e.getNeedCrossZero()&&(h>0&&c>0&&!f&&(h=0),h<0&&c<0&&!m&&(c=0)),[h,c]}function m(t,e){return"category"===t.type?t.scale.getLabel(e):e}n(492),n(493),e.getScaleExtent=f,e.niceScaleExtent=function(t,e){var n=f(t,e),o=null!=e.getMin(),r=null!=e.getMax(),l=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var h=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:l,fixMin:o,fixMax:r,minInterval:"interval"===h||"time"===h?e.get("minInterval"):null,maxInterval:"interval"===h||"time"===h?e.get("maxInterval"):null});var c=e.get("interval");null!=c&&t.setInterval&&t.setInterval(c)},e.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new l(t.getCategories(),[1/0,-1/0]);case"value":return new h;default:return(c.getClass(e)||h).create(t)}},e.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],o=e[1];return!(n>0&&o>0||n<0&&o<0)},e.getAxisLabelInterval=function(t,e,n,o,l){var h,c=0,d=0,f=(o-l)/180*Math.PI,m=1;e.length>40&&(m=Math.floor(e.length/40));for(var i=0;i<t.length;i+=m){var v=t[i],rect=r.getBoundingRect(e[i],n,"center","top");rect.x+=v*Math.cos(f),rect.y+=v*Math.sin(f),rect.width*=1.3,rect.height*=1.3,h?h.intersect(rect)?(d++,c=Math.max(c,d)):(h.union(rect),d=0):h=rect.clone()}return 0===c&&m>1?m:(c+1)*m-1},e.getFormattedLabels=function(t,e){var n,r=t.scale,l=r.getTicksLabels(),h=r.getTicks();return"string"==typeof e?(n=e,e=function(t){return n.replace("{value}",null!=t?t:"")},o.map(l,e)):"function"==typeof e?o.map(h,(function(n,o){return e(m(t,n),o)}),this):l},e.getAxisRawValue=m},function(t,e,n){var o=n(219),r=n(221),l=n(228),h=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,t){var e=t.cx,n=t.cy,o=t.width/2,r=t.height/2;path.moveTo(e,n-r),path.lineTo(e+o,n+r),path.lineTo(e-o,n+r),path.closePath()}}),c=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(path,t){var e=t.cx,n=t.cy,o=t.width/2,r=t.height/2;path.moveTo(e,n-r),path.lineTo(e+o,n),path.lineTo(e,n+r),path.lineTo(e-o,n),path.closePath()}}),d=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(path,t){var e=t.x,n=t.y,o=t.width/5*3,r=Math.max(o,t.height),l=o/2,h=l*l/(r-l),c=n-r+l+h,d=Math.asin(h/l),f=Math.cos(d)*l,m=Math.sin(d),v=Math.cos(d),y=.6*l,x=.7*l;path.moveTo(e-f,c+h),path.arc(e,c,l,Math.PI-d,2*Math.PI+d),path.bezierCurveTo(e+f-m*y,c+h+v*y,e,n-x,e,n),path.bezierCurveTo(e,n-x,e-f+m*y,c+h+v*y,e-f,c+h),path.closePath()}}),f=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,o=e.width,r=e.x,l=e.y,h=o/3*2;t.moveTo(r,l),t.lineTo(r+h,l+n),t.lineTo(r,l+n/4*3),t.lineTo(r-h,l+n),t.lineTo(r,l),t.closePath()}}),m={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:c,pin:d,arrow:f,triangle:h},v={line:function(t,e,n,o,r){r.x1=t,r.y1=e+o/2,r.x2=t+n,r.y2=e+o/2},rect:function(t,e,n,o,r){r.x=t,r.y=e,r.width=n,r.height=o},roundRect:function(t,e,n,o,r){r.x=t,r.y=e,r.width=n,r.height=o,r.r=Math.min(n,o)/4},square:function(t,e,n,o,r){var l=Math.min(n,o);r.x=t,r.y=e,r.width=l,r.height=l},circle:function(t,e,n,o,r){r.cx=t+n/2,r.cy=e+o/2,r.r=Math.min(n,o)/2},diamond:function(t,e,n,o,r){r.cx=t+n/2,r.cy=e+o/2,r.width=n,r.height=o},pin:function(t,e,n,o,r){r.x=t+n/2,r.y=e+o/2,r.width=n,r.height=o},arrow:function(t,e,n,o,r){r.x=t+n/2,r.y=e+o/2,r.width=n,r.height=o},triangle:function(t,e,n,o,r){r.cx=t+n/2,r.cy=e+o/2,r.width=n,r.height=o}},y={};o.each(m,(function(t,e){y[e]=new t}));var x=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var style=this.style;"pin"===this.shape.symbolType&&"inside"===style.textPosition&&(style.textPosition=["50%","40%"],style.textAlign="center",style.textVerticalAlign="middle")},buildPath:function(t,e,n){var o=e.symbolType,r=y[o];"none"!==e.symbolType&&(r||(r=y[o="rect"]),v[o](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n))}});function _(t,e){if("image"!==this.type){var n=this.style,o=this.shape;o&&"line"===o.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}e.createSymbol=function(t,e,n,o,h,c,d){var f,m=0===t.indexOf("empty");return m&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(f=0===t.indexOf("image://")?r.makeImage(t.slice(8),new l(e,n,o,h),d?"center":"cover"):0===t.indexOf("path://")?r.makePath(t.slice(7),{},new l(e,n,o,h),d?"center":"cover"):new x({shape:{symbolType:t,x:e,y:n,width:o,height:h}})).__isEmptyBrush=m,f.setColor=_,f.setColor(c),f}},function(t,e,n){var o=n(219),r=n(224).normalizeToArray,l=o.each,h=o.isString,c=o.defaults,d={tooltip:1,label:1,itemName:1};function f(t,data,e){data=data||[],e=e||{},t=(t||[]).slice();var n=(e.dimsDef||[]).slice(),f=o.createHashMap(e.encodeDef),y=o.createHashMap(),x=o.createHashMap(),_=[],w=e.dimCount;if(null==w){var S=v(data[0]);w=Math.max(o.isArray(S)&&S.length||1,t.length,n.length),l(t,(function(t){var e=t.dimsDef;e&&(w=Math.max(w,e.length))}))}for(var i=0;i<w;i++){var M=h(n[i])?{name:n[i]}:n[i]||{},I=M.name,T=_[i]={otherDims:{}};null!=I&&null==y.get(I)&&(T.name=T.tooltipName=I,y.set(I,i)),null!=M.type&&(T.type=M.type)}f.each((function(t,e){t=f.set(e,r(t).slice()),l(t,(function(n,o){h(n)&&(n=y.get(n)),null!=n&&n<w&&(t[o]=n,D(_[n],e,o))}))}));var A=0;l(t,(function(t,e){var n,d,m;h(t)?(n=t,t={}):(n=t.name,t=o.clone(t),d=t.dimsDef,m=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null);var v=r(f.get(n));if(!v.length)for(var i=0;i<(d&&d.length||1);i++){for(;A<_.length&&null!=_[A].coordDim;)A++;A<_.length&&v.push(A++)}l(v,(function(e,o){var r=_[e];D(c(r,t),n,o),null==r.name&&d&&(r.name=r.tooltipName=d[o]),m&&c(r.otherDims,m)}))}));for(var C=e.extraPrefix||"value",L=0;L<w;L++){null==(T=_[L]=_[L]||{}).coordDim&&(T.coordDim=P(C,x,e.extraFromZero),T.coordDimIndex=0,T.isExtraCoord=!0),null==T.name&&(T.name=P(T.coordDim,y)),null==T.type&&m(data,L)&&(T.type="ordinal")}return _;function D(t,e,n){d[e]?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,x.set(e,!0))}function P(t,map,e){if(e||null!=map.get(t)){for(var i=0;null!=map.get(t+i);)i++;t+=i}return map.set(t,!0),t}}var m=f.guessOrdinal=function(data,t){for(var i=0,e=data.length;i<e;i++){var n=v(data[i]);if(!o.isArray(n))return!1;if(null!=(n=n[t])&&isFinite(n)&&""!==n)return!1;if(h(n)&&"-"!==n)return!0}return!1};function v(t){return o.isArray(t)?t:o.isObject(t)?t.value:t}var y=f;t.exports=y},function(t,e,n){var o=n(228),r=n(313),l=n(219),h=l.getContext,c=l.extend,d=l.retrieve2,f=l.retrieve3,m={},v=0,y=5e3,x=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,_="12px sans-serif",w={};function S(text,t){var e=text+":"+(t=t||_);if(m[e])return m[e];for(var n=(text+"").split("\n"),o=0,i=0,r=n.length;i<r;i++)o=Math.max(P(n[i],t).width,o);return v>y&&(v=0,m={}),v++,m[e]=o,o}function M(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function I(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function T(text,t,e,n,o){if(!t)return"";var r=(text+"").split("\n");o=A(t,e,n,o);for(var i=0,l=r.length;i<l;i++)r[i]=C(r[i],o);return r.join("\n")}function A(t,e,n,o){(o=c({},o)).font=e;n=d(n,"...");o.maxIterations=d(o.maxIterations,2);var r=o.minChar=d(o.minChar,0);o.cnCharWidth=S("",e);var l=o.ascCharWidth=S("a",e);o.placeholder=d(o.placeholder,"");for(var h=t=Math.max(0,t-1),i=0;i<r&&h>=l;i++)h-=l;var f=S(n);return f>h&&(n="",f=0),h=t-f,o.ellipsis=n,o.ellipsisWidth=f,o.contentWidth=h,o.containerWidth=t,o}function C(t,e){var n=e.containerWidth,o=e.font,r=e.contentWidth;if(!n)return"";var l=S(t,o);if(l<=n)return t;for(var h=0;;h++){if(l<=r||h>=e.maxIterations){t+=e.ellipsis;break}var c=0===h?L(t,r,e.ascCharWidth,e.cnCharWidth):l>0?Math.floor(t.length*r/l):0;l=S(t=t.substr(0,c),o)}return""===t&&(t=e.placeholder),t}function L(text,t,e,n){for(var o=0,i=0,r=text.length;i<r&&o<t;i++){var l=text.charCodeAt(i);o+=0<=l&&l<=127?e:n}return i}function D(t){return S("",t)}function P(text,t){return w.measureText(text,t)}function k(text,t,e,n){null!=text&&(text+="");var o=D(t),r=text?text.split("\n"):[],l=r.length*o,h=l;if(e&&(h+=e[0]+e[2]),text&&n){var c=n.outerHeight,d=n.outerWidth;if(null!=c&&h>c)text="",r=[];else if(null!=d)for(var f=A(d-(e?e[1]+e[3]:0),t,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),i=0,m=r.length;i<m;i++)r[i]=C(r[i],f)}return{lines:r,height:l,outerHeight:h,lineHeight:o}}function O(text,style){var t={lines:[],width:0,height:0};if(null!=text&&(text+=""),!text)return t;for(var e,n=x.lastIndex=0;null!=(e=x.exec(text));){var o=e.index;o>n&&E(t,text.substring(n,o)),E(t,e[2],e[1]),n=x.lastIndex}n<text.length&&E(t,text.substring(n,text.length));var l=t.lines,h=0,c=0,m=[],v=style.textPadding,y=style.truncate,_=y&&y.outerWidth,w=y&&y.outerHeight;v&&(null!=_&&(_-=v[1]+v[3]),null!=w&&(w-=v[0]+v[2]));for(var i=0;i<l.length;i++){for(var line=l[i],M=0,I=0,A=0;A<line.tokens.length;A++){var C=(G=line.tokens[A]).styleName&&style.rich[G.styleName]||{},L=G.textPadding=C.textPadding,P=G.font=C.font||style.font,k=G.textHeight=d(C.textHeight,D(P));if(L&&(k+=L[0]+L[2]),G.height=k,G.lineHeight=f(C.textLineHeight,style.textLineHeight,k),G.textAlign=C&&C.textAlign||style.textAlign,G.textVerticalAlign=C&&C.textVerticalAlign||"middle",null!=w&&h+G.lineHeight>w)return{lines:[],width:0,height:0};G.textWidth=S(G.text,P);var O=C.textWidth,z=null==O||"auto"===O;if("string"==typeof O&&"%"===O.charAt(O.length-1))G.percentWidth=O,m.push(G),O=0;else{if(z){O=G.textWidth;var N=C.textBackgroundColor,R=N&&N.image;R&&(R=r.findExistImage(R),r.isImageReady(R)&&(O=Math.max(O,R.width*k/R.height)))}var V=L?L[1]+L[3]:0;O+=V;var B=null!=_?_-I:null;null!=B&&B<O&&(!z||B<V?(G.text="",G.textWidth=O=0):(G.text=T(G.text,B-V,P,y.ellipsis,{minChar:y.minChar}),G.textWidth=S(G.text,P),O=G.textWidth+V))}I+=G.width=O,C&&(M=Math.max(M,G.lineHeight))}line.width=I,line.lineHeight=M,h+=M,c=Math.max(c,I)}t.outerWidth=t.width=d(style.textWidth,c),t.outerHeight=t.height=d(style.textHeight,h),v&&(t.outerWidth+=v[1]+v[3],t.outerHeight+=v[0]+v[2]);for(i=0;i<m.length;i++){var G,H=(G=m[i]).percentWidth;G.width=parseInt(H,10)/100*c}return t}function E(t,e,n){for(var o=""===e,r=e.split("\n"),l=t.lines,i=0;i<r.length;i++){var text=r[i],h={styleName:n,text:text,isLineHolder:!text&&!o};if(i)l.push({tokens:[h]});else{var c=(l[l.length-1]||(l[0]={tokens:[]})).tokens,d=c.length;1===d&&c[0].isLineHolder?c[0]=h:(text||!d||o)&&c.push(h)}}}w.measureText=function(text,t){var e=h();return e.font=t||_,e.measureText(text)},e.DEFAULT_FONT=_,e.$override=function(t,e){w[t]=e},e.getWidth=S,e.getBoundingRect=function(text,t,e,n,r,l,h){return l?function(text,t,e,n,r,l,h){var c=O(text,{rich:l,truncate:h,font:t,textAlign:e,textPadding:r}),d=c.outerWidth,f=c.outerHeight,m=M(0,d,e),v=I(0,f,n);return new o(m,v,d,f)}(text,t,e,n,r,l,h):function(text,t,e,n,r,l){var h=k(text,t,r,l),c=S(text,t);r&&(c+=r[1]+r[3]);var d=h.outerHeight,f=M(0,c,e),m=I(0,d,n),rect=new o(f,m,c,d);return rect.lineHeight=h.lineHeight,rect}(text,t,e,n,r,h)},e.adjustTextX=M,e.adjustTextY=I,e.adjustTextPositionOnRect=function(t,rect,e){var n=rect.x,o=rect.y,r=rect.height,l=rect.width,h=r/2,c="left",d="top";switch(t){case"left":n-=e,o+=h,c="right",d="middle";break;case"right":n+=e+l,o+=h,d="middle";break;case"top":n+=l/2,o-=e,c="center",d="bottom";break;case"bottom":n+=l/2,o+=r+e,c="center";break;case"inside":n+=l/2,o+=h,c="center",d="middle";break;case"insideLeft":n+=e,o+=h,d="middle";break;case"insideRight":n+=l-e,o+=h,c="right",d="middle";break;case"insideTop":n+=l/2,o+=e,c="center";break;case"insideBottom":n+=l/2,o+=r-e,c="center",d="bottom";break;case"insideTopLeft":n+=e,o+=e;break;case"insideTopRight":n+=l-e,o+=e,c="right";break;case"insideBottomLeft":n+=e,o+=r-e,d="bottom";break;case"insideBottomRight":n+=l-e,o+=r-e,c="right",d="bottom"}return{x:n,y:o,textAlign:c,textVerticalAlign:d}},e.truncateText=T,e.getLineHeight=D,e.measureText=P,e.parsePlainText=k,e.parseRichText=O,e.makeFont=function(style){return(style.fontSize||style.fontFamily)&&[style.fontStyle,style.fontWeight,(style.fontSize||12)+"px",style.fontFamily||"sans-serif"].join(" ")||style.textFont||style.font}},function(t,e,n){var o=n(219),r={};function l(){this._coordinateSystems=[]}l.prototype={constructor:l,create:function(t,e){var n=[];o.each(r,(function(o,r){var l=o.create(t,e);n=n.concat(l||[])})),this._coordinateSystems=n},update:function(t,e){o.each(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},l.register=function(t,e){r[t]=e},l.get=function(t){return r[t]};var h=l;t.exports=h},function(t,e,n){var o=n(340),r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function l(i){return(i=Math.round(i))<0?0:i>255?255:i}function h(t){return t<0?0:t>1?1:t}function c(t){return t.length&&"%"===t.charAt(t.length-1)?l(parseFloat(t)/100*255):l(parseInt(t,10))}function d(t){return t.length&&"%"===t.charAt(t.length-1)?h(parseFloat(t)/100):h(parseFloat(t))}function f(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function m(a,b,p){return a+(b-a)*p}function v(t,e,g,b,a){return t[0]=e,t[1]=g,t[2]=b,t[3]=a,t}function y(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t}var x=new o(20),_=null;function w(t,e){_&&y(_,e),_=x.put(t,_||e.slice())}function S(t,e){if(t){e=e||[];var n=x.get(t);if(n)return y(e,n);var o,l=(t+="").replace(/ /g,"").toLowerCase();if(l in r)return y(e,r[l]),w(t,e),e;if("#"===l.charAt(0))return 4===l.length?(o=parseInt(l.substr(1),16))>=0&&o<=4095?(v(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1),w(t,e),e):void v(e,0,0,0,1):7===l.length?(o=parseInt(l.substr(1),16))>=0&&o<=16777215?(v(e,(16711680&o)>>16,(65280&o)>>8,255&o,1),w(t,e),e):void v(e,0,0,0,1):void 0;var h=l.indexOf("("),f=l.indexOf(")");if(-1!==h&&f+1===l.length){var m=l.substr(0,h),_=l.substr(h+1,f-(h+1)).split(","),S=1;switch(m){case"rgba":if(4!==_.length)return void v(e,0,0,0,1);S=d(_.pop());case"rgb":return 3!==_.length?void v(e,0,0,0,1):(v(e,c(_[0]),c(_[1]),c(_[2]),S),w(t,e),e);case"hsla":return 4!==_.length?void v(e,0,0,0,1):(_[3]=d(_[3]),M(_,e),w(t,e),e);case"hsl":return 3!==_.length?void v(e,0,0,0,1):(M(_,e),w(t,e),e);default:return}}v(e,0,0,0,1)}}function M(t,e){var n=(parseFloat(t[0])%360+360)%360/360,s=d(t[1]),o=d(t[2]),r=o<=.5?o*(s+1):o+s-o*s,h=2*o-r;return v(e=e||[],l(255*f(h,r,n+1/3)),l(255*f(h,r,n)),l(255*f(h,r,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function I(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var o=t*(e.length-1),r=Math.floor(o),c=Math.ceil(o),d=e[r],f=e[c],v=o-r;return n[0]=l(m(d[0],f[0],v)),n[1]=l(m(d[1],f[1],v)),n[2]=l(m(d[2],f[2],v)),n[3]=h(m(d[3],f[3],v)),n}}var T=I;function A(t,e,n){if(e&&e.length&&t>=0&&t<=1){var o=t*(e.length-1),r=Math.floor(o),c=Math.ceil(o),d=S(e[r]),f=S(e[c]),v=o-r,y=L([l(m(d[0],f[0],v)),l(m(d[1],f[1],v)),l(m(d[2],f[2],v)),h(m(d[3],f[3],v))],"rgba");return n?{color:y,leftIndex:r,rightIndex:c,value:o}:y}}var C=A;function L(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=S,e.lift=function(t,e){var n=S(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0;return L(n,4===n.length?"rgba":"rgb")}},e.toHex=function(t){var e=S(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=I,e.fastMapToColor=T,e.lerp=A,e.mapToColor=C,e.modifyHSL=function(t,e,s,n){if(t=S(t))return t=function(t){if(t){var e,n,o=t[0]/255,r=t[1]/255,l=t[2]/255,h=Math.min(o,r,l),c=Math.max(o,r,l),d=c-h,f=(c+h)/2;if(0===d)e=0,n=0;else{n=f<.5?d/(c+h):d/(2-c-h);var m=((c-o)/6+d/2)/d,v=((c-r)/6+d/2)/d,y=((c-l)/6+d/2)/d;o===c?e=y-v:r===c?e=1/3+m-y:l===c&&(e=2/3+v-m),e<0&&(e+=1),e>1&&(e-=1)}var x=[360*e,n,f];return null!=t[3]&&x.push(t[3]),x}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=s&&(t[1]=d(s)),null!=n&&(t[2]=d(n)),L(M(t),"rgba");var i},e.modifyAlpha=function(t,e){if((t=S(t))&&null!=e)return t[3]=h(e),L(t,"rgba")},e.stringify=L},function(t,e,n){var o=n(252);e.Dispatcher=o;var r=n(230),l="undefined"!=typeof window&&!!window.addEventListener,h=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function c(t,e,n,o){return n=n||{},o||!r.canvasSupported?d(t,e,n):r.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):d(t,e,n),n}function d(t,e,n){var o=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-o.left,n.zrY=e.clientY-o.top}var f=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=c,e.normalizeEvent=function(t,e,n){if(null!=(e=e||window.event).zrX)return e;var o=e.type;if(o&&o.indexOf("touch")>=0){var r="touchend"!=o?e.targetTouches[0]:e.changedTouches[0];r&&c(t,r,e,n)}else c(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var button=e.button;return null==e.which&&void 0!==button&&h.test(e.type)&&(e.which=1&button?1:2&button?3:4&button?2:0),e},e.addEventListener=function(t,e,n){l?t.addEventListener(e,n):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){l?t.removeEventListener(e,n):t.detachEvent("on"+e,n)},e.stop=f,e.notLeftMouse=function(t){return t.which>1}},function(t,e,n){n(223).__DEV__;var o=n(219),r=".",l="___EC__COMPONENT__CONTAINER___",h="\0ec_\0";function c(t){var e={main:"",sub:""};return t&&(t=t.split(r),e.main=t[0]||"",e.sub=t[1]||""),e}function d(t,e){var n=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function f(t,e,n){return this.superClass.prototype[e].apply(t,n)}e.set=function(t,e,n){return t[h+e]=n},e.get=function(t,e){return t[h+e]},e.hasOwn=function(t,e){return t.hasOwnProperty(h+e)},e.parseClassType=c,e.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return o.extend(n.prototype,t),n.extend=this.extend,n.superCall=d,n.superApply=f,o.inherits(n,this),n.superClass=e,n}},e.enableClassManagement=function(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(function(t){o.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=c(e)).sub){if(e.sub!==l){(function(t){var e=n[t.main];e&&e[l]||((e=n[t.main]={})[l]=!0);return e}(e))[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,o){var r=n[t];if(r&&r[l]&&(r=e?r[e]:null),o&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){t=c(t);var e=[],r=n[t.main];return r&&r[l]?o.each(r,(function(t,n){n!==l&&e.push(t)})):e.push(r),e},t.hasClass=function(t){return t=c(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return o.each(n,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=c(t);var e=n[t.main];return e&&e[l]},t.parseClassType=c,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t},e.setReadOnly=function(t,e){}},function(t,e,n){var o=n(226),r=o.create,l=o.distSquare,h=Math.pow,c=Math.sqrt,d=1e-8,f=1e-4,m=c(3),v=1/3,y=r(),x=r(),_=r();function w(t){return t>-d&&t<d}function S(t){return t>d||t<-d}function M(t,e,n,o,r){var l=1-r;return l*l*(l*t+3*r*e)+r*r*(r*o+3*l*n)}function I(t,e,n,o){var r=1-o;return r*(r*t+2*o*e)+o*o*n}e.cubicAt=M,e.cubicDerivativeAt=function(t,e,n,o,r){var l=1-r;return 3*(((e-t)*l+2*(n-e)*r)*l+(o-n)*r*r)},e.cubicRootAt=function(t,e,n,o,r,l){var a=o+3*(e-n)-t,b=3*(n-2*e+t),d=3*(e-t),f=t-r,y=b*b-3*a*d,x=b*d-9*a*f,_=d*d-3*b*f,S=0;if(w(y)&&w(x)){if(w(b))l[0]=0;else(E=-d/b)>=0&&E<=1&&(l[S++]=E)}else{var M=x*x-4*y*_;if(w(M)){var I=x/y,T=-I/2;(E=-b/a+I)>=0&&E<=1&&(l[S++]=E),T>=0&&T<=1&&(l[S++]=T)}else if(M>0){var A=c(M),C=y*b+1.5*a*(-x+A),L=y*b+1.5*a*(-x-A);(E=(-b-((C=C<0?-h(-C,v):h(C,v))+(L=L<0?-h(-L,v):h(L,v))))/(3*a))>=0&&E<=1&&(l[S++]=E)}else{var D=(2*y*b-3*a*x)/(2*c(y*y*y)),P=Math.acos(D)/3,k=c(y),O=Math.cos(P),E=(-b-2*k*O)/(3*a),z=(T=(-b+k*(O+m*Math.sin(P)))/(3*a),(-b+k*(O-m*Math.sin(P)))/(3*a));E>=0&&E<=1&&(l[S++]=E),T>=0&&T<=1&&(l[S++]=T),z>=0&&z<=1&&(l[S++]=z)}}return S},e.cubicExtrema=function(t,e,n,o,r){var b=6*n-12*e+6*t,a=9*e+3*o-3*t-9*n,l=3*e-3*t,h=0;if(w(a)){if(S(b))(f=-l/b)>=0&&f<=1&&(r[h++]=f)}else{var d=b*b-4*a*l;if(w(d))r[0]=-b/(2*a);else if(d>0){var f,m=c(d),v=(-b-m)/(2*a);(f=(-b+m)/(2*a))>=0&&f<=1&&(r[h++]=f),v>=0&&v<=1&&(r[h++]=v)}}return h},e.cubicSubdivide=function(t,e,n,o,r,l){var h=(e-t)*r+t,c=(n-e)*r+e,d=(o-n)*r+n,f=(c-h)*r+h,m=(d-c)*r+c,v=(m-f)*r+f;l[0]=t,l[1]=h,l[2]=f,l[3]=v,l[4]=v,l[5]=m,l[6]=d,l[7]=o},e.cubicProjectPoint=function(t,e,n,o,r,h,d,m,v,w,S){var I,T,A,C,L,D=.005,P=1/0;y[0]=v,y[1]=w;for(var k=0;k<1;k+=.05)x[0]=M(t,n,r,d,k),x[1]=M(e,o,h,m,k),(C=l(y,x))<P&&(I=k,P=C);P=1/0;for(var i=0;i<32&&!(D<f);i++)T=I-D,A=I+D,x[0]=M(t,n,r,d,T),x[1]=M(e,o,h,m,T),C=l(x,y),T>=0&&C<P?(I=T,P=C):(_[0]=M(t,n,r,d,A),_[1]=M(e,o,h,m,A),L=l(_,y),A<=1&&L<P?(I=A,P=L):D*=.5);return S&&(S[0]=M(t,n,r,d,I),S[1]=M(e,o,h,m,I)),c(P)},e.quadraticAt=I,e.quadraticDerivativeAt=function(t,e,n,o){return 2*((1-o)*(e-t)+o*(n-e))},e.quadraticRootAt=function(t,e,n,o,r){var a=t-2*e+n,b=2*(e-t),l=t-o,h=0;if(w(a)){if(S(b))(f=-l/b)>=0&&f<=1&&(r[h++]=f)}else{var d=b*b-4*a*l;if(w(d))(f=-b/(2*a))>=0&&f<=1&&(r[h++]=f);else if(d>0){var f,m=c(d),v=(-b-m)/(2*a);(f=(-b+m)/(2*a))>=0&&f<=1&&(r[h++]=f),v>=0&&v<=1&&(r[h++]=v)}}return h},e.quadraticExtremum=function(t,e,n){var o=t+n-2*e;return 0===o?.5:(t-e)/o},e.quadraticSubdivide=function(t,e,n,o,r){var l=(e-t)*o+t,h=(n-e)*o+e,c=(h-l)*o+l;r[0]=t,r[1]=l,r[2]=c,r[3]=c,r[4]=h,r[5]=n},e.quadraticProjectPoint=function(t,e,n,o,r,h,d,m,v){var w,S=.005,M=1/0;y[0]=d,y[1]=m;for(var T=0;T<1;T+=.05){x[0]=I(t,n,r,T),x[1]=I(e,o,h,T),(L=l(y,x))<M&&(w=T,M=L)}M=1/0;for(var i=0;i<32&&!(S<f);i++){var A=w-S,C=w+S;x[0]=I(t,n,r,A),x[1]=I(e,o,h,A);var L=l(x,y);if(A>=0&&L<M)w=A,M=L;else{_[0]=I(t,n,r,C),_[1]=I(e,o,h,C);var D=l(_,y);C<=1&&D<M?(w=C,M=D):S*=.5}}return v&&(v[0]=I(t,n,r,w),v[1]=I(e,o,h,w)),c(M)}},function(t,e,n){var o=n(219),r=n(276),l=n(315),h=n(244),c=n(224);function d(){this.group=new r,this.uid=l.getUID("viewChart")}d.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,o){},highlight:function(t,e,n,o){v(t.getData(),o,"emphasis")},downplay:function(t,e,n,o){v(t.getData(),o,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var f=d.prototype;function m(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)m(t.childAt(i),e)}function v(data,t,e){var n=c.queryDataIndex(data,t);null!=n?o.each(c.normalizeToArray(n),(function(t){m(data.getItemGraphicEl(t),e)})):data.eachItemGraphicEl((function(t){m(t,e)}))}f.updateView=f.updateLayout=f.updateVisual=function(t,e,n,o){this.render(t,e,n,o)},h.enableClassExtend(d,["dispose"]),h.enableClassManagement(d,{registerWhenExtend:!0});var y=d;t.exports=y},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(233),l=n(239),h=n(224),c=h.getDataItemValue,d=h.converDataValue,f=h.isDataItemOption,m=n(241);function v(t){return"category"!==t&&"time"!==t}function y(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var x={cartesian2d:function(data,t,e,n){var r=o.map(["xAxis","yAxis"],(function(n){return e.queryComponents({mainType:n,index:t.get(n+"Index"),id:t.get(n+"Id")})[0]})),h=r[0],c=r[1],d=h.get("type"),f=c.get("type"),m=[{name:"x",type:y(d),stackable:v(d)},{name:"y",type:y(f),stackable:v(f)}],x="category"===d,_="category"===f;m=l(m,data,n);var w={};return x&&(w.x=h),_&&(w.y=c),{dimensions:m,categoryIndex:x?0:_?1:-1,categoryAxesModels:w}},singleAxis:function(data,t,e,n){var o=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],r=o.get("type"),h="category"===r,c=[{name:"single",type:y(r),stackable:v(r)}];c=l(c,data,n);var d={};return h&&(d.single=o),{dimensions:c,categoryIndex:h?0:-1,categoryAxesModels:d}},polar:function(data,t,e,n){var o=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],r=o.findAxisModel("angleAxis"),h=o.findAxisModel("radiusAxis"),c=h.get("type"),d=r.get("type"),f=[{name:"radius",type:y(c),stackable:v(c)},{name:"angle",type:y(d),stackable:v(d)}],m="category"===d,x="category"===c;f=l(f,data,n);var _={};return x&&(_.radius=h),m&&(_.angle=r),{dimensions:f,categoryIndex:m?1:x?0:-1,categoryAxesModels:_}},geo:function(data,t,e,n){return{dimensions:l([{name:"lng"},{name:"lat"}],data,n)}}};var _=function(data,t,e){data=data||[];var n=t.get("coordinateSystem"),h=x[n],v=m.get(n),y={encodeDef:t.get("encode"),dimsDef:t.get("dimensions")},_=h&&h(data,t,e,y),w=_&&_.dimensions;w||(w=v&&(v.getDimensionsInfo?v.getDimensionsInfo():v.dimensions.slice())||["x","y"],w=l(w,data,y));var S=_?_.categoryIndex:-1,M=new r(w,t),I=function(t,data){var e,n=[],r=t&&t.dimensions[t.categoryIndex];r&&(e=t.categoryAxesModels[r.name]);if(e){var l=e.getCategories();if(l){var h=data.length;if(o.isArray(data[0])&&data[0].length>1){n=[];for(var i=0;i<h;i++)n[i]=l[data[i][t.categoryIndex||0]]}else n=l.slice(0)}}return n}(_,data),T={},A=S>=0&&function(data){var t=function(data){for(var i=0;i<data.length&&null==data[i];)i++;return data[i]}(data);return null!=t&&!o.isArray(c(t))}(data)?function(t,e,n,o){return f(t)&&(M.hasItemOption=!0),o===S?n:d(c(t),w[o])}:function(t,e,n,r){var l=c(t),h=d(l&&l[r],w[r]);f(t)&&(M.hasItemOption=!0);var m=_&&_.categoryAxesModels;return m&&m[e]&&"string"==typeof h&&(T[e]=T[e]||m[e].getCategories(),(h=o.indexOf(T[e],h))<0&&!isNaN(h)&&(h=+h)),h};return M.hasItemOption=!1,M.initData(data,I,A),M};t.exports=_},function(t,e,n){var o=n(219),r=n(222),l=n(237),h=r.linearMap;function c(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}var d=[0,1],f=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};f.prototype={constructor:f,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),o=Math.max(e[0],e[1]);return t>=n&&t<=o},containData:function(data){return this.contain(this.dataToCoord(data))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return r.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(data,t){var e=this._extent,n=this.scale;return data=n.normalize(data),this.onBand&&"ordinal"===n.type&&c(e=e.slice(),n.count()),h(data,d,e,t)},coordToData:function(t,e){var n=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&c(n=n.slice(),o.count());var r=h(t,n,d,e);return this.scale.scale(r)},pointToData:function(t,e){},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),n=[],i=0;i<e.length;i++)n.push(e[i][0]);return e[i-1]&&n.push(e[i-1][1]),n}return o.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return o.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],n=this.scale.count(),o=t[0],span=t[1]-o,i=0;i<n;i++)e.push([span*i/n+o,span*(i+1)/n+o]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var o=Math.abs(t[1]-t[0]);return Math.abs(o)/n},isHorizontal:null,getRotate:null,getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,n=e.getModel("axisLabel");t=n.get("interval"),"category"!==this.type||null!=t&&"auto"!==t||(t=l.getAxisLabelInterval(o.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),n.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,n.get("rotate"))),this._labelInterval=t}return t}};var m=f;t.exports=m},function(t,e){var n={};e.register=function(t,e){n[t]=e},e.get=function(t){return n[t]}},,,function(t,e){var n=Array.prototype.slice,o=function(){this._$handlers={}};o.prototype={constructor:o,one:function(t,e,n){var o=this._$handlers;if(!e||!t)return this;o[t]||(o[t]=[]);for(var i=0;i<o[t].length;i++)if(o[t][i].h===e)return this;return o[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var o=this._$handlers;if(!e||!t)return this;o[t]||(o[t]=[]);for(var i=0;i<o[t].length;i++)if(o[t][i].h===e)return this;return o[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var o=[],i=0,r=n[t].length;i<r;i++)n[t][i].h!=e&&o.push(n[t][i]);n[t]=o}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,o=e.length;o>3&&(e=n.call(e,1));for(var r=this._$handlers[t],l=r.length,i=0;i<l;){switch(o){case 1:r[i].h.call(r[i].ctx);break;case 2:r[i].h.call(r[i].ctx,e[1]);break;case 3:r[i].h.call(r[i].ctx,e[1],e[2]);break;default:r[i].h.apply(r[i].ctx,e)}r[i].one?(r.splice(i,1),l--):i++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,o=e.length;o>4&&(e=n.call(e,1,e.length-1));for(var r=e[e.length-1],l=this._$handlers[t],h=l.length,i=0;i<h;){switch(o){case 1:l[i].h.call(r);break;case 2:l[i].h.call(r,e[1]);break;case 3:l[i].h.call(r,e[1],e[2]);break;default:l[i].h.apply(r,e)}l[i].one?(l.splice(i,1),h--):i++}}return this}};var r=o;t.exports=r},function(t,e){var n="\0__throttleOriginMethod",o="\0__throttleRate",r="\0__throttleType";function l(t,e,n){var o,r,l,h,c,d=0,f=0,m=null;function v(){f=(new Date).getTime(),m=null,t.apply(l,h||[])}e=e||0;var y=function(){o=(new Date).getTime(),l=this,h=arguments;var t=c||e,y=c||n;c=null,r=o-(y?d:f)-t,clearTimeout(m),y?m=setTimeout(v,t):r>=0?v():m=setTimeout(v,-r),d=o};return y.clear=function(){m&&(clearTimeout(m),m=null)},y.debounceNextCall=function(t){c=t},y}e.throttle=l,e.createOrUpdate=function(t,e,h,c){var d=t[e];if(d){var f=d[n]||d,m=d[r];if(d[o]!==h||m!==c){if(null==h||!c)return t[e]=f;(d=t[e]=l(f,h,"debounce"===c))[n]=f,d[r]=c,d[o]=h}return d}},e.clear=function(t,e){var o=t[e];o&&o[n]&&(t[e]=o[n])}},function(t,e){t.exports=function(t,e,n,o,r){o.eachRawSeriesByType(t,(function(t){var data=t.getData(),r=t.get("symbol")||e,l=t.get("symbolSize");data.setVisual({legendSymbol:n||r,symbol:r,symbolSize:l}),o.isSeriesFiltered(t)||("function"==typeof l&&data.each((function(e){var n=t.getRawValue(e),o=t.getDataParams(e);data.setItemVisual(e,"symbolSize",l(n,o))})),data.each((function(t){var e=data.getItemModel(t),n=e.getShallow("symbol",!0),o=e.getShallow("symbolSize",!0);null!=n&&data.setItemVisual(t,"symbol",n),null!=o&&data.setItemVisual(t,"symbolSize",o)})))}))}},function(t,e,n){var o=n(219),r=o.retrieve,l=o.defaults,h=o.extend,c=o.each,d=n(227),f=n(221),m=n(229),v=n(222),y=v.isRadianAroundZero,x=v.remRadian,_=n(238).createSymbol,w=n(236),S=n(226).applyTransform,M=Math.PI;function I(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}var T=function(t,e){this.opt=e,this.axisModel=t,l(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new f.Group;var n=new f.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};T.prototype={constructor:T,hasBuilder:function(t){return!!A[t]},add:function(t){A[t].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),o=this._transform,r=[n[0],0],l=[n[1],0];o&&(S(r,r,o),S(l,l,o));var d=h({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new f.Line(f.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:l[0],y2:l[1]},style:d,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var m=e.get("axisLine.symbol"),v=e.get("axisLine.symbolSize");if(null!=m){"string"==typeof m&&(m=[m,m]),"string"!=typeof v&&"number"!=typeof v||(v=[v,v]);var y=v[0],x=v[1];c([[t.rotation+Math.PI/2,r],[t.rotation-Math.PI/2,l]],(function(t,e){if("none"!==m[e]&&null!=m[e]){var symbol=_(m[e],-y/2,-x/2,y,x,d.stroke,!0);symbol.attr({rotation:t[0],position:t[1],silent:!0}),this.group.add(symbol)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var o=e.axis;if(!e.get("axisTick.show")||o.scale.isBlank())return;for(var r=e.getModel("axisTick"),h=r.getModel("lineStyle"),c=r.get("length"),d=E(r,n.labelInterval),m=o.getTicksCoords(r.get("alignWithLabel")),v=o.scale.getTicks(),y=e.get("axisLabel.showMinLabel"),x=e.get("axisLabel.showMaxLabel"),_=[],w=[],M=t._transform,I=[],T=m.length,i=0;i<T;i++)if(!O(o,i,d,T,y,x)){var A=m[i];_[0]=A,_[1]=0,w[0]=A,w[1]=n.tickDirection*c,M&&(S(_,_,M),S(w,w,M));var C=new f.Line(f.subPixelOptimizeLine({anid:"tick_"+v[i],shape:{x1:_[0],y1:_[1],x2:w[0],y2:w[1]},style:l(h.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(C),I.push(C)}return I}(this,t,e),o=function(t,e,n){var o=e.axis;if(!r(n.axisLabelShow,e.get("axisLabel.show"))||o.scale.isBlank())return;var l=e.getModel("axisLabel"),h=l.get("margin"),d=o.scale.getTicks(),v=e.getFormattedLabels(),y=(r(n.labelRotate,l.get("rotate"))||0)*M/180,x=C(n.rotation,y,n.labelDirection),_=e.get("data"),w=[],S=L(e),T=e.get("triggerEvent"),A=e.get("axisLabel.showMinLabel"),D=e.get("axisLabel.showMaxLabel");return c(d,(function(r,c){if(!O(o,c,n.labelInterval,d.length,A,D)){var y=l;_&&_[r]&&_[r].textStyle&&(y=new m(_[r].textStyle,l,e.ecModel));var M=y.getTextColor()||e.get("axisLine.lineStyle.color"),C=[o.dataToCoord(r),n.labelOffset+n.labelDirection*h],L=o.scale.getLabel(r),P=new f.Text({anid:"label_"+r,position:C,rotation:x.rotation,silent:S,z2:10});f.setTextStyle(P.style,y,{text:v[c],textAlign:y.getShallow("align",!0)||x.textAlign,textVerticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||x.textVerticalAlign,textFill:"function"==typeof M?M("category"===o.type?L:"value"===o.type?r+"":r,c):M}),T&&(P.eventData=I(e),P.eventData.targetType="axisLabel",P.eventData.value=L),t._dumbGroup.add(P),P.updateTransform(),w.push(P),t.group.add(P),P.decomposeTransform()}})),w}(this,t,e);!function(t,e,n){var o=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");n=n||[];var l=(e=e||[])[0],h=e[1],c=e[e.length-1],d=e[e.length-2],f=n[0],m=n[1],v=n[n.length-1],y=n[n.length-2];!1===o?(D(l),D(f)):P(l,h)&&(o?(D(h),D(m)):(D(l),D(f)));!1===r?(D(c),D(v)):P(d,c)&&(r?(D(d),D(y)):(D(c),D(v)))}(t,o,n)},axisName:function(){var t=this.opt,e=this.axisModel,n=r(t.axisName,e.get("name"));if(n){var o,l,c=e.get("nameLocation"),m=t.nameDirection,v=e.getModel("nameTextStyle"),_=e.get("nameGap")||0,w=this.axisModel.axis.getExtent(),S=w[0]>w[1]?-1:1,T=["start"===c?w[0]-S*_:"end"===c?w[1]+S*_:(w[0]+w[1])/2,k(c)?t.labelOffset+m*_:0],A=e.get("nameRotate");null!=A&&(A=A*M/180),k(c)?o=C(t.rotation,null!=A?A:t.rotation,m):(o=function(t,e,n,o){var r,l,h=x(n-t.rotation),c=o[0]>o[1],d="start"===e&&!c||"start"!==e&&c;y(h-M/2)?(l=d?"bottom":"top",r="center"):y(h-1.5*M)?(l=d?"top":"bottom",r="center"):(l="middle",r=h<1.5*M&&h>M/2?d?"left":"right":d?"right":"left");return{rotation:h,textAlign:r,textVerticalAlign:l}}(t,c,A||0,w),null!=(l=t.axisNameAvailableWidth)&&(l=Math.abs(l/Math.sin(o.rotation)),!isFinite(l)&&(l=null)));var D=v.getFont(),P=e.get("nameTruncate",!0)||{},O=P.ellipsis,E=r(t.nameTruncateMaxWidth,P.maxWidth,l),z=null!=O&&null!=E?d.truncateText(n,E,D,O,{minChar:2,placeholder:P.placeholder}):n,N=e.get("tooltip",!0),R=e.mainType,V={componentType:R,name:n,$vars:["name"]};V[R+"Index"]=e.componentIndex;var B=new f.Text({anid:"name",__fullText:n,__truncatedText:z,position:T,rotation:o.rotation,silent:L(e),z2:1,tooltip:N&&N.show?h({content:n,formatter:function(){return n},formatterParams:V},N):null});f.setTextStyle(B.style,v,{text:z,textFont:D,textFill:v.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:o.textAlign,textVerticalAlign:o.textVerticalAlign}),e.get("triggerEvent")&&(B.eventData=I(e),B.eventData.targetType="axisName",B.eventData.name=n),this._dumbGroup.add(B),B.updateTransform(),this.group.add(B),B.decomposeTransform()}}},C=T.innerTextLayout=function(t,e,n){var o,r,l=x(e-t);return y(l)?(r=n>0?"top":"bottom",o="center"):y(l-M)?(r=n>0?"bottom":"top",o="center"):(r="middle",o=l>0&&l<M?n>0?"right":"left":n>0?"left":"right"),{rotation:l,textAlign:o,textVerticalAlign:r}};function L(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function D(t){t&&(t.ignore=!0)}function P(t,e,n){var o=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(o&&r){var l=w.identity([]);return w.rotate(l,l,-t.rotation),o.applyTransform(w.mul([],l,t.getLocalTransform())),r.applyTransform(w.mul([],l,e.getLocalTransform())),o.intersect(r)}}function k(t){return"middle"===t||"center"===t}var O=T.ifIgnoreOnTick=function(t,i,e,n,o,r){if(0===i&&o||i===n-1&&r)return!1;var l,h=t.scale;return"ordinal"===h.type&&("function"==typeof e?!e(l=h.getTicks()[i],h.getLabel(l)):i%(e+1))},E=T.getInterval=function(t,e){var n=t.get("interval");return null!=n&&"auto"!=n||(n=e),n};var z=T;t.exports=z},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(285),l=o.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,o){this.axisPointerClass&&r.fixValue(t),l.superApply(this,"render",arguments),h(this,t,e,n,o,!0)},updateAxisPointer:function(t,e,n,o,r){h(this,t,e,n,o,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),l.superApply(this,"remove",arguments)},dispose:function(t,e){c(this,e),l.superApply(this,"dispose",arguments)}});function h(t,e,n,o,h,d){var f=l.getAxisPointerClass(t.axisPointerClass);if(f){var m=r.getAxisPointerModel(e);m?(t._axisPointer||(t._axisPointer=new f)).render(e,m,o,d):c(t,o)}}function c(t,e,n){var o=t._axisPointer;o&&o.dispose(e,n),t._axisPointer=null}var d=[];l.registerAxisPointerClass=function(t,e){d[t]=e},l.getAxisPointerClass=function(t){return t&&d[t]};var f=l;t.exports=f},function(t,e,n){var o=n(219),r=n(242),l=n(222).linearMap,h=o.each,c=o.isObject,d=-1,f=function(option){var t=option.mappingMethod,e=option.type,n=this.option=o.clone(option);this.type=e,this.mappingMethod=t,this._normalizeData=A[t];var r=m[e];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(v(n),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,o.each(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(n)):"category"===t?n.categories?function(t){var e=t.categories,n=t.visual,r=t.categoryMap={};if(h(e,(function(t,e){r[t]=e})),!o.isArray(n)){var l=[];o.isObject(n)?h(n,(function(t,e){var n=r[e];l[null!=n?n:d]=t})):l[d]=n,n=T(t,l)}for(var i=e.length-1;i>=0;i--)null==n[i]&&(delete r[e[i]],e.pop())}(n):v(n,!0):(o.assert("linear"!==t||n.dataExtent),v(n))};f.prototype={constructor:f,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return o.bind(this._normalizeData,this)}};var m=f.visualHandlers={color:{applyVisual:_("color"),getColorMapper:function(){var t=this.option;return o.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),w.call(this,t)}:function(e,n,o){var l=!!o;return!n&&(e=this._normalizeData(e)),o=r.fastLerp(e,t.parsedVisual,o),l?o:r.stringify(o,"rgba")},this)},_doMap:{linear:function(t){return r.stringify(r.fastLerp(t,this.option.parsedVisual),"rgba")},category:w,piecewise:function(t,e){var n=I.call(this,e);return null==n&&(n=r.stringify(r.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:S}},colorHue:y((function(t,e){return r.modifyHSL(t,e)})),colorSaturation:y((function(t,e){return r.modifyHSL(t,null,e)})),colorLightness:y((function(t,e){return r.modifyHSL(t,null,null,e)})),colorAlpha:y((function(t,e){return r.modifyAlpha(t,e)})),opacity:{applyVisual:_("opacity"),_doMap:M([0,1])},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);if(o.isString(r))n("symbol",r);else if(c(r))for(var l in r)r.hasOwnProperty(l)&&n(l,r[l])},_doMap:{linear:x,category:w,piecewise:function(t,e){var n=I.call(this,e);return null==n&&(n=x.call(this,t)),n},fixed:S}},symbolSize:{applyVisual:_("symbolSize"),_doMap:M([0,1])}};function v(t,e){var n=t.visual,r=[];o.isObject(n)?h(n,(function(t){r.push(t)})):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),T(t,r)}function y(t){return{applyVisual:function(e,n,o){e=this.mapValueToVisual(e),o("color",t(n("color"),e))},_doMap:M([0,1])}}function x(t){var e=this.option.visual;return e[Math.round(l(t,[0,1],[0,e.length-1],!0))]||{}}function _(t){return function(e,n,o){o(t,this.mapValueToVisual(e))}}function w(t){var e=this.option.visual;return e[this.option.loop&&t!==d?t%e.length:t]}function S(){return this.option.visual[0]}function M(t){return{linear:function(e){return l(e,t,this.option.visual,!0)},category:w,piecewise:function(e,n){var o=I.call(this,n);return null==o&&(o=l(e,t,this.option.visual,!0)),o},fixed:S}}function I(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var o=n[f.findPieceIndex(t,n)];if(o&&o.visual)return o.visual[this.type]}}function T(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=o.map(e,(function(t){return r.parse(t)}))),e}var A={linear:function(t){return l(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=f.findPieceIndex(t,e,!0);if(null!=n)return l(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?d:e},fixed:o.noop};function C(t,a,b){return t?a<=b:a<b}f.listVisualTypes=function(){var t=[];return o.each(m,(function(e,n){t.push(n)})),t},f.addVisualHandler=function(t,e){m[t]=e},f.isValidType=function(t){return m.hasOwnProperty(t)},f.eachVisual=function(t,e,n){o.isObject(t)?o.each(t,e,n):e.call(n,t)},f.mapVisual=function(t,e,n){var r,l=o.isArray(t)?[]:o.isObject(t)?{}:(r=!0,null);return f.eachVisual(t,(function(t,o){var h=e.call(n,t,o);r?l=h:l[o]=h})),l},f.retrieveVisuals=function(t){var e,n={};return t&&h(m,(function(o,r){t.hasOwnProperty(r)&&(n[r]=t[r],e=!0)})),e?n:null},f.prepareVisualTypes=function(t){if(c(t)){var e=[];h(t,(function(t,n){e.push(n)})),t=e}else{if(!o.isArray(t))return[];t=t.slice()}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},f.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},f.findPieceIndex=function(t,e,n){for(var o,r=1/0,i=0,l=e.length;i<l;i++){var h=e[i].value;if(null!=h){if(h===t||"string"==typeof h&&h===t+"")return i;n&&m(h,i)}}for(i=0,l=e.length;i<l;i++){var c=e[i],d=c.interval,f=c.close;if(d){if(d[0]===-1/0){if(C(f[1],t,d[1]))return i}else if(d[1]===1/0){if(C(f[0],d[0],t))return i}else if(C(f[0],d[0],t)&&C(f[1],t,d[1]))return i;n&&m(d[0],i),n&&m(d[1],i)}}if(n)return t===1/0?e.length-1:t===-1/0?0:o;function m(e,n){var l=Math.abs(e-t);l<r&&(r=l,o=n)}};var L=f;t.exports=L},,function(t,e,n){var o=n(219);t.exports=function(t){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return function(e,n,r){for(var style={},i=0;i<t.length;i++){var l=t[i][1];if(!(n&&o.indexOf(n,l)>=0||r&&o.indexOf(r,l)<0)){var h=e.getShallow(l);null!=h&&(style[t[i][0]]=h)}}return style}}},function(t,e,n){var o=n(245),r=n(226),l=n(314),h=n(228),c=n(277).devicePixelRatio,d={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},f=[],m=[],v=[],y=[],x=Math.min,_=Math.max,w=Math.cos,S=Math.sin,M=Math.sqrt,I=Math.abs,T="undefined"!=typeof Float32Array,A=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};A.prototype={constructor:A,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=I(1/c/t)||0,this._uy=I(1/c/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(d.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=I(t-this._xi)>this._ux||I(e-this._yi)>this._uy||this._len<5;return this.addData(d.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,o,r,l){return this.addData(d.C,t,e,n,o,r,l),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,o,r,l):this._ctx.bezierCurveTo(t,e,n,o,r,l)),this._xi=r,this._yi=l,this},quadraticCurveTo:function(t,e,n,o){return this.addData(d.Q,t,e,n,o),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,o):this._ctx.quadraticCurveTo(t,e,n,o)),this._xi=n,this._yi=o,this},arc:function(t,e,n,o,r,l){return this.addData(d.A,t,e,n,n,o,r-o,0,l?0:1),this._ctx&&this._ctx.arc(t,e,n,o,r,l),this._xi=w(r)*n+t,this._yi=S(r)*n+t,this},arcTo:function(t,e,n,o,r){return this._ctx&&this._ctx.arcTo(t,e,n,o,r),this},rect:function(t,e,n,o){return this._ctx&&this._ctx.rect(t,e,n,o),this.addData(d.R,t,e,n,o),this},closePath:function(){this.addData(d.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(data){var t=data.length;this.data&&this.data.length==t||!T||(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=data[i];this._len=t},appendPath:function(path){path instanceof Array||(path=[path]);for(var t=path.length,e=0,n=this._len,i=0;i<t;i++)e+=path[i].len();T&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+e));for(i=0;i<t;i++)for(var o=path[i].data,r=0;r<o.length;r++)this.data[n++]=o[r];this._len=n},addData:function(t){if(this._saveData){var data=this.data;this._len+arguments.length>data.length&&(this._expandData(),data=this.data);for(var i=0;i<arguments.length;i++)data[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],i=0;i<this._len;i++)t[i]=this.data[i];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,o,r=this._dashSum,l=this._dashOffset,h=this._lineDash,c=this._ctx,d=this._xi,f=this._yi,m=t-d,v=e-f,y=M(m*m+v*v),w=d,S=f,I=h.length;for(l<0&&(l=r+l),w-=(l%=r)*(m/=y),S-=l*(v/=y);m>0&&w<=t||m<0&&w>=t||0==m&&(v>0&&S<=e||v<0&&S>=e);)w+=m*(n=h[o=this._dashIdx]),S+=v*n,this._dashIdx=(o+1)%I,m>0&&w<d||m<0&&w>d||v>0&&S<f||v<0&&S>f||c[o%2?"moveTo":"lineTo"](m>=0?x(w,t):_(w,t),v>=0?x(S,e):_(S,e));m=w-t,v=S-e,this._dashOffset=-M(m*m+v*v)},_dashedBezierTo:function(t,e,n,r,l,h){var c,d,f,m,v,y=this._dashSum,x=this._dashOffset,_=this._lineDash,w=this._ctx,S=this._xi,I=this._yi,T=o.cubicAt,A=0,C=this._dashIdx,L=_.length,D=0;for(x<0&&(x=y+x),x%=y,c=0;c<1;c+=.1)d=T(S,t,n,l,c+.1)-T(S,t,n,l,c),f=T(I,e,r,h,c+.1)-T(I,e,r,h,c),A+=M(d*d+f*f);for(;C<L&&!((D+=_[C])>x);C++);for(c=(D-x)/A;c<=1;)m=T(S,t,n,l,c),v=T(I,e,r,h,c),C%2?w.moveTo(m,v):w.lineTo(m,v),c+=_[C]/A,C=(C+1)%L;C%2!=0&&w.lineTo(l,h),d=l-m,f=h-v,this._dashOffset=-M(d*d+f*f)},_dashedQuadraticTo:function(t,e,n,o){var r=n,l=o;n=(n+2*t)/3,o=(o+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,o,r,l)},toStatic:function(){var data=this.data;data instanceof Array&&(data.length=this._len,T&&(this.data=new Float32Array(data)))},getBoundingRect:function(){f[0]=f[1]=v[0]=v[1]=Number.MAX_VALUE,m[0]=m[1]=y[0]=y[1]=-Number.MAX_VALUE;for(var data=this.data,t=0,e=0,n=0,o=0,i=0;i<data.length;){var c=data[i++];switch(1==i&&(n=t=data[i],o=e=data[i+1]),c){case d.M:t=n=data[i++],e=o=data[i++],v[0]=n,v[1]=o,y[0]=n,y[1]=o;break;case d.L:l.fromLine(t,e,data[i],data[i+1],v,y),t=data[i++],e=data[i++];break;case d.C:l.fromCubic(t,e,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],v,y),t=data[i++],e=data[i++];break;case d.Q:l.fromQuadratic(t,e,data[i++],data[i++],data[i],data[i+1],v,y),t=data[i++],e=data[i++];break;case d.A:var x=data[i++],_=data[i++],M=data[i++],I=data[i++],T=data[i++],A=data[i++]+T,C=(data[i++],1-data[i++]);1==i&&(n=w(T)*M+x,o=S(T)*I+_),l.fromArc(x,_,M,I,T,A,C,v,y),t=w(A)*M+x,e=S(A)*I+_;break;case d.R:n=t=data[i++],o=e=data[i++];var L=data[i++],D=data[i++];l.fromLine(n,o,n+L,o+D,v,y);break;case d.Z:t=n,e=o}r.min(f,f,v),r.max(m,m,y)}return 0===i&&(f[0]=f[1]=m[0]=m[1]=0),new h(f[0],f[1],m[0]-f[0],m[1]-f[1])},rebuildPath:function(t){for(var e,n,o,r,l,h,c=this.data,f=this._ux,m=this._uy,v=this._len,i=0;i<v;){var y=c[i++];switch(1==i&&(e=o=c[i],n=r=c[i+1]),y){case d.M:e=o=c[i++],n=r=c[i++],t.moveTo(o,r);break;case d.L:l=c[i++],h=c[i++],(I(l-o)>f||I(h-r)>m||i===v-1)&&(t.lineTo(l,h),o=l,r=h);break;case d.C:t.bezierCurveTo(c[i++],c[i++],c[i++],c[i++],c[i++],c[i++]),o=c[i-2],r=c[i-1];break;case d.Q:t.quadraticCurveTo(c[i++],c[i++],c[i++],c[i++]),o=c[i-2],r=c[i-1];break;case d.A:var x=c[i++],_=c[i++],M=c[i++],T=c[i++],A=c[i++],C=c[i++],L=c[i++],D=c[i++],P=M>T?M:T,k=M>T?1:M/T,O=M>T?T/M:1,E=A+C;Math.abs(M-T)>.001?(t.translate(x,_),t.rotate(L),t.scale(k,O),t.arc(0,0,P,A,E,1-D),t.scale(1/k,1/O),t.rotate(-L),t.translate(-x,-_)):t.arc(x,_,P,A,E,1-D),1==i&&(e=w(A)*M+x,n=S(A)*T+_),o=w(E)*M+x,r=S(E)*T+_;break;case d.R:e=o=c[i],n=r=c[i+1],t.rect(c[i++],c[i++],c[i++],c[i++]);break;case d.Z:t.closePath(),o=e,r=n}}}},A.CMD=d;var C=A;t.exports=C},function(t,e){function n(t){return t}function o(t,e,o,r,l){this._old=t,this._new=e,this._oldKeyGetter=o||n,this._newKeyGetter=r||n,this.context=l}function r(t,map,e,n,o){for(var i=0;i<t.length;i++){var r="_ec_"+o[n](t[i],i),l=map[r];null==l?(e.push(r),map[r]=i):(l.length||(map[r]=l=[l]),l.push(i))}}o.prototype={constructor:o,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},o=[],l=[];for(r(t,{},o,"_oldKeyGetter",this),r(e,n,l,"_newKeyGetter",this),i=0;i<t.length;i++){if(null!=(c=n[h=o[i]]))(f=c.length)?(1===f&&(n[h]=null),c=c.unshift()):n[h]=null,this._update&&this._update(c,i);else this._remove&&this._remove(i)}for(var i=0;i<l.length;i++){var h=l[i];if(n.hasOwnProperty(h)){var c;if(null==(c=n[h]))continue;if(c.length)for(var d=0,f=c.length;d<f;d++)this._add&&this._add(c[d]);else this._add&&this._add(c)}}}};var l=o;t.exports=l},function(t,e,n){var o=n(219),r=n(237);function l(t){return o.isObject(t)&&null!=t.value?t.value:t+""}var h={getFormattedLabels:function(){return r.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&o.map(this.get("data"),l)},getMin:function(t){var option=this.option,e=t||null==option.rangeStart?option.min:option.rangeStart;return this.axis&&null!=e&&"dataMin"!==e&&"function"!=typeof e&&!o.eqNaN(e)&&(e=this.axis.scale.parse(e)),e},getMax:function(t){var option=this.option,e=t||null==option.rangeEnd?option.max:option.rangeEnd;return this.axis&&null!=e&&"dataMax"!==e&&"function"!=typeof e&&!o.eqNaN(e)&&(e=this.axis.scale.parse(e)),e},getNeedCrossZero:function(){var option=this.option;return null==option.rangeStart&&null==option.rangeEnd&&!option.scale},getCoordSysModel:o.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=h},function(t,e){t.exports={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}}}},function(t,e,n){var o=n(220);!function(){for(var t in o){if(null==o||!o.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=o[t]}}();var r=n(354);!function(){for(var t in r){if(null==r||!r.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=r[t]}}(),n(494),n(505),n(509),n(514),n(518),n(528),n(540),n(547),n(555),n(570),n(574),n(578),n(590),n(595),n(601),n(607),n(611),n(618),n(622),n(625),n(639),n(645),n(646),n(647),n(654),n(272),n(658),n(670),n(380),n(386),n(673),n(681),n(685),n(686),n(693),n(700),n(703),n(706),n(709),n(718),n(729),n(732)},function(t,e,n){var o=n(277).debugMode,r=function(){};1===o?r=function(){for(var t in arguments)throw new Error(arguments[t])}:o>1&&(r=function(){for(var t in arguments)console.log(arguments[t])});var l=r;t.exports=l},function(t,e,n){var o=n(278),r=n(228),l=n(219),h=n(313);function c(t){o.call(this,t)}c.prototype={constructor:c,type:"image",brush:function(t,e){var style=this.style,n=style.image;style.bind(t,this,e);var image=this._image=h.createOrUpdateImage(n,this._image,this,this.onload);if(image&&h.isImageReady(image)){var o=style.x||0,r=style.y||0,l=style.width,c=style.height,d=image.width/image.height;if(null==l&&null!=c?l=c*d:null==c&&null!=l?c=l/d:null==l&&null==c&&(l=image.width,c=image.height),this.setTransform(t),style.sWidth&&style.sHeight){var f=style.sx||0,m=style.sy||0;t.drawImage(image,f,m,style.sWidth,style.sHeight,o,r,l,c)}else if(style.sx&&style.sy){var v=l-(f=style.sx),y=c-(m=style.sy);t.drawImage(image,f,m,v,y,o,r,l,c)}else t.drawImage(image,o,r,l,c);this.restoreTransform(t),null!=style.text&&this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var style=this.style;return this._rect||(this._rect=new r(style.x||0,style.y||0,style.width||0,style.height||0)),this._rect}},l.inherits(c,o);var d=c;t.exports=d},function(t,e,n){var o=n(278),r=n(219),l=n(240),h=n(279),c=function(t){o.call(this,t)};c.prototype={constructor:c,type:"text",brush:function(t,e){var style=this.style;this.__dirty&&h.normalizeTextStyle(style,!0),style.fill=style.stroke=style.shadowBlur=style.shadowColor=style.shadowOffsetX=style.shadowOffsetY=null;var text=style.text;null!=text&&(text+=""),style.bind(t,this,e),h.needDrawText(text,style)&&(this.setTransform(t),h.renderText(this,t,text,style),this.restoreTransform(t))},getBoundingRect:function(){var style=this.style;if(this.__dirty&&h.normalizeTextStyle(style,!0),!this._rect){var text=style.text;null!=text?text+="":text="";var rect=l.getBoundingRect(style.text+"",style.font,style.textAlign,style.textVerticalAlign,style.textPadding,style.rich);if(rect.x+=style.x||0,rect.y+=style.y||0,h.getStroke(style.textStroke,style.textStrokeWidth)){var t=style.textStrokeWidth;rect.x-=t/2,rect.y-=t/2,rect.width+=t,rect.height+=t}this._rect=rect}return this._rect}},r.inherits(c,o);var d=c;t.exports=d},function(t,e,n){var o=n(221),r=n(283);function l(t){this.group=new o.Group,this._symbolCtor=t||r}var h=l.prototype;function c(data,t,e){var n=data.getItemLayout(t);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(e&&e(t))&&"none"!==data.getItemVisual(t,"symbol")}h.updateData=function(data,t){var e=this.group,n=data.hostModel,r=this._data,l=this._symbolCtor,h={itemStyle:n.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:n.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:n.get("symbolRotate"),symbolOffset:n.get("symbolOffset"),hoverAnimation:n.get("hoverAnimation"),labelModel:n.getModel("label.normal"),hoverLabelModel:n.getModel("label.emphasis"),cursorStyle:n.get("cursor")};data.diff(r).add((function(n){var o=data.getItemLayout(n);if(c(data,n,t)){var r=new l(data,n,h);r.attr("position",o),data.setItemGraphicEl(n,r),e.add(r)}})).update((function(d,f){var m=r.getItemGraphicEl(f),v=data.getItemLayout(d);c(data,d,t)?(m?(m.updateData(data,d,h),o.updateProps(m,{position:v},n)):(m=new l(data,d)).attr("position",v),e.add(m),data.setItemGraphicEl(d,m)):e.remove(m)})).remove((function(t){var n=r.getItemGraphicEl(t);n&&n.fadeOut((function(){e.remove(n)}))})).execute(),this._data=data},h.updateLayout=function(){var data=this._data;data&&data.eachItemGraphicEl((function(t,e){var n=data.getItemLayout(e);t.attr("position",n)}))},h.remove=function(t){var e=this.group,data=this._data;data&&(t?data.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll())};var d=l;t.exports=d},function(t,e,n){var o=n(220),r=n(219),l=n(221);n(318),n(503),o.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new l.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),o.registerPreprocessor((function(option){option.xAxis&&option.yAxis&&!option.grid&&(option.grid={})}))},function(t,e,n){var o=n(219);function r(t){for(var path=[];t;)(t=t.parentNode)&&path.push(t);return path.reverse()}e.retrieveTargetInfo=function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var n=e.getData().tree.root,o=t.targetNode;if(o&&n.contains(o))return{node:o};var r=t.targetNodeId;if(null!=r&&(o=n.getNodeById(r)))return{node:o}}},e.getPathToRoot=r,e.aboveViewRoot=function(t,e){var n=r(t);return o.indexOf(n,e)>=0},e.wrapTreePathInfo=function(t,e){for(var n=[];t;){var o=t.dataIndex;n.push({name:t.name,dataIndex:o,value:e.getRawValue(o)}),t=t.parentNode}return n.reverse(),n}},function(t,e){function n(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function o(t,e){return Math.min(e[1],Math.max(e[0],t))}t.exports=function(t,e,r,l,h,c){e[0]=o(e[0],r),e[1]=o(e[1],r),t=t||0;var d=r[1]-r[0];null!=h&&(h=o(h,[0,d])),null!=c&&(c=Math.max(c,null!=h?h:0)),"all"===l&&(h=c=Math.abs(e[1]-e[0]),l=0);var f=n(e,l);e[l]+=t;var m=h||0,v=r.slice();f.sign<0?v[0]+=m:v[1]-=m,e[l]=o(e[l],v);var y=n(e,l);return null!=h&&(y.sign!==f.sign||y.span<h)&&(e[1-l]=e[l]+f.sign*h),y=n(e,l),null!=c&&y.span>c&&(e[1-l]=e[l]+y.sign*c),e}},function(t,e,n){var o=n(220),r=n(219),l=n(285),h=n(631);n(632),n(633),n(390),o.registerPreprocessor((function(option){if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;link&&!r.isArray(link)&&(option.axisPointer.link=[link])}})),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=l.collect(t,e)})),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},h)},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(230),h=n(224),c=n(328),d=n(687),f=r.each,m=c.eachAxisDim;function v(option){var t={};return f(["start","end","startValue","endValue","throttle"],(function(e){option.hasOwnProperty(e)&&(t[e]=option[e])})),t}function y(t,e){var n=t._rangePropMode,o=t.get("rangeMode");f([["start","startValue"],["end","endValue"]],(function(t,r){var l=null!=e[t[0]],h=null!=e[t[1]];l&&!h?n[r]="percent":!l&&h?n[r]="value":o?n[r]=o[r]:l&&(n[r]="percent")}))}var x=o.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(option,t,e){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=v(option);this.mergeDefaultAndTheme(option,e),this.doInit(n)},mergeOption:function(t){var e=v(t);r.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;l.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),y(this,t),f([["start","startValue"],["end","endValue"]],(function(t,n){"value"===this._rangePropMode[n]&&(e[t[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis((function(e,n,o,r){var l=this.dependentModels[e.axis][n],h=l.__dzAxisProxy||(l.__dzAxisProxy=new d(e.name,n,this,r));t[e.name+"_"+n]=h}),this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();m((function(e){var n=e.axisIndex;t[n]=h.normalizeToArray(t[n])}),this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;m((function(n){null!=t[n.axisIndex]&&(e=!0)}),this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,o=this.dependentModels;if(t){var l="vertical"===e?"y":"x";o[l+"Axis"].length?(n[l+"AxisIndex"]=[0],t=!1):f(o.singleAxis,(function(o){t&&o.get("orient",!0)===e&&(n.singleAxisIndex=[o.componentIndex],t=!1)}))}t&&m((function(e){if(t){var o=[],r=this.dependentModels[e.axis];if(r.length&&!o.length)for(var i=0,l=r.length;i<l;i++)"category"===r[i].get("type")&&o.push(i);n[e.axisIndex]=o,o.length&&(t=!1)}}),this),t&&this.ecModel.eachSeries((function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&m((function(e){var o=n[e.axisIndex],l=t.get(e.axisIndex),h=t.get(e.axisId);l=t.ecModel.queryComponents({mainType:e.axis,index:l,id:h})[0].componentIndex,r.indexOf(o,l)<0&&o.push(l)}))}),this)},_autoSetOrient:function(){var t;this.eachTargetAxis((function(e){!t&&(t=e.name)}),this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return m((function(o){var r=t.get(o.axisIndex),l=this.dependentModels[o.axis][r];l&&l.get("type")===e||(n=!1)}),this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return m((function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}}),this),t},eachTargetAxis:function(t,e){var n=this.ecModel;m((function(o){f(this.get(o.axisIndex),(function(r){t.call(e,o,r,this,n)}),this)}),this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t,e){var option=this.option;f([["start","startValue"],["end","endValue"]],(function(e){null==t[e[0]]&&null==t[e[1]]||(option[e[0]]=t[e[0]],option[e[1]]=t[e[1]])}),this),!e&&y(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});t.exports=x},function(t,e,n){var o=n(316).extend({type:"dataZoom",render:function(t,e,n,o){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,n={};return t.eachTargetAxis((function(t,o){var r=e.getComponent(t.axis,o);if(r){var l=r.getCoordSysModel();l&&function(t,e,n,o){for(var r,i=0;i<n.length;i++)if(n[i].model===t){r=n[i];break}r||n.push(r={model:t,axisModels:[],coordIndex:o});r.axisModels.push(e)}(l,r,n[l.mainType]||(n[l.mainType]=[]),l.componentIndex)}}),this),n}});t.exports=o},function(t,e,n){var o=n(337),r=n(230),l=n(219),h=n(448),c=n(450),d=n(454),f=n(456),m=n(457),v=!r.canvasSupported,y={canvas:d},x={};var _=function(t,e,n){n=n||{},this.dom=e,this.id=t;var o=this,d=new c,x=n.renderer;if(v){if(!y.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");x="vml"}else x&&y[x]||(x="canvas");var _=new y[x](e,d,n);this.storage=d,this.painter=_;var w=r.node?null:new m(_.getViewportRoot());this.handler=new h(d,_,w,_.root),this.animation=new f({stage:{update:l.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var S=d.delFromStorage,M=d.addToStorage;d.delFromStorage=function(t){S.call(d,t),t&&t.removeSelfFromZr(o)},d.addToStorage=function(t){M.call(d,t),t.addSelfToZr(o)}};_.prototype={constructor:_,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,style){this.painter.addHover&&(this.painter.addHover(t,style),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete x[t]}},e.version="3.7.4",e.init=function(t,e){var n=new _(o(),t,e);return x[n.id]=n,n},e.dispose=function(t){if(t)t.dispose();else{for(var e in x)x.hasOwnProperty(e)&&x[e].dispose();x={}}return this},e.getInstance=function(t){return x[t]},e.registerPainter=function(t,e){y[t]=e}},function(t,e,n){var o=n(219),r=n(338),l=n(228),h=function(t){for(var e in t=t||{},r.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};h.prototype={constructor:h,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,o=n.indexOf(e);o>=0&&(n.splice(o,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof h&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,l=o.indexOf(r,t);return l<0?this:(r.splice(l,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof h&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,i,e=this._children,n=this.__storage;for(i=0;i<e.length;i++)t=e[i],n&&(n.delFromStorage(t),t instanceof h&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var o=n[i];t.call(e,o,i)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var i=0;i<this._children.length;i++){var e=this._children[i];t.addToStorage(e),e instanceof h&&e.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var i=0;i<this._children.length;i++){var e=this._children[i];t.delFromStorage(e),e instanceof h&&e.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var rect=null,e=new l(0,0,0,0),n=t||this._children,o=[],i=0;i<n.length;i++){var r=n[i];if(!r.ignore&&!r.invisible){var h=r.getBoundingRect(),c=r.getLocalTransform(o);c?(e.copy(h),e.applyTransform(c),(rect=rect||e.clone()).union(e)):(rect=rect||h.clone()).union(h)}}return rect||e}},o.inherits(h,r);var c=h;t.exports=c},function(t,e){var n=1;"undefined"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var o=n;e.debugMode=0,e.devicePixelRatio=o},function(t,e,n){var o=n(219),r=n(341),l=n(338),h=n(344);function c(t){for(var e in t=t||{},l.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new r(t.style,this),this._rect=null,this.__clipPaths=[]}c.prototype={constructor:c,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?l.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new r(t,this),this.dirty(!1),this}},o.inherits(c,l),o.mixin(c,h);var d=c;t.exports=d},function(t,e,n){var o=n(219),r=o.retrieve2,l=o.retrieve3,h=o.each,c=o.normalizeCssArray,d=o.isString,f=o.isObject,m=n(240),v=n(345),y=n(313),x={left:1,right:1,center:1},_={top:1,bottom:1,middle:1};function w(style){if(style){style.font=m.makeFont(style);var t=style.textAlign;"middle"===t&&(t="center"),style.textAlign=null==t||x[t]?t:"left";var e=style.textVerticalAlign||style.textBaseline;"center"===e&&(e="middle"),style.textVerticalAlign=null==e||_[e]?e:"top",style.textPadding&&(style.textPadding=c(style.textPadding))}}function S(t,style,rect,e,n){if(rect&&style.textRotation){var o=style.textOrigin;"center"===o?(e=rect.width/2+rect.x,n=rect.height/2+rect.y):o&&(e=o[0]+rect.x,n=o[1]+rect.y),t.translate(e,n),t.rotate(-style.textRotation),t.translate(-e,-n)}}function M(t,e,n,style,o,h,c,d){var f=style.rich[n.styleName]||{},v=n.textVerticalAlign,y=h+o/2;"top"===v?y=h+n.height/2:"bottom"===v&&(y=h+o-n.height/2),!n.isLineHolder&&I(f)&&T(t,e,f,"right"===d?c-n.width:"center"===d?c-n.width/2:c,y-n.height/2,n.width,n.height);var x=n.textPadding;x&&(c=O(c,d,x),y-=n.height/2-x[2]-n.textHeight/2),L(e,"shadowBlur",l(f.textShadowBlur,style.textShadowBlur,0)),L(e,"shadowColor",f.textShadowColor||style.textShadowColor||"transparent"),L(e,"shadowOffsetX",l(f.textShadowOffsetX,style.textShadowOffsetX,0)),L(e,"shadowOffsetY",l(f.textShadowOffsetY,style.textShadowOffsetY,0)),L(e,"textAlign",d),L(e,"textBaseline","middle"),L(e,"font",n.font||m.DEFAULT_FONT);var _=D(f.textStroke||style.textStroke,S),w=P(f.textFill||style.textFill),S=r(f.textStrokeWidth,style.textStrokeWidth);_&&(L(e,"lineWidth",S),L(e,"strokeStyle",_),e.strokeText(n.text,c,y)),w&&(L(e,"fillStyle",w),e.fillText(n.text,c,y))}function I(style){return style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor}function T(t,e,style,n,o,r,l){var h=style.textBackgroundColor,c=style.textBorderWidth,m=style.textBorderColor,x=d(h);if(L(e,"shadowBlur",style.textBoxShadowBlur||0),L(e,"shadowColor",style.textBoxShadowColor||"transparent"),L(e,"shadowOffsetX",style.textBoxShadowOffsetX||0),L(e,"shadowOffsetY",style.textBoxShadowOffsetY||0),x||c&&m){e.beginPath();var _=style.textBorderRadius;_?v.buildPath(e,{x:n,y:o,width:r,height:l,r:_}):e.rect(n,o,r,l),e.closePath()}if(x)L(e,"fillStyle",h),e.fill();else if(f(h)){var image=h.image;(image=y.createOrUpdateImage(image,null,t,A,h))&&y.isImageReady(image)&&e.drawImage(image,n,o,r,l)}c&&m&&(L(e,"lineWidth",c),L(e,"strokeStyle",m),e.stroke())}function A(image,t){t.image=image}function C(t,style,rect){var e=style.x||0,n=style.y||0,o=style.textAlign,r=style.textVerticalAlign;if(rect){var l=style.textPosition;if(l instanceof Array)e=rect.x+k(l[0],rect.width),n=rect.y+k(l[1],rect.height);else{var h=m.adjustTextPositionOnRect(l,rect,style.textDistance);e=h.x,n=h.y,o=o||h.textAlign,r=r||h.textVerticalAlign}var c=style.textOffset;c&&(e+=c[0],n+=c[1])}return{baseX:e,baseY:n,textAlign:o,textVerticalAlign:r}}function L(t,e,n){return t[e]=n,t[e]}function D(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function P(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function O(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}e.normalizeTextStyle=function(style){return w(style),h(style.rich,w),style},e.renderText=function(t,e,text,style,rect){style.rich?function(t,e,text,style,rect){var n=t.__textCotentBlock;n&&!t.__dirty||(n=t.__textCotentBlock=m.parseRichText(text,style));!function(t,e,n,style,rect){var o=n.width,r=n.outerWidth,l=n.outerHeight,h=style.textPadding,c=C(l,style,rect),d=c.baseX,f=c.baseY,v=c.textAlign,y=c.textVerticalAlign;S(e,style,rect,d,f);var x=m.adjustTextX(d,r,v),_=m.adjustTextY(f,l,y),w=x,A=_;h&&(w+=h[3],A+=h[0]);var L=w+o;I(style)&&T(t,e,style,x,_,r,l);for(var i=0;i<n.lines.length;i++){for(var D,line=n.lines[i],P=line.tokens,k=P.length,O=line.lineHeight,E=line.width,z=0,N=w,R=L,V=k-1;z<k&&(!(D=P[z]).textAlign||"left"===D.textAlign);)M(t,e,D,style,O,A,N,"left"),E-=D.width,N+=D.width,z++;for(;V>=0&&"right"===(D=P[V]).textAlign;)M(t,e,D,style,O,A,R,"right"),E-=D.width,R-=D.width,V--;for(N+=(o-(N-w)-(L-R)-E)/2;z<=V;)D=P[z],M(t,e,D,style,O,A,N+D.width/2,"center"),N+=D.width,z++;A+=O}}(t,e,n,style,rect)}(t,e,text,style,rect):function(t,e,text,style,rect){var n=L(e,"font",style.font||m.DEFAULT_FONT),o=style.textPadding,r=t.__textCotentBlock;r&&!t.__dirty||(r=t.__textCotentBlock=m.parsePlainText(text,n,o,style.truncate));var l=r.outerHeight,h=r.lines,c=r.lineHeight,d=C(l,style,rect),f=d.baseX,v=d.baseY,y=d.textAlign,x=d.textVerticalAlign;S(e,style,rect,f,v);var _=m.adjustTextY(v,l,x),w=f,M=_,A=I(style);if(A||o){var k=m.getWidth(text,n);o&&(k+=o[1]+o[3]);var E=m.adjustTextX(f,k,y);A&&T(t,e,style,E,_,k,l),o&&(w=O(f,y,o),M+=o[0])}L(e,"textAlign",y||"left"),L(e,"textBaseline","middle"),L(e,"shadowBlur",style.textShadowBlur||0),L(e,"shadowColor",style.textShadowColor||"transparent"),L(e,"shadowOffsetX",style.textShadowOffsetX||0),L(e,"shadowOffsetY",style.textShadowOffsetY||0),M+=c/2;var z=style.textStrokeWidth,N=D(style.textStroke,z),R=P(style.textFill);N&&(L(e,"lineWidth",z),L(e,"strokeStyle",N));R&&L(e,"fillStyle",R);for(var i=0;i<h.length;i++)N&&e.strokeText(h[i],w,M),R&&e.fillText(h[i],w,M),M+=c}(t,e,text,style,rect)},e.getStroke=D,e.getFill=P,e.needDrawText=function(text,style){return null!=text&&(text||style.textBackgroundColor||style.textBorderWidth&&style.textBorderColor||style.textPadding)}},function(t,e){var n=function(t){this.colorStops=t||[]};n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var o=n;t.exports=o},function(t,e,n){var o=n(244);function r(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}r.prototype.parse=function(t){return t},r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(data,t){this.unionExtent(data.getDataExtent(t,!0))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},r.prototype.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},o.enableClassExtend(r),o.enableClassManagement(r,{registerWhenExtend:!0});var l=r;t.exports=l},function(t,e,n){var o=n(222),r=n(227),l=n(281),h=n(355),c=o.round,d=l.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),d.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=h.getIntervalPrecision(t)},getTicks:function(){return h.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(data,t){if(null==data)return"";var e=t&&t.precision;return null==e?e=o.getPrecisionSafe(data)||0:"auto"===e&&(e=this._intervalPrecision),data=c(data,e,!0),r.addCommas(data)},niceTicks:function(t,e,n){t=t||5;var o=this._extent,span=o[1]-o[0];if(isFinite(span)){span<0&&(span=-span,o.reverse());var r=h.intervalScaleNiceTicks(o,t,e,n);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var span=e[1]-e[0];isFinite(span)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=c(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=c(Math.ceil(e[1]/o)*o))}});d.create=function(){return new d};var f=d;t.exports=f},function(t,e,n){var o=n(219),r=n(238).createSymbol,l=n(221),h=n(222).parsePercent,c=n(359).findLabelValueDim;function d(t){return[t[0]/2,t[1]/2]}function f(data,t,e){l.Group.call(this),this.updateData(data,t,e)}var m=f.prototype;function v(t,e){this.parent.drift(t,e)}m._createSymbol=function(t,data,e,n){this.removeAll();var o=data.getItemVisual(e,"color"),l=r(t,-1,-1,2,2,o);l.attr({z2:100,culling:!0,scale:d(n)}),l.drift=v,this._symbolType=t,this.add(l)},m.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},m.getSymbolPath=function(){return this.childAt(0)},m.getScale=function(){return this.childAt(0).scale},m.highlight=function(){this.childAt(0).trigger("emphasis")},m.downplay=function(){this.childAt(0).trigger("normal")},m.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},m.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},m.updateData=function(data,t,e){this.silent=!1;var n=data.getItemVisual(t,"symbol")||"circle",o=data.hostModel,r=function(data,t){var e=data.getItemVisual(t,"symbolSize");return e instanceof Array?e.slice():[+e,+e]}(data,t),h=n!==this._symbolType;h?this._createSymbol(n,data,t,r):((c=this.childAt(0)).silent=!1,l.updateProps(c,{scale:d(r)},o,t));if(this._updateCommon(data,t,r,e),h){var c=this.childAt(0),f=e&&e.fadeIn,m={scale:c.scale.slice()};f&&(m.style={opacity:c.style.opacity}),c.scale=[0,0],f&&(c.style.opacity=0),l.initProps(c,m,o,t)}this._seriesModel=o};var y=["itemStyle","normal"],x=["itemStyle","emphasis"],_=["label","normal"],w=["label","emphasis"];m._updateCommon=function(data,t,e,n){var r=this.childAt(0),f=data.hostModel,m=data.getItemVisual(t,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var v=n&&n.itemStyle,S=n&&n.hoverItemStyle,M=n&&n.symbolRotate,I=n&&n.symbolOffset,T=n&&n.labelModel,A=n&&n.hoverLabelModel,C=n&&n.hoverAnimation,L=n&&n.cursorStyle;if(!n||data.hasItemOption){var D=n&&n.itemModel?n.itemModel:data.getItemModel(t);v=D.getModel(y).getItemStyle(["color"]),S=D.getModel(x).getItemStyle(),M=D.getShallow("symbolRotate"),I=D.getShallow("symbolOffset"),T=D.getModel(_),A=D.getModel(w),C=D.getShallow("hoverAnimation"),L=D.getShallow("cursor")}else S=o.extend({},S);var P=r.style;r.attr("rotation",(M||0)*Math.PI/180||0),I&&r.attr("position",[h(I[0],e[0]),h(I[1],e[1])]),L&&r.attr("cursor",L),r.setColor(m,n&&n.symbolInnerColor),r.setStyle(v);var k=data.getItemVisual(t,"opacity");null!=k&&(P.opacity=k);var O=n&&n.useNameLabel,E=!O&&c(data);(O||null!=E)&&l.setLabelStyle(P,S,T,A,{labelFetcher:f,labelDataIndex:t,defaultText:O?data.getName(t):data.get(E,t),isRectText:!0,autoColor:m}),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=S,l.setHoverStyle(r);var z=d(e);if(C&&f.isAnimationEnabled()){var N=function(){var t=z[1]/z[0];this.animateTo({scale:[Math.max(1.1*z[0],z[0]+3),Math.max(1.1*z[1],z[1]+3*t)]},400,"elasticOut")},R=function(){this.animateTo({scale:z},400,"elasticOut")};r.on("mouseover",N).on("mouseout",R).on("emphasis",N).on("normal",R)}},m.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,(!e||!e.keepLabel)&&(n.style.text=null),l.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},o.inherits(f,l.Group);var S=f;t.exports=S},function(t,e,n){var o=n(219),r=n(362),l=n(232),h=n(225),c=h.getLayoutParams,d=h.mergeLayoutParam,f=["value","category","time","log"];t.exports=function(t,e,n,h){o.each(f,(function(l){e.extend({type:t+"Axis."+l,mergeDefaultAndTheme:function(option,e){var r=this.layoutMode,h=r?c(option):{},f=e.getTheme();o.merge(option,f.get(l+"Axis")),o.merge(option,this.getDefaultOption()),option.type=n(t,option),r&&d(option,h,r)},defaultOption:o.mergeAll([{},r[l+"Axis"],h],!0)})})),l.registerSubTypeDefaulter(t+"Axis",o.curry(n,t))}},function(t,e,n){var o=n(219),r=n(229),l=o.each,h=o.curry;function c(t,e){return"all"===t||o.isArray(t)&&o.indexOf(t,e)>=0||t===e}function d(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[m(t)]}function f(t){return!!t.get("handle.show")}function m(t){return t.type+"||"+t.id}e.collect=function(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var d=e.getComponent("tooltip"),v=e.getComponent("axisPointer"),y=v.get("link",!0)||[],x=[];l(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var _=m(n.model),w=t.coordSysAxesInfo[_]={};t.coordSysMap[_]=n;var S=n.model.getModel("tooltip",d);if(l(n.getAxes(),h(A,!1,null)),n.getTooltipAxes&&d&&S.get("show")){var M="axis"===S.get("trigger"),I="cross"===S.get("axisPointer.type"),T=n.getTooltipAxes(S.get("axisPointer.axis"));(M||I)&&l(T.baseAxes,h(A,!I||"cross",M)),I&&l(T.otherAxes,h(A,"cross",!1))}}function A(h,d,_){var M=_.model.getModel("axisPointer",v),I=M.get("show");if(I&&("auto"!==I||h||f(M))){null==d&&(d=M.get("triggerTooltip"));var T=(M=h?function(t,e,n,h,c,d){var f=e.getModel("axisPointer"),m={};l(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){m[t]=o.clone(f.get(t))})),m.snap="category"!==t.type&&!!d,"cross"===f.get("type")&&(m.type="line");var v=m.label||(m.label={});if(null==v.show&&(v.show=!1),"cross"===c&&(v.show=!0,!d)){var y=m.lineStyle=f.get("crossStyle");y&&o.defaults(v,y.textStyle)}return t.model.getModel("axisPointer",new r(m,n,h))}(_,S,v,e,h,d):M).get("snap"),A=m(_.model),C=d||T||"category"===_.type,L=t.axesInfo[A]={key:A,axis:_,coordSys:n,axisPointerModel:M,triggerTooltip:d,involveSeries:C,snap:T,useHandle:f(M),seriesModels:[]};w[A]=L,t.seriesInvolved|=C;var D=function(t,e){for(var n=e.model,o=e.dim,i=0;i<t.length;i++){var r=t[i]||{};if(c(r[o+"AxisId"],n.id)||c(r[o+"AxisIndex"],n.componentIndex)||c(r[o+"AxisName"],n.name))return i}}(y,_);if(null!=D){var P=x[D]||(x[D]={axesInfo:{}});P.axesInfo[A]=L,P.mapper=y[D].mapper,L.linkGroup=P}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,o=e.get("tooltip.trigger",!0),r=e.get("tooltip.show",!0);n&&"none"!==o&&!1!==o&&"item"!==o&&!1!==r&&!1!==e.get("axisPointer.show",!0)&&l(t.coordSysAxesInfo[m(n.model)],(function(t){var o=t.axis;n.getAxis(o.dim)===o&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}(n,t),n},e.fixValue=function(t){var e=d(t);if(e){var n=e.axisPointerModel,o=e.axis.scale,option=n.option,r=n.get("status"),l=n.get("value");null!=l&&(l=o.parse(l));var h=f(n);null==r&&(option.status=h?"show":"hide");var c=o.getExtent().slice();c[0]>c[1]&&c.reverse(),(null==l||l>c[1])&&(l=c[1]),l<c[0]&&(l=c[0]),option.value=l,h&&(option.status=e.axis.scale.isBlank()?"hide":"show")}},e.getAxisInfo=d,e.getAxisPointerModel=function(t){var e=d(t);return e&&e.axisPointerModel},e.makeKey=m},function(t,e){t.exports=function(t,e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.eachSeriesByType(t,(function(t){var data=t.getData();data.filterSelf((function(t){for(var e=data.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0}),this)}),this)}},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(530),h=n(225),c=n(222);function d(t,e){var n=t.get("boundingCoords");if(null!=n){var o=n[0],r=n[1];isNaN(o[0])||isNaN(o[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(o[0],o[1],r[0]-o[0],r[1]-o[1])}var l,rect=this.getBoundingRect(),d=t.get("layoutCenter"),f=t.get("layoutSize"),m=e.getWidth(),v=e.getHeight(),y=t.get("aspectScale")||.75,x=rect.width/rect.height*y,_=!1;if(d&&f&&(d=[c.parsePercent(d[0],m),c.parsePercent(d[1],v)],f=c.parsePercent(f,Math.min(m,v)),isNaN(d[0])||isNaN(d[1])||isNaN(f)||(_=!0)),_){var w={};x>1?(w.width=f,w.height=f/x):(w.height=f,w.width=f*x),w.y=d[1]-w.height/2,w.x=d[0]-w.width/2}else(l=t.getBoxLayoutParams()).aspect=x,w=h.getLayoutRect(l,{width:m,height:v});this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function f(t,e){r.each(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}var m={dimensions:l.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",(function(t,r){var h=t.get("map"),c=o.getMap(h),m=new l(h+r,h,c&&c.geoJson,c&&c.specialAreas,t.get("nameMap"));m.zoomLimit=t.get("scaleLimit"),n.push(m),f(m,t),t.coordinateSystem=m,m.model=t,m.resize=d,m.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}}));var h={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();h[e]=h[e]||[],h[e].push(t)}})),r.each(h,(function(t,h){var c=o.getMap(h),m=r.map(t,(function(t){return t.get("nameMap")})),v=new l(h,h,c&&c.geoJson,c&&c.specialAreas,r.mergeAll(m));v.zoomLimit=r.retrieve.apply(null,r.map(t,(function(t){return t.get("scaleLimit")}))),n.push(v),v.resize=d,v.resize(t[0],e),r.each(t,(function(t){t.coordinateSystem=v,f(v,t)}))})),n},getFilledRegions:function(t,e,n){var l=(t||[]).slice();n=n||{};var map=o.getMap(e),h=map&&map.geoJson;if(!h)return t;for(var c=r.createHashMap(),d=h.features,i=0;i<l.length;i++)c.set(l[i].name,l[i]);for(i=0;i<d.length;i++){var f=d[i].properties.name;c.get(f)||(n.hasOwnProperty(f)&&(f=n[f]),l.push({name:f}))}return l}};o.registerCoordinateSystem("geo",m);var v=m;t.exports=v},function(t,e,n){var o=n(219),r=n(252),l=n(243),h=n(369);function c(t){this.pointerChecker,this._zr=t,this._opt={};var e=o.bind,n=e(d,this),l=e(f,this),h=e(m,this),c=e(v,this),x=e(y,this);r.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,r){this.disable(),this._opt=o.defaults(o.clone(r)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",l),t.on("mouseup",h)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",c),t.on("pinch",x))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",l),t.off("mouseup",h),t.off("mousewheel",c),t.off("pinch",x)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function d(t){if(!(l.notLeftMouse(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function f(t){if(!l.notLeftMouse(t)&&_(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!h.isTaken(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,o=this._x,r=this._y,c=e-o,d=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&l.stop(t.event),this.trigger("pan",c,d,o,r,e,n)}}function m(t){l.notLeftMouse(t)||(this._dragging=!1)}function v(t){if(_(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;x.call(this,t,e,t.offsetX,t.offsetY)}}function y(t){if(!h.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;x.call(this,t,e,t.pinchX,t.pinchY)}}function x(t,e,n,o){this.pointerChecker&&this.pointerChecker(t,n,o)&&(l.stop(t.event),this.trigger("zoom",e,n,o))}function _(t,e,n){var r=t._opt[e];return r&&(!o.isString(r)||n.event[r+"Key"])}o.mixin(c,r);var w=c;t.exports=w},function(t,e,n){var o=n(233),r=n(239),l=n(597),h=n(219),c={_baseAxisDim:null,getInitialData:function(option,t){var e,n,l=t.getComponent("xAxis",this.get("xAxisIndex")),c=t.getComponent("yAxis",this.get("yAxisIndex")),d=l.get("type"),f=c.get("type");"category"===d?(option.layout="horizontal",e=l.getCategories(),n=!0):"category"===f?(option.layout="vertical",e=c.getCategories(),n=!0):option.layout=option.layout||"horizontal";var m=["x","y"],v="horizontal"===option.layout?0:1,y=this._baseAxisDim=m[v],x=m[1-v],data=option.data;n&&h.each(data,(function(t,e){t.value&&h.isArray(t.value)?t.value.unshift(e):h.isArray(t)&&t.unshift(e)}));var _=this.defaultValueDimensions,w=[{name:y,otherDims:{tooltip:!1},dimsDef:["base"]},{name:x,dimsDef:_.slice()}];w=r(w,data,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:_.length+1});var S=new o(w,this);return S.initData(data,e?e.slice():null),S},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},d={init:function(){var t=this._whiskerBoxDraw=new l(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,n){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};e.seriesModelMixin=c,e.viewMixin=d},function(t,e,n){var o=n(219),r=n(221),l=n(240),h=n(227),c=n(236),d=n(237),f=n(255);function m(t,e,n,o,r){var text=v(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),c=n.getModel("label"),d=h.normalizeCssArray(c.get("padding")||0),f=c.getFont(),m=l.getBoundingRect(text,f),y=r.position,x=m.width+d[1]+d[3],_=m.height+d[0]+d[2],w=r.align;"right"===w&&(y[0]-=x),"center"===w&&(y[0]-=x/2);var S=r.verticalAlign;"bottom"===S&&(y[1]-=_),"middle"===S&&(y[1]-=_/2),function(t,e,n,o){var r=o.getWidth(),l=o.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,l)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(y,x,_,o);var M=c.get("backgroundColor");M&&"auto"!==M||(M=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:x,height:_,r:c.get("borderRadius")},position:y.slice(),style:{text:text,textFont:f,textFill:c.getTextColor(),textPosition:"inside",fill:M,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function v(t,e,n,r,l){var text=e.scale.getLabel(t,{precision:l.precision}),h=l.formatter;if(h){var c={value:d.getAxisRawValue(e,t),seriesData:[]};o.each(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),o=t.dataIndexInside,r=e&&e.getDataParams(o);r&&c.seriesData.push(r)})),o.isString(h)?text=h.replace("{value}",text):o.isFunction(h)&&(text=h(c))}return text}function y(t,e,n){var o=c.create();return c.rotate(o,o,n.rotation),c.translate(o,o,n.position),r.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],o)}e.buildElStyle=function(t){var style,e=t.get("type"),n=t.getModel(e+"Style");return"line"===e?(style=n.getLineStyle()).fill=null:"shadow"===e&&((style=n.getAreaStyle()).stroke=null),style},e.buildLabelElOption=m,e.getValueLabel=v,e.getTransformedPosition=y,e.buildCartesianSingleLabelElOption=function(t,e,n,o,r,l){var h=f.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),m(e,o,r,l,{position:y(o.axis,t,n),align:h.textAlign,verticalAlign:h.textVerticalAlign})},e.makeLineShape=function(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}},e.makeRectShape=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},e.makeSectorShape=function(t,e,n,o,r,l){return{cx:t,cy:e,r0:n,r:o,startAngle:r,endAngle:l,clockwise:!0}}},function(t,e,n){var o=n(219),r=n(257),l=o.each;function h(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}e.createVisualMappings=function(option,t,e){var n={};return l(t,(function(t){var h,c=n[t]=((h=function(){}).prototype.__hidden=h.prototype,new h);l(option[t],(function(n,l){if(r.isValidType(l)){var h={type:l,visual:n};e&&e(h,t),c[l]=new r(h),"opacity"===l&&((h=o.clone(h)).type="colorAlpha",c.__hidden.__alphaForOpacity=new r(h))}}))})),n},e.replaceVisualOption=function(t,e,n){var r;o.each(n,(function(t){e.hasOwnProperty(t)&&h(e[t])&&(r=!0)})),r&&o.each(n,(function(n){e.hasOwnProperty(n)&&h(e[n])?t[n]=o.clone(e[n]):delete t[n]}))},e.applyVisual=function(t,e,data,n,l,h){var c,d={};function f(t){return data.getItemVisual(c,t)}function m(t,e){data.setItemVisual(c,t,e)}function v(t,o){c=null==h?t:o;var r=data.getRawDataItem(c);if(!r||!1!==r.visualMap)for(var v=n.call(l,t),y=e[v],x=d[v],i=0,_=x.length;i<_;i++){var w=x[i];y[w]&&y[w].applyVisual(t,f,m)}}o.each(t,(function(t){var n=r.prepareVisualTypes(e[t]);d[t]=n})),null==h?data.each(v,!0):data.each([h],v,!0)}},,,,,,,,,,,,,,,,,,,,function(t,e,n){var o=n(236),r=n(226),l=o.identity,h=5e-5;function c(t){return t>h||t<-h}var d=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},f=d.prototype;f.transform=null,f.needLocalTransform=function(){return c(this.rotation)||c(this.position[0])||c(this.position[1])||c(this.scale[0]-1)||c(this.scale[1]-1)},f.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||o.create(),n?this.getLocalTransform(r):l(r),e&&(n?o.mul(r,t.transform,r):o.copy(r,t.transform)),this.transform=r,this.invTransform=this.invTransform||o.create(),o.invert(this.invTransform,r)):r&&l(r)},f.getLocalTransform=function(t){return d.getLocalTransform(this,t)},f.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},f.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var m=[];f.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(o.mul(m,t.invTransform,e),e=m);var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],l=this.position,h=this.scale;c(n-1)&&(n=Math.sqrt(n)),c(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(n=-n),e[3]<0&&(r=-r),l[0]=e[4],l[1]=e[5],h[0]=n,h[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/n)}},f.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},f.transformCoordToLocal=function(t,e){var n=[t,e],o=this.invTransform;return o&&r.applyTransform(n,n,o),n},f.transformCoordToGlobal=function(t,e){var n=[t,e],o=this.transform;return o&&r.applyTransform(n,n,o),n},d.getLocalTransform=function(t,e){l(e=e||[]);var n=t.origin,r=t.scale||[1,1],h=t.rotation||0,c=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),o.scale(e,e,r),h&&o.rotate(e,e,h),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=c[0],e[5]+=c[1],e};var v=d;t.exports=v},function(t,e){var n=32,o=7;function r(t,e,n,o){var r=e+1;if(r===n)return 1;if(o(t[r++],t[e])<0){for(;r<n&&o(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var o=t[e];t[e++]=t[n],t[n--]=o}}(t,e,r)}else for(;r<n&&o(t[r],t[r-1])>=0;)r++;return r-e}function l(t,e,n,o,r){for(o===e&&o++;o<n;o++){for(var l,h=t[o],c=e,d=o;c<d;)r(h,t[l=c+d>>>1])<0?d=l:c=l+1;var f=o-c;switch(f){case 3:t[c+3]=t[c+2];case 2:t[c+2]=t[c+1];case 1:t[c+1]=t[c];break;default:for(;f>0;)t[c+f]=t[c+f-1],f--}t[c]=h}}function h(t,e,n,o,r,l){var h=0,c=0,d=1;if(l(t,e[n+r])>0){for(c=o-r;d<c&&l(t,e[n+r+d])>0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c),h+=r,d+=r}else{for(c=r+1;d<c&&l(t,e[n+r-d])<=0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c);var f=h;h=r-d,d=r-f}for(h++;h<d;){var m=h+(d-h>>>1);l(t,e[n+m])>0?h=m+1:d=m}return d}function c(t,e,n,o,r,l){var h=0,c=0,d=1;if(l(t,e[n+r])<0){for(c=r+1;d<c&&l(t,e[n+r-d])<0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c);var f=h;h=r-d,d=r-f}else{for(c=o-r;d<c&&l(t,e[n+r+d])>=0;)h=d,(d=1+(d<<1))<=0&&(d=c);d>c&&(d=c),h+=r,d+=r}for(h++;h<d;){var m=h+(d-h>>>1);l(t,e[n+m])<0?d=m:h=m+1}return d}function d(t,e){var n,r,l,d=o,f=0;n=t.length;var m=[];function v(i){var n=r[i],v=l[i],y=r[i+1],x=l[i+1];l[i]=v+x,i===f-3&&(r[i+1]=r[i+2],l[i+1]=l[i+2]),f--;var _=c(t[y],t,n,v,0,e);n+=_,0!==(v-=_)&&0!==(x=h(t[n+v-1],t,y,x,x-1,e))&&(v<=x?function(n,r,l,f){var i=0;for(i=0;i<r;i++)m[i]=t[n+i];var v=0,y=l,x=n;if(t[x++]=t[y++],0==--f){for(i=0;i<r;i++)t[x+i]=m[v+i];return}if(1===r){for(i=0;i<f;i++)t[x+i]=t[y+i];return void(t[x+f]=m[v])}var _,w,S,M=d;for(;;){_=0,w=0,S=!1;do{if(e(t[y],m[v])<0){if(t[x++]=t[y++],w++,_=0,0==--f){S=!0;break}}else if(t[x++]=m[v++],_++,w=0,1==--r){S=!0;break}}while((_|w)<M);if(S)break;do{if(0!==(_=c(t[y],m,v,r,0,e))){for(i=0;i<_;i++)t[x+i]=m[v+i];if(x+=_,v+=_,(r-=_)<=1){S=!0;break}}if(t[x++]=t[y++],0==--f){S=!0;break}if(0!==(w=h(m[v],t,y,f,0,e))){for(i=0;i<w;i++)t[x+i]=t[y+i];if(x+=w,y+=w,0===(f-=w)){S=!0;break}}if(t[x++]=m[v++],1==--r){S=!0;break}M--}while(_>=o||w>=o);if(S)break;M<0&&(M=0),M+=2}if((d=M)<1&&(d=1),1===r){for(i=0;i<f;i++)t[x+i]=t[y+i];t[x+f]=m[v]}else{if(0===r)throw new Error;for(i=0;i<r;i++)t[x+i]=m[v+i]}}(n,v,y,x):function(n,r,l,f){var i=0;for(i=0;i<f;i++)m[i]=t[l+i];var v=n+r-1,y=f-1,x=l+f-1,_=0,w=0;if(t[x--]=t[v--],0==--r){for(_=x-(f-1),i=0;i<f;i++)t[_+i]=m[i];return}if(1===f){for(w=(x-=r)+1,_=(v-=r)+1,i=r-1;i>=0;i--)t[w+i]=t[_+i];return void(t[x]=m[y])}var S=d;for(;;){var M=0,I=0,T=!1;do{if(e(m[y],t[v])<0){if(t[x--]=t[v--],M++,I=0,0==--r){T=!0;break}}else if(t[x--]=m[y--],I++,M=0,1==--f){T=!0;break}}while((M|I)<S);if(T)break;do{if(0!==(M=r-c(m[y],t,n,r,r-1,e))){for(r-=M,w=(x-=M)+1,_=(v-=M)+1,i=M-1;i>=0;i--)t[w+i]=t[_+i];if(0===r){T=!0;break}}if(t[x--]=m[y--],1==--f){T=!0;break}if(0!==(I=f-h(t[v],m,0,f,f-1,e))){for(f-=I,w=(x-=I)+1,_=(y-=I)+1,i=0;i<I;i++)t[w+i]=m[_+i];if(f<=1){T=!0;break}}if(t[x--]=t[v--],0==--r){T=!0;break}S--}while(M>=o||I>=o);if(T)break;S<0&&(S=0),S+=2}(d=S)<1&&(d=1);if(1===f){for(w=(x-=r)+1,_=(v-=r)+1,i=r-1;i>=0;i--)t[w+i]=t[_+i];t[x]=m[y]}else{if(0===f)throw new Error;for(_=x-(f-1),i=0;i<f;i++)t[_+i]=m[i]}}(n,v,y,x))}r=[],l=[],this.mergeRuns=function(){for(;f>1;){var t=f-2;if(t>=1&&l[t-1]<=l[t]+l[t+1]||t>=2&&l[t-2]<=l[t]+l[t-1])l[t-1]<l[t+1]&&t--;else if(l[t]>l[t+1])break;v(t)}},this.forceMergeRuns=function(){for(;f>1;){var t=f-2;t>0&&l[t-1]<l[t+1]&&t--,v(t)}},this.pushRun=function(t,e){r[f]=t,l[f]=e,f+=1}}t.exports=function(t,e,o,h){o||(o=0),h||(h=t.length);var c=h-o;if(!(c<2)){var f=0;if(c<n)l(t,o,h,o+(f=r(t,o,h,e)),e);else{var m=new d(t,e),v=function(t){for(var e=0;t>=n;)e|=1&t,t>>=1;return t+e}(c);do{if((f=r(t,o,h,e))<v){var y=c;y>v&&(y=v),l(t,o,o+y,o+f,e),f=y}m.pushRun(o,f),m.mergeRuns(),c-=f,o+=f}while(0!==c);m.forceMergeRuns()}}}},function(t,e,n){var o=new(n(340))(50);function r(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var i=0;i<t.pending.length;i++){var e=t.pending[i],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}t.pending.length=0}function l(image){return image&&image.width&&image.height}e.findExistImage=function(t){if("string"==typeof t){var e=o.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,image,e,n,h){if(t){if("string"==typeof t){if(image&&image.__zrImageSrc===t||!e)return image;var c=o.get(t),d={hostEl:e,cb:n,cbPayload:h};return c?!l(image=c.image)&&c.pending.push(d):(!image&&(image=new Image),image.onload=r,o.put(t,image.__cachedImgObj={image:image,pending:[d]}),image.src=image.__zrImageSrc=t),image}return t}return image},e.isImageReady=l},function(t,e,n){var o=n(226),r=n(245),l=Math.min,h=Math.max,c=Math.sin,d=Math.cos,f=2*Math.PI,m=o.create(),v=o.create(),y=o.create();var x=[],_=[];e.fromPoints=function(t,e,n){if(0!==t.length){var i,p=t[0],o=p[0],r=p[0],c=p[1],d=p[1];for(i=1;i<t.length;i++)p=t[i],o=l(o,p[0]),r=h(r,p[0]),c=l(c,p[1]),d=h(d,p[1]);e[0]=o,e[1]=c,n[0]=r,n[1]=d}},e.fromLine=function(t,e,n,o,r,c){r[0]=l(t,n),r[1]=l(e,o),c[0]=h(t,n),c[1]=h(e,o)},e.fromCubic=function(t,e,n,o,c,d,f,m,v,y){var i,w=r.cubicExtrema,S=r.cubicAt,M=w(t,n,c,f,x);for(v[0]=1/0,v[1]=1/0,y[0]=-1/0,y[1]=-1/0,i=0;i<M;i++){var I=S(t,n,c,f,x[i]);v[0]=l(I,v[0]),y[0]=h(I,y[0])}for(M=w(e,o,d,m,_),i=0;i<M;i++){var T=S(e,o,d,m,_[i]);v[1]=l(T,v[1]),y[1]=h(T,y[1])}v[0]=l(t,v[0]),y[0]=h(t,y[0]),v[0]=l(f,v[0]),y[0]=h(f,y[0]),v[1]=l(e,v[1]),y[1]=h(e,y[1]),v[1]=l(m,v[1]),y[1]=h(m,y[1])},e.fromQuadratic=function(t,e,n,o,c,d,f,m){var v=r.quadraticExtremum,y=r.quadraticAt,x=h(l(v(t,n,c),1),0),_=h(l(v(e,o,d),1),0),w=y(t,n,c,x),S=y(e,o,d,_);f[0]=l(t,c,w),f[1]=l(e,d,S),m[0]=h(t,c,w),m[1]=h(e,d,S)},e.fromArc=function(t,e,n,r,l,h,x,_,w){var S=o.min,M=o.max,I=Math.abs(l-h);if(I%f<1e-4&&I>1e-4)return _[0]=t-n,_[1]=e-r,w[0]=t+n,void(w[1]=e+r);if(m[0]=d(l)*n+t,m[1]=c(l)*r+e,v[0]=d(h)*n+t,v[1]=c(h)*r+e,S(_,m,v),M(w,m,v),(l%=f)<0&&(l+=f),(h%=f)<0&&(h+=f),l>h&&!x?h+=f:l<h&&x&&(l+=f),x){var T=h;h=l,l=T}for(var A=0;A<h;A+=Math.PI/2)A>l&&(y[0]=d(A)*n+t,y[1]=c(A)*r+e,S(_,y,_),M(w,y,w))}},function(t,e,n){var o=n(219),r=n(244).parseClassType,base=0,l="_";e.getUID=function(t){return[t||"",base++,Math.random()].join(l)},e.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=r(t),e[t.main]=n},t.determineSubType=function(n,option){var o=option.type;if(!o){var l=r(n).main;t.hasSubTypes(n)&&e[l]&&(o=e[l](option))}return o},t},e.enableTopologicalTravel=function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,l,h){if(t.length){var c=function(t){var r={},l=[];return o.each(t,(function(h){var c=n(r,h),d=function(t,e){var n=[];return o.each(t,(function(t){o.indexOf(e,t)>=0&&n.push(t)})),n}(c.originalDeps=e(h),t);c.entryCount=d.length,0===c.entryCount&&l.push(h),o.each(d,(function(t){o.indexOf(c.predecessor,t)<0&&c.predecessor.push(t);var e=n(r,t);o.indexOf(e.successor,t)<0&&e.successor.push(h)}))})),{graph:r,noEntryList:l}}(r),d=c.graph,f=c.noEntryList,m={};for(o.each(t,(function(t){m[t]=!0}));f.length;){var v=f.pop(),y=d[v],x=!!m[v];x&&(l.call(h,v,y.originalDeps.slice()),delete m[v]),o.each(y.successor,x?w:_)}o.each(m,(function(){throw new Error("Circle dependency may exists")}))}function _(t){d[t].entryCount--,0===d[t].entryCount&&f.push(t)}function w(t){m[t]=!0,_(t)}}}},function(t,e,n){var o=n(276),r=n(315),l=n(244),h=function(){this.group=new o,this.uid=r.getUID("viewComponent")},c=h.prototype={constructor:h,init:function(t,e){},render:function(t,e,n,o){},dispose:function(){}};c.updateView=c.updateLayout=c.updateVisual=function(t,e,n,o){},l.enableClassExtend(h),l.enableClassManagement(h,{registerWhenExtend:!0});var d=h;t.exports=d},function(t,e){t.exports=function(t,e){e.eachSeriesByType(t,(function(t){var data=t.getData(),e=t.coordinateSystem;if(e){for(var n=[],o=e.dimensions,i=0;i<o.length;i++)n.push(t.coordDimToDataDim(e.dimensions[i])[0]);1===n.length?data.each(n[0],(function(t,n){data.setItemLayout(n,isNaN(t)?[NaN,NaN]:e.dataToPoint(t))})):2===n.length&&data.each(n,(function(t,n,o){data.setItemLayout(o,isNaN(t)||isNaN(n)?[NaN,NaN]:e.dataToPoint([t,n]))}),!0)}}))}},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(228),l=n(225).getLayoutRect,h=n(237),c=n(499),d=n(501),f=n(241);n(502);var m=o.each,v=h.ifAxisCrossZero,y=h.niceScaleExtent;function x(t,e,n){return t.getCoordSysModel()===e}function _(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}var w=_.prototype;function S(t,e,n){var o=t[e];if(n.onZero){var r=n.onZeroAxisIndex;if(null==r){for(var l in o){if(o.hasOwnProperty(l))if((h=o[l])&&!M(h)){r=+l;break}}null==r&&(n.onZero=!1),n.onZeroAxisIndex=r}else{var h;(h=o[r])&&M(h)&&(n.onZero=!1)}}}function M(t){return"category"===t.type||"time"===t.type||!v(t)}w.type="grid",w.axisPointerEnabled=!0,w.getRect=function(){return this._rect},w.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),m(n.x,(function(t){y(t.scale,t.model)})),m(n.y,(function(t){y(t.scale,t.model)})),m(n.x,(function(t){S(n,"y",t)})),m(n.y,(function(t){S(n,"x",t)})),this.resize(this.model,e)},w.resize=function(t,e,n){var o=l(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var h=this._axesList;function c(){m(h,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),o=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return o-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return o-t+e}}(t,e?o.x:o.y)}))}c(),!n&&t.get("containLabel")&&(m(h,(function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var rect,e,n,o,l,h,c,d,f,m=t.model,v=m.getFormattedLabels(),y=m.getModel("axisLabel"),x=1,_=v.length;_>40&&(x=Math.ceil(_/40));for(var i=0;i<_;i+=x)if(!t.isLabelIgnored(i)){var w=y.getTextRect(v[i]),S=(e=w,n=y.get("rotate")||0,o=void 0,l=void 0,h=void 0,c=void 0,d=void 0,f=void 0,o=n*Math.PI/180,l=e.plain(),h=l.width,c=l.height,d=h*Math.cos(o)+c*Math.sin(o),f=h*Math.sin(o)+c*Math.cos(o),new r(l.x,l.y,d,f));rect?rect.union(S):rect=S}return rect}(t);if(e){var n=t.isHorizontal()?"height":"width",l=t.model.get("axisLabel.margin");o[n]-=e[n]+l,"top"===t.position?o.y+=e.height+l:"left"===t.position&&(o.x+=e.width+l)}}})),c())},w.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var o in n)if(n.hasOwnProperty(o))return n[o];return n[e]}},w.getAxes=function(){return this._axesList.slice()},w.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}o.isObject(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},w.getCartesians=function(){return this._coordsList.slice()},w.convertToPixel=function(t,e,n){var o=this._findConvertTarget(t,e);return o.cartesian?o.cartesian.dataToPoint(n):o.axis?o.axis.toGlobalCoord(o.axis.dataToCoord(n)):null},w.convertFromPixel=function(t,e,n){var o=this._findConvertTarget(t,e);return o.cartesian?o.cartesian.pointToData(n):o.axis?o.axis.coordToData(o.axis.toLocalCoord(n)):null},w._findConvertTarget=function(t,e){var n,r,l=e.seriesModel,h=e.xAxisModel||l&&l.getReferringComponents("xAxis")[0],c=e.yAxisModel||l&&l.getReferringComponents("yAxis")[0],d=e.gridModel,f=this._coordsList;if(l)n=l.coordinateSystem,o.indexOf(f,n)<0&&(n=null);else if(h&&c)n=this.getCartesian(h.componentIndex,c.componentIndex);else if(h)r=this.getAxis("x",h.componentIndex);else if(c)r=this.getAxis("y",c.componentIndex);else if(d){d.coordinateSystem===this&&(n=this._coordsList[0])}return{cartesian:n,axis:r}},w.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},w._initCartesian=function(t,e,n){var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",f("x"),this),e.eachComponent("yAxis",f("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function f(e){return function(n,c){if(x(n,t)){var f=n.get("position");"x"===e?"top"!==f&&"bottom"!==f&&o[f="bottom"]&&(f="top"===f?"bottom":"top"):"left"!==f&&"right"!==f&&o[f="left"]&&(f="left"===f?"right":"left"),o[f]=!0;var m=new d(e,h.createScaleByModel(n),[0,0],n.get("type"),f),v="category"===m.type;m.onBand=v&&n.get("boundaryGap"),m.inverse=n.get("inverse"),m.onZero=n.get("axisLine.onZero"),m.onZeroAxisIndex=n.get("axisLine.onZeroAxisIndex"),n.axis=m,m.model=n,m.grid=this,m.index=c,this._axesList.push(m),r[e][c]=m,l[e]++}}}this._axesMap=r,m(r.x,(function(e,n){m(r.y,(function(o,r){var l="x"+n+"y"+r,h=new c(l);h.grid=this,h.model=t,this._coordsMap[l]=h,this._coordsList.push(h),h.addAxis(e),h.addAxis(o)}),this)}),this)},w._updateScale=function(t,e){function n(data,t,e){m(e.coordDimToDataDim(t.dim),(function(e){t.scale.unionExtentFromData(data,e)}))}o.each(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(o){if(A(o)){var r=T(o,t),l=r[0],h=r[1];if(!x(l,e)||!x(h,e))return;var c=this.getCartesian(l.componentIndex,h.componentIndex),data=o.getData(),d=c.getAxis("x"),f=c.getAxis("y");"list"===data.type&&(n(data,d,o),n(data,f,o))}}),this)},w.getTooltipAxes=function(t){var e=[],n=[];return m(this.getCartesians(),(function(r){var l=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),h=r.getOtherAxis(l);o.indexOf(e,l)<0&&e.push(l),o.indexOf(n,h)<0&&n.push(h)})),{baseAxes:e,otherAxes:n}};var I=["xAxis","yAxis"];function T(t,e){return o.map(I,(function(e){return t.getReferringComponents(e)[0]}))}function A(t){return"cartesian2d"===t.get("coordinateSystem")}_.create=function(t,e){var n=[];return t.eachComponent("grid",(function(o,r){var l=new _(o,t,e);l.name="grid_"+r,l.resize(o,e,!0),o.coordinateSystem=l,n.push(l)})),t.eachSeries((function(t){if(A(t)){var e=T(t),n=e[0],o=e[1],r=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(n.componentIndex,o.componentIndex)}})),n},_.dimensions=_.prototype.dimensions=c.prototype.dimensions,f.register("cartesian2d",_);var C=_;t.exports=C},function(t,e,n){var o=n(219),r=n(222).parsePercent,l="__ec_stack_";function h(t){return t.get("stack")||l+t.seriesIndex}function c(t){return t.dim+t.index}function d(t,e){var n={};o.each(t,(function(t,e){var o=t.axisKey,r=t.bandWidth,l=n[o]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=l.stacks;n[o]=l;var c=t.stackId;h[c]||l.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var d=t.barWidth;d&&!h[c].width&&(h[c].width=d,d=Math.min(l.remainedWidth,d),l.remainedWidth-=d);var f=t.barMaxWidth;f&&(h[c].maxWidth=f);var m=t.barGap;null!=m&&(l.gap=m);var v=t.barCategoryGap;null!=v&&(l.categoryGap=v)}));var l={};return o.each(n,(function(t,e){l[e]={};var n=t.stacks,h=t.bandWidth,c=r(t.categoryGap,h),d=r(t.gap,1),f=t.remainedWidth,m=t.autoWidthCount,v=(f-c)/(m+(m-1)*d);v=Math.max(v,0),o.each(n,(function(t,e){var n=t.maxWidth;n&&n<v&&(n=Math.min(n,f),t.width&&(n=Math.min(n,t.width)),f-=n,t.width=n,m--)})),v=(f-c)/(m+(m-1)*d),v=Math.max(v,0);var y,x=0;o.each(n,(function(t,e){t.width||(t.width=v),y=t,x+=t.width*(1+d)})),y&&(x-=y.width*d);var _=-x/2;o.each(n,(function(t,n){l[e][n]=l[e][n]||{offset:_,width:t.width},_+=t.width*(1+d)}))})),l}function f(t,e,n){var l=function(t,e){return d(o.map(t,(function(t){var data=t.getData(),e=t.coordinateSystem.getBaseAxis(),n=e.getExtent(),o="category"===e.type?e.getBandWidth():Math.abs(n[1]-n[0])/data.count();return{bandWidth:o,barWidth:r(t.get("barWidth"),o),barMaxWidth:r(t.get("barMaxWidth"),o),barGap:t.get("barGap"),barCategoryGap:t.get("barCategoryGap"),axisKey:c(e),stackId:h(t)}})),e)}(o.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}))),f={},m={};e.eachSeriesByType(t,(function(t){if("cartesian2d"===t.coordinateSystem.type){var data=t.getData(),e=t.coordinateSystem,n=e.getBaseAxis(),o=h(t),r=l[c(n)][o],d=r.offset,v=r.width,y=e.getOtherAxis(n),x=t.get("barMinHeight")||0,_=n.onZero?y.toGlobalCoord(y.dataToCoord(0)):y.getGlobalExtent()[0],w=[t.coordDimToDataDim("x")[0],t.coordDimToDataDim("y")[0]],S=data.mapArray(w,(function(t,n){return e.dataToPoint([t,n])}),!0);f[o]=f[o]||[],m[o]=m[o]||[],data.setLayout({offset:d,size:v}),data.each(t.coordDimToDataDim(y.dim)[0],(function(t,e){if(!isNaN(t)){f[o][e]||(f[o][e]={p:_,n:_},m[o][e]={p:_,n:_});var n,r,l,h,c=t>=0?"p":"n",w=S[e],M=f[o][e][c],I=m[o][e][c];y.isHorizontal()?(n=M,r=w[1]+d,l=w[0]-I,h=v,m[o][e][c]+=l,Math.abs(l)<x&&(l=(l<0?-1:1)*x),f[o][e][c]+=l):(n=w[0]+d,r=M,l=v,h=w[1]-I,m[o][e][c]+=h,Math.abs(h)<x&&(h=(h<=0?-1:1)*x),f[o][e][c]+=h),data.setItemLayout(e,{x:n,y:r,width:l,height:h})}}),!0)}}),this)}f.getLayoutOnAxis=function(t,e){var n=[],r=t.axis;if("category"===r.type){for(var h=r.getBandWidth(),i=0;i<t.count;i++)n.push(o.defaults({bandWidth:h,axisKey:"axis0",stackId:l+i},t));var c=d(n,e),f=[];for(i=0;i<t.count;i++){var m=c.axis0[l+i];m.offsetCenter=m.offset+m.width/2,f.push(m)}return f}};var m=f;t.exports=m},function(t,e,n){var o=n(219),r={updateSelectedMap:function(t){this._targetList=t.slice(),this._selectTargetMap=o.reduce(t||[],(function(t,e){return t.set(e.name,e),t}),o.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(t){t.selected=!1})),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}};t.exports=r},function(t,e){t.exports=function(t,e){var n={};e.eachRawSeriesByType(t,(function(t){var o=t.getRawData(),r={};if(!e.isSeriesFiltered(t)){var data=t.getData();data.each((function(t){var e=data.getRawIndex(t);r[e]=t})),o.each((function(e){var l=r[e],h=null!=l&&data.getItemVisual(l,"color",!0);if(h)o.setItemVisual(e,"color",h);else{var c=o.getItemModel(e).get("itemStyle.normal.color")||t.getColorFromPalette(o.getName(e),n);o.setItemVisual(e,"color",c),null!=l&&data.setItemVisual(l,"color",c)}}))}}))}},function(t,e){var n={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=function(t,e,o){var r=e.getComponentByElement(t.topTarget),l=r&&r.coordinateSystem;return r&&r!==o&&!n[r.mainType]&&l&&l.model!==o}},function(t,e,n){var o=n(221),r=n(324);function l(t){return isNaN(t[0])||isNaN(t[1])}function h(t){return!l(t[0])&&!l(t[1])}function c(t){this._ctor=t||r,this.group=new o.Group}var d=c.prototype;d.updateData=function(t){var e=this._lineData,n=this.group,o=this._ctor,r=t.hostModel,l={lineStyle:r.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:r.getModel("lineStyle.emphasis").getLineStyle(),labelModel:r.getModel("label.normal"),hoverLabelModel:r.getModel("label.emphasis")};t.diff(e).add((function(e){if(h(t.getItemLayout(e))){var r=new o(t,e,l);t.setItemGraphicEl(e,r),n.add(r)}})).update((function(r,c){var d=e.getItemGraphicEl(c);h(t.getItemLayout(r))?(d?d.updateData(t,r,l):d=new o(t,r,l),t.setItemGraphicEl(r,d),n.add(d)):n.remove(d)})).remove((function(t){n.remove(e.getItemGraphicEl(t))})).execute(),this._lineData=t},d.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},d.remove=function(){this.group.removeAll()};var f=c;t.exports=f},function(t,e,n){var o=n(219),r=n(226),l=n(238),h=n(559),c=n(221),d=n(222).round,f=["fromSymbol","toSymbol"];function m(t){return"_"+t+"Type"}function v(t,e,n){var r=e.getItemVisual(n,"color"),h=e.getItemVisual(n,t),c=e.getItemVisual(n,t+"Size");if(h&&"none"!==h){o.isArray(c)||(c=[c,c]);var d=l.createSymbol(h,-c[0]/2,-c[1]/2,c[0],c[1],r);return d.name=t,d}}function y(t,e){var n=e[0],o=e[1],r=e[2];t.x1=n[0],t.y1=n[1],t.x2=o[0],t.y2=o[1],t.percent=1,r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}function x(t,e,n){c.Group.call(this),this._createLine(t,e,n)}var _=x.prototype;_.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),label=this.childOfName("label");if(t||e||!label.ignore){for(var n=1,o=this.parent;o;)o.scale&&(n/=o.scale[0]),o=o.parent;var line=this.childOfName("line");if(this.__dirty||line.__dirty){var l=line.shape.percent,h=line.pointAt(0),c=line.pointAt(l),d=r.sub([],c,h);if(r.normalize(d,d),t){t.attr("position",h);var f=line.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(f[1],f[0])),t.attr("scale",[n*l,n*l])}if(e){e.attr("position",c);f=line.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(f[1],f[0])),e.attr("scale",[n*l,n*l])}if(!label.ignore){var m,v,y;label.attr("position",c);var x=5*n;if("end"===label.__position)m=[d[0]*x+c[0],d[1]*x+c[1]],v=d[0]>.8?"left":d[0]<-.8?"right":"center",y=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";else if("middle"===label.__position){var _=l/2,w=[(f=line.tangentAt(_))[1],-f[0]],S=line.pointAt(_);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]),m=[S[0]+w[0]*x,S[1]+w[1]*x],v="center",y="bottom";var M=-Math.atan2(f[1],f[0]);c[0]<h[0]&&(M=Math.PI+M),label.attr("rotation",M)}else m=[-d[0]*x+h[0],-d[1]*x+h[1]],v=d[0]>.8?"right":d[0]<-.8?"left":"center",y=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";label.attr({style:{textVerticalAlign:label.__verticalAlign||y,textAlign:label.__textAlign||v},position:m,scale:[n,n]})}}}},_._createLine=function(t,e,n){var r=t.hostModel,line=function(t){var line=new h({name:"line"});return y(line.shape,t),line}(t.getItemLayout(e));line.shape.percent=0,c.initProps(line,{shape:{percent:1}},r,e),this.add(line);var label=new c.Text({name:"label"});this.add(label),o.each(f,(function(n){var symbol=v(n,t,e);this.add(symbol),this[m(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},_.updateData=function(t,e,n){var r=t.hostModel,line=this.childOfName("line"),l=t.getItemLayout(e),h={shape:{}};y(h.shape,l),c.updateProps(line,h,r,e),o.each(f,(function(n){var o=t.getItemVisual(e,n),r=m(n);if(this[r]!==o){this.remove(this.childOfName(n));var symbol=v(n,t,e);this.add(symbol)}this[r]=o}),this),this._updateCommonStl(t,e,n)},_._updateCommonStl=function(t,e,n){var r=t.hostModel,line=this.childOfName("line"),l=n&&n.lineStyle,h=n&&n.hoverLineStyle,m=n&&n.labelModel,v=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var y=t.getItemModel(e);l=y.getModel("lineStyle.normal").getLineStyle(),h=y.getModel("lineStyle.emphasis").getLineStyle(),m=y.getModel("label.normal"),v=y.getModel("label.emphasis")}var x=t.getItemVisual(e,"color"),_=o.retrieve3(t.getItemVisual(e,"opacity"),l.opacity,1);line.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:x,opacity:_},l)),line.hoverStyle=h,o.each(f,(function(t){var symbol=this.childOfName(t);symbol&&(symbol.setColor(x),symbol.setStyle({opacity:_}))}),this);var w,S,M,I,T=m.getShallow("show"),A=v.getShallow("show"),label=this.childOfName("label");if(T||A){var C=r.getRawValue(e);S=null==C?S=t.getName(e):isFinite(C)?d(C):C,w=x||"#000",M=o.retrieve2(r.getFormattedLabel(e,"normal",t.dataType),S),I=o.retrieve2(r.getFormattedLabel(e,"emphasis",t.dataType),M)}if(T){var L=c.setTextStyle(label.style,m,{text:M},{autoColor:w});label.__textAlign=L.textAlign,label.__verticalAlign=L.textVerticalAlign,label.__position=m.get("position")||"middle"}else label.setStyle("text",null);label.hoverStyle=A?{text:I,textFill:v.getTextColor(!0),fontStyle:v.getShallow("fontStyle"),fontWeight:v.getShallow("fontWeight"),fontSize:v.getShallow("fontSize"),fontFamily:v.getShallow("fontFamily")}:{text:null},label.ignore=!T&&!A,c.setHoverStyle(this)},_.highlight=function(){this.trigger("emphasis")},_.downplay=function(){this.trigger("normal")},_.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},_.setLinePoints=function(t){var e=this.childOfName("line");y(e.shape,t),e.dirty()},o.inherits(x,c.Group);var w=x;t.exports=w},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(252),l=n(221),h=n(369),c=n(261),d=o.curry,f=o.each,map=o.map,m=Math.min,v=Math.max,y=Math.pow,x=1e4,_=6,w=6,S="globalPan",M={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},I={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},T={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},A=0;function C(t){r.call(this),this._zr=t,this.group=new l.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+A++,this._handlers={},f(et,(function(t,e){this._handlers[e]=o.bind(t,this)}),this)}function L(t,e){var n=it[e.brushType].createCover(t,e);return n.__brushOption=e,k(n,e),t.group.add(n),n}function D(t,e){var n=E(e);return n.endCreating&&(n.endCreating(t,e),k(e,e.__brushOption)),e}function P(t,e){var n=e.__brushOption;E(e).updateCoverShape(t,e,n.range,n)}function k(t,e){var n=e.z;null==n&&(n=x),t.traverse((function(t){t.z=n,t.z2=n}))}function O(t,e){E(e).updateCommon(t,e),P(t,e)}function E(t){return it[t.__brushOption.brushType]}function z(t,e,n){var o,r=t._panels;if(!r)return!0;var l=t._transform;return f(r,(function(t){t.isTargetByCursor(e,n,l)&&(o=t)})),o}function N(t,e){var n=t._panels;if(!n)return!0;var o=e.__brushOption.panelId;return null==o||n[o]}function R(t){var e=t._covers,n=e.length;return f(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function V(t,e){var n=map(t._covers,(function(t){var e=t.__brushOption,n=o.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function B(track){var t=track.length-1;return t<0&&(t=0),[track[0],track[t]]}function G(t,e,n,o){var r=new l.Group;return r.add(new l.Rect({name:"main",style:Z(n),silent:!0,draggable:!0,cursor:"move",drift:d(t,e,r,"nswe"),ondragend:d(V,e,{isEnd:!0})})),f(o,(function(n){r.add(new l.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:d(t,e,r,n),ondragend:d(V,e,{isEnd:!0})}))})),r}function H(t,e,n,o){var r=o.brushStyle.lineWidth||0,l=v(r,w),h=n[0][0],c=n[1][0],d=h-r/2,f=c-r/2,m=n[0][1],y=n[1][1],x=m-l+r/2,_=y-l+r/2,S=m-h,M=y-c,I=S+r,T=M+r;F(t,e,"main",h,c,S,M),o.transformable&&(F(t,e,"w",d,f,l,T),F(t,e,"e",x,f,l,T),F(t,e,"n",d,f,I,l),F(t,e,"s",d,_,I,l),F(t,e,"nw",d,f,l,l),F(t,e,"ne",x,f,l,l),F(t,e,"sw",d,_,l,l),F(t,e,"se",x,_,l,l))}function W(t,e){var n=e.__brushOption,o=n.transformable,r=e.childAt(0);r.useStyle(Z(n)),r.attr({silent:!o,cursor:o?"move":"default"}),f(["w","e","n","s","se","sw","ne","nw"],(function(n){var r=e.childOfName(n),h=function t(e,n){if(n.length>1)return n=n.split(""),("e"===(o=[t(e,n[0]),t(e,n[1])])[0]||"w"===o[0])&&o.reverse(),o.join("");var o;return{left:"w",right:"e",top:"n",bottom:"s"}[o=l.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return l.getTransform(t.group)}(e))]}(t,n);r&&r.attr({silent:!o,invisible:!o,cursor:o?I[h]+"-resize":null})}))}function F(t,e,n,o,r,l,h){var c,d,f,y,x,_=e.childOfName(n);_&&_.setShape((c=$(t,e,[[o,r],[o+l,r+h]]),d=m(c[0][0],c[1][0]),f=m(c[0][1],c[1][1]),y=v(c[0][0],c[1][0]),x=v(c[0][1],c[1][1]),{x:d,y:f,width:y-d,height:x-f}))}function Z(t){return o.defaults({strokeNoScale:!0},t.brushStyle)}function U(t,e,n,o){var r=[m(t,n),m(e,o)],l=[v(t,n),v(e,o)];return[[r[0],l[0]],[r[1],l[1]]]}function j(t,e,n,o,r,l,h,c){var d=o.__brushOption,m=t(d.range),v=Y(n,l,h);f(r.split(""),(function(t){var e=M[t];m[e[0]][e[1]]+=v[e[0]]})),d.range=e(U(m[0][0],m[1][0],m[0][1],m[1][1])),O(n,o),V(n,{isEnd:!1})}function X(t,e,n,o,r){var l=e.__brushOption.range,h=Y(t,n,o);f(l,(function(t){t[0]+=h[0],t[1]+=h[1]})),O(t,e),V(t,{isEnd:!1})}function Y(t,e,n){var o=t.group,r=o.transformCoordToLocal(e,n),l=o.transformCoordToLocal(0,0);return[r[0]-l[0],r[1]-l[1]]}function $(t,e,data){var n=N(t,e);return n&&!0!==n?n.clipPath(data,t._transform):o.clone(data)}function K(t){var e=t.event;e.preventDefault&&e.preventDefault()}function J(t,e,n){return t.childOfName("main").contain(e,n)}function Q(t,e,n,r){var l,h=t._creatingCover,c=t._creatingPanel,d=t._brushOption;if(t._track.push(n.slice()),function(t){var track=t._track;if(!track.length)return!1;var e=track[track.length-1],n=track[0],o=e[0]-n[0],r=e[1]-n[1];return y(o*o+r*r,.5)>_}(t)||h){if(c&&!h){"single"===d.brushMode&&R(t);var f=o.clone(d);f.brushType=tt(f.brushType,c),f.panelId=!0===c?null:c.panelId,h=t._creatingCover=L(t,f),t._covers.push(h)}if(h){var m=it[tt(t._brushType,c)];h.__brushOption.range=m.getCreatingRange($(t,h,t._track)),r&&(D(t,h),m.updateCommon(t,h)),P(t,h),l={isEnd:r}}}else r&&"single"===d.brushMode&&d.removeOnClick&&z(t,e,n)&&R(t)&&(l={isEnd:r,removeOnClick:!0});return l}function tt(t,e){return"auto"===t?e.defaultBrushType:t}C.prototype={constructor:C,enableBrush:function(t){var e,n;return this._brushType&&(n=(e=this)._zr,h.release(n,S,e._uid),f(e._handlers,(function(t,e){n.off(e,t)})),e._brushType=e._brushOption=null),t.brushType&&function(t,e){var n=t._zr;t._enableGlobalPan||h.take(n,S,t._uid);f(t._handlers,(function(t,e){n.on(e,t)})),t._brushType=e.brushType,t._brushOption=o.merge(o.clone(T),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};o.each(t,(function(t){e[t.panelId]=o.clone(t)}))}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){f(this._covers,t,e)},updateCovers:function(t){t=o.map(t,(function(t){return o.merge(o.clone(T),t,!0)}));var e="\0-brush-index-",n=this._covers,r=this._covers=[],l=this,h=this._creatingCover;return new c(n,t,(function(t,e){return d(t.__brushOption,e)}),d).add(f).update(f).remove((function(t){n[t]!==h&&l.group.remove(n[t])})).execute(),this;function d(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function f(e,o){var c=t[e];if(null!=o&&n[o]===h)r[e]=n[o];else{var d=r[e]=null!=o?(n[o].__brushOption=c,n[o]):D(l,L(l,c));O(l,d)}}},unmount:function(){return this.enableBrush(!1),R(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},o.mixin(C,r);var et={mousedown:function(t){if(this._dragging)nt.call(this,t);else if(!t.target||!t.target.draggable){K(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=z(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,n){if(t._brushType){var o=t._zr,r=t._covers,l=z(t,e,n);if(!t._dragging)for(var i=0;i<r.length;i++){var h=r[i].__brushOption;if(l&&(!0===l||h.panelId===l.panelId)&&it[h.brushType].contain(r[i],n[0],n[1]))return}l&&o.setCursorStyle("crosshair")}}(this,t,e),this._dragging){K(t);var n=Q(this,t,e,!1);n&&V(this,n)}},mouseup:nt};function nt(t){if(this._dragging){K(t);var e=Q(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&V(this,e)}}var it={lineX:at(0),lineY:at(1),rect:{createCover:function(t,e){return G(d(j,(function(t){return t}),(function(t){return t})),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=B(t);return U(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,o){H(t,e,n,o)},updateCommon:W,contain:J},polygon:{createCover:function(t,e){var n=new l.Group;return n.add(new l.Polyline({name:"main",style:Z(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new l.Polygon({name:"main",draggable:!0,drift:d(X,t,e),ondragend:d(V,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,o){e.childAt(0).setShape({points:$(t,e,n)})},updateCommon:W,contain:J}};function at(t){return{createCover:function(e,n){return G(d(j,(function(e){var n=[e,[0,100]];return t&&n.reverse(),n}),(function(e){return e[t]})),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=B(e);return[m(n[0][t],n[1][t]),v(n[0][t],n[1][t])]},updateCoverShape:function(e,n,o,r){var l,h=N(e,n);if(!0!==h&&h.getLinearBrushOtherExtent)l=h.getLinearBrushOtherExtent(t,e._transform);else{var c=e._zr;l=[0,[c.getWidth(),c.getHeight()][1-t]]}var d=[o,l];t&&d.reverse(),H(e,n,d,r)},updateCommon:W,contain:J}}var ot=C;t.exports=ot},function(t,e,n){var o=n(219),r=n(244),l=n(221),h=n(285),c=n(243),d=n(253),f=n(224).makeGetter(),m=o.clone,v=o.bind;function y(){}function x(t,e,n,r){(function t(e,n){if(o.isObject(e)&&o.isObject(n)){var r=!0;return o.each(n,(function(n,o){r=r&&t(e[o],n)})),!!r}return e===n})(f(n).lastProp,r)||(f(n).lastProp=r,e?l.updateProps(n,r,t):(n.stopAnimation(),n.attr(r)))}function _(t,e){t[e.get("label.show")?"show":"hide"]()}function w(t){return{position:t.position.slice(),rotation:t.rotation||0}}function S(t,e,n){var o=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=o&&(t.z=o),null!=r&&(t.zlevel=r),t.silent=n)}))}y.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var h=e.get("value"),c=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==h||this._lastStatus!==c){this._lastValue=h,this._lastStatus=c;var d=this._group,f=this._handle;if(!c||"hide"===c)return d&&d.hide(),void(f&&f.hide());d&&d.show(),f&&f.show();var m={};this.makeElOption(m,h,t,e,n);var v=m.graphicKey;v!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=v;var y=this._moveAnimation=this.determineAnimation(t,e);if(d){var _=o.curry(x,e,y);this.updatePointerEl(d,m,_,e),this.updateLabelEl(d,m,_,e)}else d=this._group=new l.Group,this.createPointerEl(d,m,t,e),this.createLabelEl(d,m,t,e),n.getZr().add(d);S(d,e,!0),this._renderHandle(h)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),o=t.axis,r="category"===o.type,l=e.get("snap");if(!l&&!r)return!1;if("auto"===n||null==n){var c=this.animationThreshold;if(r&&o.getBandWidth()>c)return!0;if(l){var d=h.getAxisInfo(t).seriesDataCount,f=o.getExtent();return Math.abs(f[0]-f[1])/d>c}return!1}return!0===n},makeElOption:function(t,e,n,o,r){},createPointerEl:function(t,e,n,o){var r=e.pointer;if(r){var h=f(t).pointerEl=new l[r.type](m(e.pointer));t.add(h)}},createLabelEl:function(t,e,n,o){if(e.label){var r=f(t).labelEl=new l.Rect(m(e.label));t.add(r),_(r,o)}},updatePointerEl:function(t,e,n){var o=f(t).pointerEl;o&&(o.setStyle(e.pointer.style),n(o,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,o){var r=f(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{shape:e.label.shape,position:e.label.position}),_(r,o))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),h=this._handle,f=n.getModel("handle"),m=n.get("status");if(!f.get("show")||!m||"hide"===m)return h&&r.remove(h),void(this._handle=null);this._handle||(e=!0,h=this._handle=l.createIcon(f.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){c.stop(t.event)},onmousedown:v(this._onHandleDragMove,this,0,0),drift:v(this._onHandleDragMove,this),ondragend:v(this._onHandleDragEnd,this)}),r.add(h)),S(h,n,!1);h.setStyle(f.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var y=f.get("size");o.isArray(y)||(y=[y,y]),h.attr("scale",[y[0]/2,y[1]/2]),d.createOrUpdate(this,"_doDispatchAxisPointer",f.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){x(this._axisPointerModel,!e&&this._moveAnimation,this._handle,w(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var o=this.updateHandleTransform(w(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=o,n.stopAnimation(),n.attr(w(o)),f(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,o=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),o&&e.remove(o),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}},y.prototype.constructor=y,r.enableClassExtend(y);var M=y;t.exports=M},function(t,e,n){n(223).__DEV__,n(219);var o=n(660),r=n(222).parsePercent,l=n(237),h=l.createScaleByModel,c=l.niceScaleExtent,d=n(241);function f(t,e){var n=this,o=n.getAngleAxis(),r=n.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var data=t.getData();r.scale.unionExtentFromData(data,"radius"),o.scale.unionExtentFromData(data,"angle")}})),c(o.scale,o.model),c(r.scale,r.model),"category"===o.type&&!o.onBand){var l=o.getExtent(),h=360/o.scale.count();o.inverse?l[1]+=h:l[1]-=h,o.setExtent(l[0],l[1])}}function m(t,e){if(t.type=e.get("type"),t.scale=h(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}n(663);var v={dimensions:o.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,l){var h=new o(l);h.update=f;var c=h.getRadiusAxis(),d=h.getAngleAxis(),v=t.findAxisModel("radiusAxis"),y=t.findAxisModel("angleAxis");m(c,v),m(d,y),function(t,e,n){var o=e.get("center"),l=n.getWidth(),h=n.getHeight();t.cx=r(o[0],l),t.cy=r(o[1],h);var c=t.getRadiusAxis(),d=Math.min(l,h)/2,f=r(e.get("radius"),d);c.inverse?c.setExtent(f,0):c.setExtent(0,f)}(h,t,e),n.push(h),t.coordinateSystem=h,h.model=t})),t.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}})),n}};d.register("polar",v)},function(t,e,n){var o=n(219),r=n(227),l=["cartesian2d","polar","singleAxis"];function h(t,e){t=t.slice();var n=o.map(t,r.capitalFirst);e=(e||[]).slice();var l=o.map(e,r.capitalFirst);return function(r,h){o.each(t,(function(t,o){for(var c={name:t,capital:n[o]},d=0;d<e.length;d++)c[e[d]]=t+l[d];r.call(h,c)}))}}var c=h(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);e.isCoordSupported=function(t){return o.indexOf(l,t)>=0},e.createNameEach=h,e.eachAxisDim=c,e.createLinkedNodesFinder=function(t,e,n){return function(l){var h,c={nodes:[],records:{}};if(e((function(t){c.records[t.name]={}})),!l)return c;r(l,c);do{h=!1,t(d)}while(h);function d(t){!function(t,e){return o.indexOf(e.nodes,t)>=0}(t,c)&&function(t,r){var l=!1;return e((function(e){o.each(n(t,e)||[],(function(t){r.records[e.name][t]&&(l=!0)}))})),l}(t,c)&&(r(t,c),h=!0)}return c};function r(t,r){r.nodes.push(t),e((function(e){o.each(n(t,e)||[],(function(t){r.records[e.name][t]=!0}))}))}}},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(230),h=n(224),c=n(227),d=c.addCommas,f=c.encodeHTML;function m(t){h.defaultEmphasis(t.label,["show"])}var v=o.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(option,t,e,n){this.mergeDefaultAndTheme(option,e),this.mergeOption(option,e,n.createdBySelf,!0)},isAnimationEnabled:function(){if(l.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,n,o){var l=this.constructor,h=this.mainType+"Model";n||e.eachSeries((function(t){var n=t.get(this.mainType),c=t[h];n&&n.data?(c?c.mergeOption(n,e,!0):(o&&m(n),r.each(n.data,(function(t){t instanceof Array?(m(t[0]),m(t[1])):m(t)})),c=new l(n,this,e),r.extend(c,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),c.__hostSeries=t),t[h]=c):t[h]=null}),this)},formatTooltip:function(t){var data=this.getData(),e=this.getRawValue(t),n=r.isArray(e)?r.map(e,d).join(", "):d(e),o=data.getName(t),html=f(this.name);return(null!=e||o)&&(html+="<br />"),o&&(html+=f(o),null!=e&&(html+=" : ")),null!=e&&(html+=f(n)),html},getData:function(){return this._data},setData:function(data){this._data=data}});r.mixin(v,h.dataFormatMixin);var y=v;t.exports=y},function(t,e,n){var o=n(219),r=n(222),l=o.indexOf;function h(t,data,e,n,o,l){var h=[],c=m(data,n,t),d=data.indicesOfNearest(n,c,!0)[0];h[o]=data.get(e,d,!0),h[l]=data.get(n,d,!0);var f=function(data,t,e){var n=-1;do{n=Math.max(r.getPrecision(data.get(t,e)),n),data=data.stackedOn}while(data);return n}(data,n,d);return(f=Math.min(f,20))>=0&&(h[l]=+h[l].toFixed(f)),h}var c=o.curry,d={min:c(h,"min"),max:c(h,"max"),average:c(h,"average")};function f(t,data,e,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?data.getDimension(t.valueIndex):t.valueDim,o.valueAxis=e.getAxis(n.dataDimToCoordDim(o.valueDataDim)),o.baseAxis=e.getOtherAxis(o.valueAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0]):(o.baseAxis=n.getBaseAxis(),o.valueAxis=e.getOtherAxis(o.baseAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0],o.valueDataDim=n.coordDimToDataDim(o.valueAxis.dim)[0]),o}function m(data,t,e){if("average"===e){var n=0,o=0;return data.each(t,(function(t,e){isNaN(t)||(n+=t,o++)}),!0),n/o}return data.getDataExtent(t,!0)["max"===e?1:0]}e.dataTransform=function(t,e){var data=t.getData(),n=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!o.isArray(e.coord)&&n){var r=n.dimensions,h=f(e,data,n,t);if((e=o.clone(e)).type&&d[e.type]&&h.baseAxis&&h.valueAxis){var c=l(r,h.baseAxis.dim),v=l(r,h.valueAxis.dim);e.coord=d[e.type](data,h.baseDataDim,h.valueDataDim,c,v),e.value=e.coord[v]}else{for(var y=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],i=0;i<2;i++)if(d[y[i]]){var x=t.coordDimToDataDim(r[i])[0];y[i]=m(data,x,y[i])}e.coord=y}}return e},e.getAxisInfo=f,e.dataFilter=function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},e.dimValueGetter=function(t,e,n,o){return o<2?t.coord&&t.coord[o]:t.value},e.numCalculate=m},function(t,e,n){var o=n(220),r=n(219),l=o.extendComponentView({type:"marker",init:function(){this.markerGroupMap=r.createHashMap()},render:function(t,e,n){var o=this.markerGroupMap;o.each((function(t){t.__keep=!1}));var r=this.type+"Model";e.eachSeries((function(t){var o=t[r];o&&this.renderSeries(t,o,e,n)}),this),o.each((function(t){!t.__keep&&this.group.remove(t.group)}),this)},renderSeries:function(){}});t.exports=l},function(t,e,n){var o=n(333).createElement,r=n(260),l=n(228),h=n(240),c=n(279),d=n(267),f=r.CMD,m=Array.prototype.join,v="none",y=Math.round,x=Math.sin,_=Math.cos,w=Math.PI,S=2*Math.PI,M=180/w,I=1e-4;function T(t){return y(1e4*t)/1e4}function A(t){return t<I&&t>-I}function C(t,e){e&&L(t,"transform","matrix("+m.call(e,",")+")")}function L(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function D(t,style,e){if(function(style,t){var e=t?style.textFill:style.fill;return null!=e&&e!==v}(style,e)){var n=e?style.textFill:style.fill;n="transparent"===n?v:n,"none"!==t.getAttribute("clip-path")&&n===v&&(n="rgba(0, 0, 0, 0.002)"),L(t,"fill",n),L(t,"fill-opacity",style.opacity)}else L(t,"fill",v);if(function(style,t){var e=t?style.textStroke:style.stroke;return null!=e&&e!==v}(style,e)){var o=e?style.textStroke:style.stroke;L(t,"stroke",o="transparent"===o?v:o),L(t,"stroke-width",(e?style.textStrokeWidth:style.lineWidth)/(style.strokeNoScale?style.host.getLineScale():1)),L(t,"paint-order","stroke"),L(t,"stroke-opacity",style.opacity),style.lineDash?(L(t,"stroke-dasharray",style.lineDash.join(",")),L(t,"stroke-dashoffset",y(style.lineDashOffset||0))):L(t,"stroke-dasharray",""),style.lineCap&&L(t,"stroke-linecap",style.lineCap),style.lineJoin&&L(t,"stroke-linejoin",style.lineJoin),style.miterLimit&&L(t,"stroke-miterlimit",style.miterLimit)}else L(t,"stroke",v)}var P={};P.brush=function(t){var style=t.style,e=t.__svgEl;e||(e=o("path"),t.__svgEl=e),t.path||t.createPathProxy();var path=t.path;if(t.__dirtyPath){path.beginPath(),t.buildPath(path,t.shape),t.__dirtyPath=!1;var n=function(path){for(var t=[],data=path.data,e=path.len(),i=0;i<e;){var n="",o=0;switch(data[i++]){case f.M:n="M",o=2;break;case f.L:n="L",o=2;break;case f.Q:n="Q",o=4;break;case f.C:n="C",o=6;break;case f.A:var r=data[i++],l=data[i++],h=data[i++],c=data[i++],d=data[i++],m=data[i++],v=data[i++],I=data[i++],C=Math.abs(m),L=A(C%S)&&!A(C),D=!1;D=C>=S||!A(C)&&(m>-w&&m<0||m>w)==!!I;var P=T(r+h*_(d)),k=T(l+c*x(d));L&&(m=I?S-1e-4:1e-4-S,D=!0,9===i&&t.push("M",P,k));var O=T(r+h*_(d+m)),E=T(l+c*x(d+m));t.push("A",T(h),T(c),y(v*M),+D,+I,O,E);break;case f.Z:n="Z";break;case f.R:O=T(data[i++]),E=T(data[i++]);var z=T(data[i++]),N=T(data[i++]);t.push("M",O,E,"L",O+z,E,"L",O+z,E+N,"L",O,E+N,"L",O,E)}n&&t.push(n);for(var R=0;R<o;R++)t.push(T(data[i++]))}return t.join(" ")}(path);n.indexOf("NaN")<0&&L(e,"d",n)}D(e,style),C(e,t.transform),null!=style.text&&z(t,t.getBoundingRect())};var k={brush:function(t){var style=t.style,image=style.image;image instanceof HTMLImageElement&&(image=image.src);if(image){var e=style.x||0,n=style.y||0,r=style.width,l=style.height,h=t.__svgEl;h||(h=o("image"),t.__svgEl=h),image!==t.__imageSrc&&(!function(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}(h,"href",image),t.__imageSrc=image),L(h,"width",r),L(h,"height",l),L(h,"x",e),L(h,"y",n),C(h,t.transform),null!=style.text&&z(t,t.getBoundingRect())}}},O={},E=new l,z=function(t,rect,e){var style=t.style;t.__dirty&&c.normalizeTextStyle(style,!0);var text=style.text;if(null!=text){text+="";var n,r,l=t.__textSvgEl;if(l||(l=o("text"),t.__textSvgEl=l),D(l,style,!0),t instanceof d||t.style.transformText)C(l,t.transform);else if(t.transform)E.copy(rect),E.applyTransform(t.transform),rect=E;else{var f=t.transformCoordToGlobal(rect.x,rect.y);rect.x=f[0],rect.y=f[1]}var m=style.textPosition,v=style.textDistance,y=style.textAlign||"left";"number"==typeof style.fontSize&&(style.fontSize+="px");var x=style.font||[style.fontStyle||"",style.fontWeight||"",style.fontSize||"",style.fontFamily||""].join(" ")||h.DEFAULT_FONT,_=N(style.textVerticalAlign),w=(e=h.getBoundingRect(text,x,y,_)).lineHeight;if(m instanceof Array)n=rect.x+m[0],r=rect.y+m[1];else{var S=h.adjustTextPositionOnRect(m,rect,v);n=S.x,r=S.y,_=N(S.textVerticalAlign),y=S.textAlign}L(l,"alignment-baseline",_),x&&(l.style.font=x);var M=style.textPadding;L(l,"x",n),L(l,"y",r);var I=text.split("\n"),T=I.length,A=y;"left"===A?(A="start",M&&(n+=M[3])):"right"===A?(A="end",M&&(n-=M[1])):"center"===A&&(A="middle",M&&(n+=(M[3]-M[1])/2));var P=0;if("baseline"===_?(P=-e.height+w,M&&(P-=M[2])):"middle"===_?(P=(-e.height+w)/2,M&&(r+=(M[0]-M[2])/2)):M&&(P+=M[0]),t.__text!==text||t.__textFont!==x){var k=t.__tspanList||[];t.__tspanList=k;for(var i=0;i<T;i++){(tspan=k[i])?tspan.innerHTML="":(tspan=k[i]=o("tspan"),l.appendChild(tspan),L(tspan,"alignment-baseline",_),L(tspan,"text-anchor",A)),L(tspan,"x",n),L(tspan,"y",r+i*w+P),tspan.appendChild(document.createTextNode(I[i]))}for(;i<k.length;i++)l.removeChild(k[i]);k.length=T,t.__text=text,t.__textFont=x}else if(t.__tspanList.length){var O=t.__tspanList.length;for(i=0;i<O;++i){var tspan;(tspan=t.__tspanList[i])&&(L(tspan,"x",n),L(tspan,"y",r+i*w+P))}}}};function N(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}O.drawRectText=z,O.brush=function(t){var style=t.style;null!=style.text&&(style.textPosition=[0,0],z(t,{x:style.x||0,y:style.y||0,width:0,height:0},t.getBoundingRect()))},e.path=P,e.image=k,e.text=O},function(t,e){var n="http://www.w3.org/2000/svg";e.createElement=function(t){return document.createElementNS(n,t)}},,,,function(t,e){var n=2311;t.exports=function(){return n++}},function(t,e,n){var o=n(337),r=n(252),l=n(311),h=n(451),c=n(219),d=function(t){l.call(this,t),r.call(this,t),h.call(this,t),this.id=t.id||o()};d.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(c.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},c.mixin(d,h),c.mixin(d,l),c.mixin(d,r);var f=d;t.exports=f},function(t,e,n){var o=n(452),r=n(242),l=n(219).isArrayLike,h=Array.prototype.slice;function c(t,e){return t[e]}function d(t,e,n){t[e]=n}function f(t,e,n){return(e-t)*n+t}function m(t,e,n){return n>.5?e:t}function v(t,e,n,o,r){var l=t.length;if(1==r)for(var i=0;i<l;i++)o[i]=f(t[i],e[i],n);else{var h=l&&t[0].length;for(i=0;i<l;i++)for(var c=0;c<h;c++)o[i][c]=f(t[i][c],e[i][c],n)}}function y(t,e,n){var o=t.length,r=e.length;if(o!==r)if(o>r)t.length=r;else for(var i=o;i<r;i++)t.push(1===n?e[i]:h.call(e[i]));var l=t[0]&&t[0].length;for(i=0;i<t.length;i++)if(1===n)isNaN(t[i])&&(t[i]=e[i]);else for(var c=0;c<l;c++)isNaN(t[i][c])&&(t[i][c]=e[i][c])}function x(t,e,n){if(t===e)return!0;var o=t.length;if(o!==e.length)return!1;if(1===n){for(var i=0;i<o;i++)if(t[i]!==e[i])return!1}else{var r=t[0].length;for(i=0;i<o;i++)for(var l=0;l<r;l++)if(t[i][l]!==e[i][l])return!1}return!0}function _(t,e,n,o,r,l,h,c,d){var f=t.length;if(1==d)for(var i=0;i<f;i++)c[i]=w(t[i],e[i],n[i],o[i],r,l,h);else{var m=t[0].length;for(i=0;i<f;i++)for(var v=0;v<m;v++)c[i][v]=w(t[i][v],e[i][v],n[i][v],o[i][v],r,l,h)}}function w(t,e,n,o,r,l,h){var c=.5*(n-t),d=.5*(o-e);return(2*(e-n)+c+d)*h+(-3*(e-n)-2*c-d)*l+c*r+e}function S(t){if(l(t)){var e=t.length;if(l(t[0])){for(var n=[],i=0;i<e;i++)n.push(h.call(t[i]));return n}return h.call(t)}return t}function M(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function I(t,e,n,h,c,d){var S=t._getter,I=t._setter,T="spline"===e,A=h.length;if(A){var C,L=h[0].value,D=l(L),P=!1,k=!1,O=D?function(t){var e=t[t.length-1].value;return l(e&&e[0])?2:1}(h):0;h.sort((function(a,b){return a.time-b.time})),C=h[A-1].time;for(var E=[],z=[],N=h[0].value,R=!0,i=0;i<A;i++){E.push(h[i].time/C);var V=h[i].value;if(D&&x(V,N,O)||!D&&V===N||(R=!1),N=V,"string"==typeof V){var B=r.parse(V);B?(V=B,P=!0):k=!0}z.push(V)}if(d||!R){var G=z[A-1];for(i=0;i<A-1;i++)D?y(z[i],G,O):!isNaN(z[i])||isNaN(G)||k||P||(z[i]=G);D&&y(S(t._target,c),G,O);var H,W,F,Z,U,j=0,X=0;if(P)var Y=[0,0,0,0];var $=new o({target:t._target,life:C,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<X){for(n=Math.min(j+1,A-1);n>=0&&!(E[n]<=e);n--);n=Math.min(n,A-2)}else{for(n=j;n<A&&!(E[n]>e);n++);n=Math.min(n-1,A-2)}j=n,X=e;var o=E[n+1]-E[n];if(0!==o)if(H=(e-E[n])/o,T)if(F=z[n],W=z[0===n?n:n-1],Z=z[n>A-2?A-1:n+1],U=z[n>A-3?A-1:n+2],D)_(W,F,Z,U,H,H*H,H*H*H,S(t,c),O);else{if(P)r=_(W,F,Z,U,H,H*H,H*H*H,Y,1),r=M(Y);else{if(k)return m(F,Z,H);r=w(W,F,Z,U,H,H*H,H*H*H)}I(t,c,r)}else if(D)v(z[n],z[n+1],H,S(t,c),O);else{var r;if(P)v(z[n],z[n+1],H,Y,1),r=M(Y);else{if(k)return m(z[n],z[n+1],H);r=f(z[n],z[n+1],H)}I(t,c,r)}},ondestroy:n});return e&&"spline"!==e&&($.easing=e),$}}}var T=function(t,e,n,o){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||c,this._setter=o||d,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};T.prototype={when:function(time,t){var e=this._tracks;for(var n in t)if(t.hasOwnProperty(n)){if(!e[n]){e[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==time&&e[n].push({time:0,value:S(o)})}e[n].push({time:time,value:t[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].pause();this._paused=!0},resume:function(){for(var i=0;i<this._clipList.length;i++)this._clipList[i].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var n,o=this,r=0,l=function(){--r||o._doneCallback()};for(var h in this._tracks)if(this._tracks.hasOwnProperty(h)){var c=I(this,t,l,this._tracks[h],h,e);c&&(this._clipList.push(c),r++,this.animation&&this.animation.addClip(c),n=c)}if(n){var d=n.onframe;n.onframe=function(t,e){d(t,e);for(var i=0;i<o._onframeList.length;i++)o._onframeList[i](t,e)}}return r||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var o=e[i];t&&o.onframe(this._target,1),n&&n.removeClip(o)}e.length=0},delay:function(time){return this._delay=time,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var A=T;t.exports=A},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},o=n.prototype;o.insert=function(t){var e=new r(t);return this.insertEntry(e),e},o.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},o.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},o.len=function(){return this._len},o.clear=function(){this.head=this.tail=null,this._len=0};var r=function(t){this.value=t,this.next,this.prev},l=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},h=l.prototype;h.put=function(t,e){var n=this._list,map=this._map,o=null;if(null==map[t]){var l=n.len(),h=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var c=n.head;n.remove(c),delete map[c.key],o=c.value,this._lastRemovedEntry=c}h?h.value=e:h=new r(e),h.key=t,n.insertEntry(h),map[t]=h}return o},h.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},h.clear=function(){this._list.clear(),this._map={}};var c=l;t.exports=c},function(t,e){var n=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],o=function(t,e){this.extendFrom(t,!1),this.host=e};function r(t,e,rect){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,r=null==e.y?0:e.y,l=null==e.y2?0:e.y2;return e.global||(n=n*rect.width+rect.x,o=o*rect.width+rect.x,r=r*rect.height+rect.y,l=l*rect.height+rect.y),t.createLinearGradient(n,r,o,l)}function l(t,e,rect){var n=rect.width,o=rect.height,r=Math.min(n,o),l=null==e.x?.5:e.x,h=null==e.y?.5:e.y,c=null==e.r?.5:e.r;return e.global||(l=l*n+rect.x,h=h*o+rect.y,c*=r),t.createRadialGradient(l,h,0,l,h,c)}for(var h=o.prototype={constructor:o,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,o){for(var r=o&&o.style,l=!r,i=0;i<n.length;i++){var h=n[i],c=h[0];(l||this[c]!==r[c])&&(t[c]=this[c]||h[1])}if((l||this.fill!==r.fill)&&(t.fillStyle=this.fill),(l||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(l||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(l||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var d=this.lineWidth;t.lineWidth=d/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,rect){for(var n=("radial"===e.type?l:r)(t,e,rect),o=e.colorStops,i=0;i<o.length;i++)n.addColorStop(o[i].offset,o[i].color);return n}},i=0;i<n.length;i++){var c=n[i];c[0]in h||(h[c[0]]=c[1])}o.getGradient=h.getGradient;var d=o;t.exports=d},function(t,e){var n=function(image,t){this.image=image,this.repeat=t,this.type="pattern"};n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var o=n;t.exports=o},function(t,e){var n="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){var o=n(279),r=new(n(228)),l=function(){};l.prototype={constructor:l,drawRectText:function(t,rect){var style=this.style;rect=style.textRect||rect,this.__dirty&&o.normalizeTextStyle(style,!0);var text=style.text;if(null!=text&&(text+=""),o.needDrawText(text,style)){t.save();var e=this.transform;style.transformText?this.setTransform(t):e&&(r.copy(rect),r.applyTransform(e),rect=r),o.renderText(this,t,text,style,rect),t.restore()}}};var h=l;t.exports=h},function(t,e){e.buildPath=function(t,e){var n,o,r,l,h,c=e.x,d=e.y,f=e.width,m=e.height,v=e.r;f<0&&(c+=f,f=-f),m<0&&(d+=m,m=-m),"number"==typeof v?n=o=r=l=v:v instanceof Array?1===v.length?n=o=r=l=v[0]:2===v.length?(n=r=v[0],o=l=v[1]):3===v.length?(n=v[0],o=l=v[1],r=v[2]):(n=v[0],o=v[1],r=v[2],l=v[3]):n=o=r=l=0,n+o>f&&(n*=f/(h=n+o),o*=f/h),r+l>f&&(r*=f/(h=r+l),l*=f/h),o+r>m&&(o*=m/(h=o+r),r*=m/h),n+l>m&&(n*=m/(h=n+l),l*=m/h),t.moveTo(c+n,d),t.lineTo(c+f-o,d),0!==o&&t.quadraticCurveTo(c+f,d,c+f,d+o),t.lineTo(c+f,d+m-r),0!==r&&t.quadraticCurveTo(c+f,d+m,c+f-r,d+m),t.lineTo(c+l,d+m),0!==l&&t.quadraticCurveTo(c,d+m,c,d+m-l),t.lineTo(c,d+n),0!==n&&t.quadraticCurveTo(c,d,c+n,d)}},function(t,e){e.containStroke=function(t,e,n,o,r,l,h){if(0===r)return!1;var c=r,d=0;if(h>e+c&&h>o+c||h<e-c&&h<o-c||l>t+c&&l>n+c||l<t-c&&l<n-c)return!1;if(t===n)return Math.abs(l-t)<=c/2;var f=(d=(e-o)/(t-n))*l-h+(t*o-n*e)/(t-n);return f*f/(d*d+1)<=c/2*c/2}},function(t,e,n){var o=n(245).quadraticProjectPoint;e.containStroke=function(t,e,n,r,l,h,c,d,f){if(0===c)return!1;var m=c;return!(f>e+m&&f>r+m&&f>h+m||f<e-m&&f<r-m&&f<h-m||d>t+m&&d>n+m&&d>l+m||d<t-m&&d<n-m&&d<l-m)&&o(t,e,n,r,l,h,d,f,null)<=m/2}},function(t,e){var n=2*Math.PI;e.normalizeRadian=function(t){return(t%=n)<0&&(t+=n),t}},function(t,e){t.exports=function(t,e,n,o,r,l){if(l>e&&l>o||l<e&&l<o)return 0;if(o===e)return 0;var h=o<e?1:-1,c=(l-e)/(o-e);return 1!==c&&0!==c||(h=o<e?.5:-.5),c*(n-t)+t>r?h:0}},function(t,e,n){var o=n(230),r=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return o.browser.ie&&o.browser.version>=11?function(){var e,n=this.__clipPaths,style=this.style;if(n)for(var i=0;i<n.length;i++){var o=n[i],l=o&&o.shape,h=o&&o.type;if(l&&("sector"===h&&l.startAngle===l.endAngle||"rect"===h&&(!l.width||!l.height))){for(var c=0;c<r.length;c++)r[c][2]=style[r[c][0]],style[r[c][0]]=r[c][1];e=!0;break}}if(t.apply(this,arguments),e)for(c=0;c<r.length;c++)style[r[c][0]]=r[c][2]}:t}},function(t,e,n){var o=n(472),r=n(473);e.buildPath=function(t,e,n){var l=e.points,h=e.smooth;if(l&&l.length>=2){if(h&&"spline"!==h){var c=r(l,h,n,e.smoothConstraint);t.moveTo(l[0][0],l[0][1]);for(var d=l.length,i=0;i<(n?d:d-1);i++){var f=c[2*i],m=c[2*i+1],p=l[(i+1)%d];t.bezierCurveTo(f[0],f[1],m[0],m[1],p[0],p[1])}}else{"spline"===h&&(l=o(l,n)),t.moveTo(l[0][0],l[0][1]);i=1;for(var v=l.length;i<v;i++)t.lineTo(l[i][0],l[i][1])}n&&t.closePath()}}},function(t,e,n){var o=n(219),r=n(280),l=function(t,e,n,o,l,h){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==o?0:o,this.type="linear",this.global=h||!1,r.call(this,l)};l.prototype={constructor:l},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(244),r=o.set,l=o.get,h={clearColorPalette:function(){r(this,"colorIdx",0),r(this,"colorNameMap",{})},getColorFromPalette:function(t,e){var n=l(e=e||this,"colorIdx")||0,o=l(e,"colorNameMap")||r(e,"colorNameMap",{});if(o.hasOwnProperty(t))return o[t];var h=this.get("color",!0)||[];if(h.length){var c=h[n];return t&&(o[t]=c),r(e,"colorIdx",(n+1)%h.length),c}}};t.exports=h},function(t,e,n){var o=n(275);e.zrender=o;var r=n(236);e.matrix=r;var l=n(226);e.vector=l;var h=n(219),c=n(242);e.color=c;var d=n(221);e.graphic=d;var f=n(222);e.number=f;var m=n(227);e.format=m;var v=n(253);v.throttle;e.throttle=v.throttle;var y=n(490);e.helper=y;var x=n(233);e.List=x;var _=n(229);e.Model=_;var w=n(248);e.Axis=w;var S=n(230);e.env=S;var M=n(356);e.parseGeoJson=M;var I={};h.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){I[t]=h[t]})),e.util=I},function(t,e,n){var o=n(222),r=o.round;function l(t){return o.getPrecisionSafe(t)+2}function h(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function c(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),h(t,0,e),h(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=function(t,e,n,h){var d={},span=t[1]-t[0],f=d.interval=o.nice(span/e,!0);null!=n&&f<n&&(f=d.interval=n),null!=h&&f>h&&(f=d.interval=h);var m=d.intervalPrecision=l(f);return c(d.niceTickExtent=[r(Math.ceil(t[0]/f)*f,m),r(Math.floor(t[1]/f)*f,m)],t),d},e.getIntervalPrecision=l,e.fixExtent=c,e.intervalScaleGetTicks=function(t,e,n,o){var l=[];if(!t)return l;e[0]<n[0]&&l.push(e[0]);for(var h=n[0];h<=n[1]&&(l.push(h),(h=r(h+t,o))!==l[l.length-1]);)if(l.length>1e4)return[];return e[1]>(l.length?l[l.length-1]:n[1])&&l.push(e[1]),l}},function(t,e,n){var o=n(219),r=n(357);function l(t,e,n){for(var o=[],r=e[0],l=e[1],i=0;i<t.length;i+=2){var h=t.charCodeAt(i)-64,c=t.charCodeAt(i+1)-64;h=h>>1^-(1&h),c=c>>1^-(1&c),r=h+=r,l=c+=l,o.push([h/n,c/n])}return o}t.exports=function(t){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,o=0;o<n.length;o++)for(var r=n[o].geometry,h=r.coordinates,c=r.encodeOffsets,d=0;d<h.length;d++){var f=h[d];if("Polygon"===r.type)h[d]=l(f,c[d],e);else if("MultiPolygon"===r.type)for(var m=0;m<f.length;m++){var polygon=f[m];f[m]=l(polygon,c[d][m],e)}}t.UTF8Encoding=!1}(t),o.map(o.filter(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var e=t.properties,n=t.geometry,l=n.coordinates,h=[];"Polygon"===n.type&&h.push({type:"polygon",exterior:l[0],interiors:l.slice(1)}),"MultiPolygon"===n.type&&o.each(l,(function(t){t[0]&&h.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var c=new r(e.name,h,e.cp);return c.properties=e,c}))}},function(t,e,n){var o=n(228),r=n(314),l=n(226),h=n(358);function c(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var rect=this.getBoundingRect();n=[rect.x+rect.width/2,rect.y+rect.height/2]}this.center=n}c.prototype={constructor:c,properties:null,getBoundingRect:function(){var rect=this._rect;if(rect)return rect;for(var t=Number.MAX_VALUE,e=[t,t],n=[-t,-t],h=[],c=[],d=this.geometries,i=0;i<d.length;i++)if("polygon"===d[i].type){var f=d[i].exterior;r.fromPoints(f,h,c),l.min(e,e,h),l.max(n,n,c)}return 0===i&&(e[0]=e[1]=n[0]=n[1]=0),this._rect=new o(e[0],e[1],n[0]-e[0],n[1]-e[1])},contain:function(t){var rect=this.getBoundingRect(),e=this.geometries;if(!rect.contain(t[0],t[1]))return!1;t:for(var i=0,n=e.length;i<n;i++)if("polygon"===e[i].type){var o=e[i].exterior,r=e[i].interiors;if(h.contain(o,t[0],t[1])){for(var l=0;l<(r?r.length:0);l++)if(h.contain(r[l]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var rect=this.getBoundingRect(),h=rect.width/rect.height;n?r||(r=n/h):n=h*r;for(var c=new o(t,e,n,r),d=rect.calculateTransform(c),f=this.geometries,i=0;i<f.length;i++)if("polygon"===f[i].type){for(var m=f[i].exterior,v=f[i].interiors,p=0;p<m.length;p++)l.applyTransform(m[p],m[p],d);for(var y=0;y<(v?v.length:0);y++)for(p=0;p<v[y].length;p++)l.applyTransform(v[y][p],v[y][p],d)}(rect=this._rect).copy(c),this.center=[rect.x+rect.width/2,rect.y+rect.height/2]}};var d=c;t.exports=d},function(t,e,n){var o=n(349),r=1e-8;function l(a,b){return Math.abs(a-b)<r}e.contain=function(t,e,n){var r=0,p=t[0];if(!p)return!1;for(var i=1;i<t.length;i++){var h=t[i];r+=o(p[0],p[1],h[0],h[1],e,n),p=h}var c=t[0];return l(p[0],c[0])&&l(p[1],c[1])||(r+=o(p[0],p[1],c[0],c[1],e,n)),0!==r}},function(t,e,n){var o=n(224).otherDimToDataDim;e.findLabelValueDim=function(data){var t,e=o(data,"label");if(e.length)t=e[0];else for(var n,r=data.dimensions.slice();r.length&&(t=r.pop(),"ordinal"===(n=data.getDimensionInfo(t).type)||"time"===n););return t}},function(t,e,n){var o=n(231),r=n(226),l=n(350),h=r.min,c=r.max,d=r.scaleAndAdd,f=r.copy,m=[],v=[],y=[];function x(p){return isNaN(p[0])||isNaN(p[1])}function _(t,e,n,o,l,_,w,S,M,I,T){for(var A=0,C=n,L=0;L<o;L++){var p=e[C];if(C>=l||C<0)break;if(x(p)){if(T){C+=_;continue}break}if(C===n)t[_>0?"moveTo":"lineTo"](p[0],p[1]),f(v,p);else if(M>0){var D=C+_,P=e[D];if(T)for(;P&&x(e[D]);)P=e[D+=_];var k=.5,O=e[A];if(!(P=e[D])||x(P))f(y,p);else{var E,z;if(x(P)&&!T&&(P=p),r.sub(m,P,O),"x"===I||"y"===I){var N="x"===I?0:1;E=Math.abs(p[N]-O[N]),z=Math.abs(p[N]-P[N])}else E=r.dist(p,O),z=r.dist(p,P);d(y,p,m,-M*(1-(k=z/(z+E))))}h(v,v,S),c(v,v,w),h(y,y,S),c(y,y,w),t.bezierCurveTo(v[0],v[1],y[0],y[1],p[0],p[1]),d(v,p,m,M*k)}else t.lineTo(p[0],p[1]);A=C,C+=_}return L}function w(t,e){var n=[1/0,1/0],o=[-1/0,-1/0];if(e)for(var i=0;i<t.length;i++){var r=t[i];r[0]<n[0]&&(n[0]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[0]>o[0]&&(o[0]=r[0]),r[1]>o[1]&&(o[1]=r[1])}return{min:e?n:o,max:e?o:n}}var S=o.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:l(o.prototype.brush),buildPath:function(t,e){var n=e.points,i=0,o=n.length,r=w(n,e.smoothConstraint);if(e.connectNulls){for(;o>0&&x(n[o-1]);o--);for(;i<o&&x(n[i]);i++);}for(;i<o;)i+=_(t,n,i,o,o,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),M=o.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:l(o.prototype.brush),buildPath:function(t,e){var n=e.points,o=e.stackedOnPoints,i=0,r=n.length,l=e.smoothMonotone,h=w(n,e.smoothConstraint),c=w(o,e.smoothConstraint);if(e.connectNulls){for(;r>0&&x(n[r-1]);r--);for(;i<r&&x(n[i]);i++);}for(;i<r;){var d=_(t,n,i,r,r,1,h.min,h.max,e.smooth,l,e.connectNulls);_(t,o,i+d-1,d,r,-1,c.min,c.max,e.stackedOnSmooth,l,e.connectNulls),i+=d+1,t.closePath()}}});e.Polyline=S,e.Polygon=M},function(t,e,n){var o=n(219),r=n(232),l=n(284),h=n(262),c=r.extend({type:"cartesian2dAxis",axis:null,init:function(){c.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){c.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){c.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function d(t,option){return option.type||(option.data?"category":"value")}o.merge(c.prototype,h);var f={offset:0};l("x",c,d,f),l("y",c,d,f);var m=c;t.exports=m},function(t,e,n){var o=n(219),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},l={};l.categoryAxis=o.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),l.valueAxis=o.merge({boundaryGap:[0,0],splitNumber:5},r),l.timeAxis=o.defaults({scale:!0,min:"dataMin",max:"dataMax"},l.valueAxis),l.logAxis=o.defaults({scale:!0,logBase:10},l.valueAxis);var h=l;t.exports=h},function(t,e,n){var o=n(219);e.layout=function(t,e,n){n=n||{};var r=t.coordinateSystem,l=e.axis,h={},c=l.position,d=l.onZero?"onZero":c,f=l.dim,rect=r.getRect(),m=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],v={left:0,right:1,top:0,bottom:1,onZero:2},y=e.get("offset")||0,x="x"===f?[m[2]-y,m[3]+y]:[m[0]-y,m[1]+y];if(l.onZero){var _=r.getAxis("x"===f?"y":"x",l.onZeroAxisIndex),w=_.toGlobalCoord(_.dataToCoord(0));x[v.onZero]=Math.max(Math.min(w,x[1]),x[0])}h.position=["y"===f?x[v[d]]:m[0],"x"===f?x[v[d]]:m[3]],h.rotation=Math.PI/2*("x"===f?0:1),h.labelDirection=h.tickDirection=h.nameDirection={top:-1,bottom:1,left:-1,right:1}[c],h.labelOffset=l.onZero?x[v[c]]-x[v.onZero]:0,e.get("axisTick.inside")&&(h.tickDirection=-h.tickDirection),o.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(h.labelDirection=-h.labelDirection);var S=e.get("axisLabel.rotate");return h.labelRotate="top"===d?-S:S,h.labelInterval=l.getLabelInterval(),h.z2=1,h}},function(t,e,n){var o=n(234),r=n(247),l=o.extend({type:"series.__base_bar__",getInitialData:function(option,t){return r(option.data,this,t)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(t,!0),data=this.getData(),o=data.getLayout("offset"),r=data.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=o+r/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});t.exports=l},function(t,e,n){var o=n(221);function r(style,t){"outside"===style.textPosition&&(style.textPosition=t)}e.setLabel=function(t,e,n,l,h,c,d){var f=n.getModel("label.normal"),m=n.getModel("label.emphasis");o.setLabelStyle(t,e,f,m,{labelFetcher:h,labelDataIndex:c,defaultText:h.getRawValue(c),isRectText:!0,autoColor:l}),r(t),r(e)}},function(t,e,n){var o=n(220),r=n(219);t.exports=function(t,e){r.each(e,(function(e){e.update="updateView",o.registerAction(e,(function(n,o){var r={};return o.eachComponent({mainType:"series",subType:t,query:n},(function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var data=t.getData();data.each((function(e){var n=data.getName(e);r[n]=t.isSelected(n)||!1}))})),{name:n.name,selected:r}}))}))}},function(t,e,n){var o=n(219),r=n(226),l=n(236),h=n(228),c=n(311),d=r.applyTransform;function f(){c.call(this)}function m(t){this.name=t,this.zoomLimit,c.call(this),this._roamTransform=new f,this._viewTransform=new f,this._center,this._zoom}function v(t,e,n,o){var r=n.seriesModel,l=r?r.coordinateSystem:null;return l===this?l[t](o):null}o.mixin(f,c),m.prototype={constructor:m,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,o){return this._rect=new h(t,e,n,o),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,o){this.transformTo(t,e,n,o),this._viewRect=new h(t,e,n,o)},transformTo:function(t,e,n,o){var rect=this.getBoundingRect(),r=this._viewTransform;r.transform=rect.calculateTransform(new h(t,e,n,o)),r.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,n=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=r.applyTransform([],o,t),n=r.applyTransform([],n,t),e.origin=o,e.position=[n[0]-o[0],n[1]-o[1]],e.scale=[l,l],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&l.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],l.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},dataToPoint:function(data){var t=this.transform;return t?d([],data,t):[data[0],data[1]]},pointToData:function(t){var e=this.invTransform;return e?d([],t,e):[t[0],t[1]]},convertToPixel:o.curry(v,"dataToPoint"),convertFromPixel:o.curry(v,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},o.mixin(m,c);var y=m;t.exports=y},function(t,e,n){var o=n(219),r=n(288),l=n(370),h=n(322).onIrrelevantElement,c=n(221);function d(t,e){var n=t.getItemStyle(),o=t.get("areaColor");return null!=o&&(n.fill=o),n}function f(t,e){e.eachChild((function(e){o.each(e.__regions,(function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")}))}))}function m(t,e){var n=new c.Group;this._controller=new r(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag}m.prototype={constructor:m,draw:function(t,e,n,r,l){var h="geo"===t.mainType,data=t.getData&&t.getData();h&&e.eachComponent({mainType:"series",subType:"map"},(function(e){data||e.getHostGeoModel()!==t||(data=e.getData())}));var m=t.coordinateSystem,v=this.group,y=m.scale,x={position:m.position,scale:y};!v.childAt(0)||l?v.attr(x):c.updateProps(v,x,t),v.removeAll();var _=["itemStyle","normal"],w=["itemStyle","emphasis"],S=["label","normal"],M=["label","emphasis"],I=o.createHashMap();o.each(m.regions,(function(e){var n=I.get(e.name)||I.set(e.name,new c.Group),r=new c.CompoundPath({shape:{paths:[]}});n.add(r);var l,f=(R=t.getRegionModel(e.name)||t).getModel(_),m=R.getModel(w),x=d(f),T=d(m),A=R.getModel(S),C=R.getModel(M);if(data){l=data.indexOfName(e.name);var L=data.getItemVisual(l,"color",!0);L&&(x.fill=L)}o.each(e.geometries,(function(t){if("polygon"===t.type){r.shape.paths.push(new c.Polygon({shape:{points:t.exterior}}));for(var i=0;i<(t.interiors?t.interiors.length:0);i++)r.shape.paths.push(new c.Polygon({shape:{points:t.interiors[i]}}))}})),r.setStyle(x),r.style.strokeNoScale=!0,r.culling=!0;var D=A.get("show"),P=C.get("show"),k=data&&isNaN(data.get("value",l)),O=data&&data.getItemLayout(l);if(h||k&&(D||P)||O&&O.showLabel){var E,z=h?e.name:l;(!data||l>=0)&&(E=t);var N=new c.Text({position:e.center.slice(),scale:[1/y[0],1/y[1]],z2:10,silent:!0});c.setLabelStyle(N.style,N.hoverStyle={},A,C,{labelFetcher:E,labelDataIndex:z,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(N)}if(data)data.setItemGraphicEl(l,n);else{var R=t.getRegionModel(e.name);r.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:R&&R.option||{}}}(n.__regions||(n.__regions=[])).push(e),c.setHoverStyle(n,T,{hoverSilentOnTouch:!!t.get("selectedMode")}),v.add(n)})),this._updateController(t,e,n),function(t,e,n,r,l){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",(function(){t._mouseDownFlag=!0})),n.on("click",(function(h){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var c=h.target;!c.__regions;)c=c.parent;if(c){var d={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:o.map(c.__regions,(function(t){return{name:t.name,from:l.uid}}))};d[e.mainType+"Id"]=e.id,r.dispatchAction(d),f(e,n)}}})))}(this,t,v,n,r),f(t,v)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,n){var r=t.coordinateSystem,c=this._controller,d=this._controllerHost;d.zoomLimit=t.get("scaleLimit"),d.zoom=r.getZoom(),c.enable(t.get("roam")||!1);var f=t.mainType;function m(){var e={type:"geoRoam",componentType:f};return e[f+"Id"]=t.id,e}c.off("pan").on("pan",(function(t,e){this._mouseDownFlag=!1,l.updateViewOnPan(d,t,e),n.dispatchAction(o.extend(m(),{dx:t,dy:e}))}),this),c.off("zoom").on("zoom",(function(t,e,r){if(this._mouseDownFlag=!1,l.updateViewOnZoom(d,t,e,r),n.dispatchAction(o.extend(m(),{zoom:t,originX:e,originY:r})),this._updateGroup){var h=this.group,c=h.scale;h.traverse((function(t){"text"===t.type&&t.attr("scale",[1/c[0],1/c[1]])}))}}),this),c.setPointerChecker((function(e,o,l){return r.getViewRectAfterRoam().contain(o,l)&&!h(e,n,t)}))}};var v=m;t.exports=v},function(t,e,n){var o=n(220),r="\0_ec_interaction_mutex";function l(t){return t[r]||(t[r]={})}o.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),e.take=function(t,e,n){l(t)[e]=n},e.release=function(t,e,n){var o=l(t);o[e]===n&&(o[e]=null)},e.isTaken=function(t,e){return!!l(t)[e]}},function(t,e){e.updateViewOnPan=function(t,e,n){var o=t.target,r=o.position;r[0]+=e,r[1]+=n,o.dirty()},e.updateViewOnZoom=function(t,e,n,o){var r=t.target,l=t.zoomLimit,h=r.position,c=r.scale,d=t.zoom=t.zoom||1;if(d*=e,l){var f=l.min||0,m=l.max||1/0;d=Math.max(Math.min(m,d),f)}var v=d/t.zoom;t.zoom=d,h[0]-=(n-h[0])*(v-1),h[1]-=(o-h[1])*(v-1),c[0]*=v,c[1]*=v,r.dirty()}},function(t,e,n){var o=n(220),r=n(219),l=n(372).updateCenterAndZoom;o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var o=e.coordinateSystem;if("geo"===o.type){var h=l(o,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(h.center),e.setZoom&&e.setZoom(h.zoom),"series"===n&&r.each(e.seriesGroup,(function(t){t.setCenter(h.center),t.setZoom(h.zoom)}))}}))}))},function(t,e){e.updateCenterAndZoom=function(view,t,e){var n=view.getZoom(),o=view.getCenter(),r=t.zoom,l=view.dataToPoint(o);if(null!=t.dx&&null!=t.dy){l[0]-=t.dx,l[1]-=t.dy;o=view.pointToData(l);view.setCenter(o)}if(null!=r){if(e){var h=e.min||0,c=e.max||1/0;r=Math.max(Math.min(n*r,c),h)/n}view.scale[0]*=r,view.scale[1]*=r;var d=view.position,f=(t.originX-d[0])*(r-1),m=(t.originY-d[1])*(r-1);d[0]-=f,d[1]-=m,view.updateTransform();o=view.pointToData(l);view.setCenter(o),view.setZoom(r*n)}return{center:view.getCenter(),zoom:view.getZoom()}}},function(t,e,n){var o=n(219),r=n(229),l=n(233),h=n(374),c=n(239),d=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function f(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=o.map(e||[],(function(e){return new r(e,t,t.ecModel)})),this.leavesModel=new r(n||{},t,t.ecModel)}d.prototype={constructor:d,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},o.isString(t)&&(t={order:t});var r,l=t.order||"preorder",h=this[t.attr||"children"];"preorder"===l&&(r=e.call(n,this));for(var i=0;!r&&i<h.length;i++)h[i].eachNode(t,e,n);"postorder"===l&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var i=0,e=this.children,n=e.length;i<n;i++){var o=e[i].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var i=0,e=this.children,n=e.length;i<n;i++){var o=e[i].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var data=this.hostTree.data;return data.get(data.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(path){if(!(this.dataIndex<0)){var t,e=this.hostTree,n=e.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(t=this.getLeavesModel()),n.getModel(path,(o||t||e.hostModel).getModel(path))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},f.prototype={constructor:f,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var data=this.data,t=this._nodes,i=0,e=t.length;i<e;i++)t[i].dataIndex=-1;for(i=0,e=data.count();i<e;i++)t[data.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},f.createTree=function(t,e,n){var r=new f(e,n.levels,n.leaves),m=[],v=1;!function t(e,n){var l=e.value;v=Math.max(v,o.isArray(l)?l.length:1);m.push(e);var h=new d(e.name,r);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(h,n):r.root=h;r._nodes.push(h);var c=e.children;if(c)for(var i=0;i<c.length;i++)t(c[i],h)}(t),r.root.updateDepthAndHeight(0);var y=c([{name:"value"}],m,{dimCount:v}),x=new l(y,e);return x.initData(m),h({mainData:x,struct:r,structAttr:"tree"}),r.update(),r};var m=f;t.exports=m},function(t,e,n){var o=n(219),r=o.each,l="\0__link_datas",h="\0__link_mainData";function c(t,e){if((data=this)[h]===data){var n=o.extend({},this[l]);n[this.dataType]=e,v(e,n,t)}else y(e,this.dataType,this[h],t);var data;return e}function d(t,e){return t.struct&&t.struct.update(this),e}function f(t,e){return r(e[l],(function(data,n){data!==e&&y(data.cloneShallow(),n,e,t)})),e}function m(t){var e=this[h];return null==t||null==e?e:e[l][t]}function v(t,e,n){t[l]={},r(e,(function(data,e){y(data,e,t,n)}))}function y(data,t,e,n){e[l][t]=data,data[h]=e,data.dataType=t,n.struct&&(data[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=data),data.getLinkedData=m}var x=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,v(e,n,t),r(n,(function(data){r(e.TRANSFERABLE_METHODS,(function(e){data.wrapMethod(e,o.curry(c,t))}))})),e.wrapMethod("cloneShallow",o.curry(f,t)),r(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,o.curry(d,t))})),o.assert(n[e.dataType]===e)};t.exports=x},function(t,e,n){var o=n(225);function r(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function l(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function h(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function c(t,e,n){var o=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=o,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=o}function d(t,e){return t.parentNode===e.parentNode?1:2}e.init=function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,o=[t];e=o.pop();)if(n=e.children,e.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var r=n[i];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:i,thread:null},o.push(r)}},e.firstWalk=function(t,e){var n=t.isExpand?t.children:[],o=t.parentNode.children,d=t.hierNode.i?o[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,o=0,r=0;for(;--n>=0;){var l=e[n];l.hierNode.prelim+=o,l.hierNode.modifier+=o,r+=l.hierNode.change,o+=l.hierNode.shift+r}}(t);var f=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;d?(t.hierNode.prelim=d.hierNode.prelim+e(t,d),t.hierNode.modifier=t.hierNode.prelim-f):t.hierNode.prelim=f}else d&&(t.hierNode.prelim=d.hierNode.prelim+e(t,d));t.parentNode.hierNode.defaultAncestor=function(t,e,n,o){if(e){for(var d=t,f=t,m=f.parentNode.children[0],v=e,y=d.hierNode.modifier,x=f.hierNode.modifier,_=m.hierNode.modifier,w=v.hierNode.modifier;v=r(v),f=l(f),v&&f;){d=r(d),m=l(m),d.hierNode.ancestor=t;var S=v.hierNode.prelim+w-f.hierNode.prelim-x+o(v,f);S>0&&(c(h(v,t,n),t,S),x+=S,y+=S),w+=v.hierNode.modifier,x+=f.hierNode.modifier,y+=d.hierNode.modifier,_+=m.hierNode.modifier}v&&!r(d)&&(d.hierNode.thread=v,d.hierNode.modifier+=w-y),f&&!l(m)&&(m.hierNode.thread=f,m.hierNode.modifier+=x-_,n=t)}return n}(t,d,t.parentNode.hierNode.defaultAncestor||o[0],e)},e.secondWalk=function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},e.separation=function(t){return arguments.length?t:d},e.radialCoordinate=function(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n},e.getViewRect=function(t,e){return o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}},function(t,e,n){var o=n(545),r=o.eachAfter,l=o.eachBefore,h=n(375),c=h.init,d=h.firstWalk,f=h.secondWalk,m=h.separation,v=h.radialCoordinate,y=h.getViewRect;t.exports=function(t,e){var n=y(t,e);t.layoutInfo=n;var o=t.get("layout"),h=0,x=0,_=null;"radial"===o?(h=2*Math.PI,x=Math.min(n.height,n.width)/2,_=m((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(h=n.width,x=n.height,_=m());var w=t.getData().tree.root,S=w.children[0];c(w),r(S,d,_),w.hierNode.modifier=-S.hierNode.prelim,l(S,f);var M=S,I=S,T=S;l(S,(function(t){var e=t.getLayout().x;e<M.getLayout().x&&(M=t),e>I.getLayout().x&&(I=t),t.depth>T.depth&&(T=t)}));var A=M===I?1:_(M,I)/2,C=A-M.getLayout().x,L=0,D=0,P=0,k=0;"radial"===o?(L=h/(I.getLayout().x+A+C),D=x/(T.depth-1||1),l(S,(function(t){P=(t.getLayout().x+C)*L,k=(t.depth-1)*D;var e=v(P,k);t.setLayout({x:e.x,y:e.y,rawX:P,rawY:k},!0)}))):"horizontal"===t.get("orient")?(D=x/(I.getLayout().x+A+C),L=h/(T.depth-1||1),l(S,(function(t){k=(t.getLayout().x+C)*D,P=(t.depth-1)*L,t.setLayout({x:P,y:k},!0)}))):(L=h/(I.getLayout().x+A+C),D=x/(T.depth-1||1),l(S,(function(t){P=(t.getLayout().x+C)*L,k=(t.depth-1)*D,t.setLayout({x:P,y:k},!0)})))}},function(t,e,n){var o=n(219),r=n(233),l=n(557),h=n(374),c=n(239),d=n(241),f=n(247);t.exports=function(t,e,n,m,v){for(var y=new l(m),i=0;i<t.length;i++)y.addNode(o.retrieve(t[i].id,t[i].name,i),i);var x=[],_=[],w=0;for(i=0;i<e.length;i++){var link=e[i],source=link.source,S=link.target;y.addEdge(source,S,w)&&(_.push(link),x.push(o.retrieve(link.id,source+" > "+S)),w++)}var M,I=n.get("coordinateSystem");if("cartesian2d"===I||"polar"===I)M=f(t,n,n.ecModel);else{var T=d.get(I),A=c((T&&"view"!==T.type&&T.dimensions||[]).concat(["value"]),t);(M=new r(A,n)).initData(t)}var C=new r(["value"],n);return C.initData(_,x),v&&v(M,C),h({mainData:M,struct:y,structAttr:"graph",datas:{node:M,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),y.update(),y}},function(t,e,n){var o=n(226);function r(t){t.eachEdge((function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,n=o.clone(t.node1.getLayout()),r=o.clone(t.node2.getLayout()),l=[n,r];+e&&l.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(l)}))}e.simpleLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),r(n)}},e.simpleLayoutEdge=r},function(t,e,n){var o=n(226);e.circularLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var rect=e.getBoundingRect(),n=t.getData(),r=n.graph,l=0,h=n.getSum("value"),c=2*Math.PI/(h||n.count()),d=rect.width/2+rect.x,f=rect.height/2+rect.y,m=Math.min(rect.width,rect.height)/2;r.eachNode((function(t){var e=t.getValue("value");l+=c*(h?e:1)/2,t.setLayout([m*Math.cos(l)+d,m*Math.sin(l)+f]),l+=c*(h?e:1)/2})),n.setLayout({cx:d,cy:f}),r.eachEdge((function(t){var e,n=t.getModel().get("lineStyle.normal.curveness")||0,r=o.clone(t.node1.getLayout()),l=o.clone(t.node2.getLayout()),h=(r[0]+l[0])/2,c=(r[1]+l[1])/2;+n&&(e=[d*(n*=3)+h*(1-n),f*n+c*(1-n)]),t.setLayout([r,l,e])}))}}},function(t,e,n){var o=n(220),r=n(219),l=n(253),h=n(579);n(381),n(582),n(584);o.extendComponentView({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},r.each(c,(function(t,e){n.getZr().on(e,this._handlers[e]=r.bind(t,this))}),this)),l.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){r.each(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(r.extend({type:"parallelAxisExpand"},t))}});var c={mousedown:function(t){d(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(d(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&d(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),o=n.behavior;"jump"===o&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===o?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===o&&null})}}};function d(view,t){var e=view._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}o.registerPreprocessor(h)},function(t,e,n){var o=n(580);n(241).register("parallel",{create:function(t,e){var n=[];return t.eachComponent("parallel",(function(r,l){var h=new o(r,t,e);h.name="parallel_"+l,h.resize(r,e),r.coordinateSystem=h,h.model=r,n.push(h)})),t.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}})),n}})},function(t,e,n){var o=n(228),r=n(322).onIrrelevantElement,l=n(221);function h(rect){return o.create(rect)}e.makeRectPanelClipPath=function(rect){return rect=h(rect),function(t,e){return l.clipPointsByRect(t,rect)}},e.makeLinearBrushOtherExtent=function(rect,t){return rect=h(rect),function(e){var n=null!=t?t:e,o=n?rect.width:rect.height,base=n?rect.x:rect.y;return[base,base+(o||0)]}},e.makeRectIsTargetByCursor=function(rect,t,e){return rect=h(rect),function(n,o,l){return rect.contain(o[0],o[1])&&!r(n,t,e)}}},function(t,e,n){var o=n(219);t.exports=function(){var t=[],e=[];return{key:function(e){return t.push(e),this},sortKeys:function(n){return e[t.length-1]=n,this},entries:function(n){return function n(r,l){if(l>=t.length)return r;var h=[],c=e[l++];return o.each(r,(function(t,e){h.push({key:e,values:n(t,l)})})),c?h.sort((function(a,b){return c(a.key,b.key)})):h}(function map(e,n){if(n>=t.length)return e;for(var i=-1,r=e.length,l=t[n++],h={},c={};++i<r;){var d=l(e[i]),f=c[d];f?f.push(e[i]):c[d]=[e[i]]}return o.each(c,(function(t,e){h[e]=map(t,n)})),h}(n,0),0)}}}},function(t,e,n){var o=n(221),r=n(324),l=n(219),h=n(238).createSymbol,c=n(226),d=n(245);function f(t,e,n){o.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var m=f.prototype;m.createLine=function(t,e,n){return new r(t,e,n)},m._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");l.isArray(o)||(o=[o,o]);var c=n.get("color")||t.getItemVisual(e,"color"),symbol=this.childAt(1);this._symbolType!==r&&(this.remove(symbol),(symbol=h(r,-.5,-.5,1,1,c)).z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",c),symbol.setStyle(n.getItemStyle(["color"])),symbol.attr("scale",o),symbol.setColor(c),symbol.attr("scale",o),this._symbolType=r,this._updateEffectAnimation(t,n,e))},m._updateEffectAnimation=function(t,e,n){var symbol=this.childAt(1);if(symbol){var o=this,r=t.getItemLayout(n),h=1e3*e.get("period"),c=e.get("loop"),d=e.get("constantSpeed"),f=l.retrieve(e.get("delay"),(function(e){return e/t.count()*h/3})),m="function"==typeof f;if(symbol.ignore=!0,this.updateAnimationPoints(symbol,r),d>0&&(h=this.getLineLength(symbol)/d*1e3),h!==this._period||c!==this._loop){symbol.stopAnimation();var v=f;m&&(v=f(n)),symbol.__t>0&&(v=-h*symbol.__t),symbol.__t=0;var y=symbol.animate("",c).when(h,{__t:1}).delay(v).during((function(){o.updateSymbolPosition(symbol)}));c||y.done((function(){o.remove(symbol)})),y.start()}this._period=h,this._loop=c}},m.getLineLength=function(symbol){return c.dist(symbol.__p1,symbol.__cp1)+c.dist(symbol.__cp1,symbol.__p2)},m.updateAnimationPoints=function(symbol,t){symbol.__p1=t[0],symbol.__p2=t[1],symbol.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},m.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},m.updateSymbolPosition=function(symbol){var t=symbol.__p1,e=symbol.__p2,n=symbol.__cp1,o=symbol.__t,r=symbol.position,l=d.quadraticAt,h=d.quadraticDerivativeAt;r[0]=l(t[0],n[0],e[0],o),r[1]=l(t[1],n[1],e[1],o);var c=h(t[0],n[0],e[0],o),f=h(t[1],n[1],e[1],o);symbol.rotation=-Math.atan2(f,c)-Math.PI/2,symbol.ignore=!1},m.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},l.inherits(f,o.Group);var v=f;t.exports=v},function(t,e,n){var o=n(221),r=n(219);function l(t,e,n){o.Group.call(this),this._createPolyline(t,e,n)}var h=l.prototype;h._createPolyline=function(t,e,n){var r=t.getItemLayout(e),line=new o.Polyline({shape:{points:r}});this.add(line),this._updateCommonStl(t,e,n)},h.updateData=function(t,e,n){var r=t.hostModel,line=this.childAt(0),l={shape:{points:t.getItemLayout(e)}};o.updateProps(line,l,r,e),this._updateCommonStl(t,e,n)},h._updateCommonStl=function(t,e,n){var line=this.childAt(0),l=t.getItemModel(e),h=t.getItemVisual(e,"color"),c=n&&n.lineStyle,d=n&&n.hoverLineStyle;n&&!t.hasItemOption||(c=l.getModel("lineStyle.normal").getLineStyle(),d=l.getModel("lineStyle.emphasis").getLineStyle()),line.useStyle(r.defaults({strokeNoScale:!0,fill:"none",stroke:h},c)),line.hoverStyle=d,o.setHoverStyle(this)},h.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},r.inherits(l,o.Group);var c=l;t.exports=c},function(t,e,n){var o=n(220);n(626),n(629),n(630),n(272),n(634),o.extendComponentView({type:"single"})},function(t,e,n){var o=n(219);e.layout=function(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,l={},h=r.position,c=r.orient,rect=n.getRect(),d=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],f={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};l.position=["vertical"===c?f.vertical[h]:d[0],"horizontal"===c?f.horizontal[h]:d[3]],l.rotation=Math.PI/2*{horizontal:0,vertical:1}[c],l.labelDirection=l.tickDirection=l.nameDirection={top:-1,bottom:1,right:1,left:-1}[h],t.get("axisTick.inside")&&(l.tickDirection=-l.tickDirection),o.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(l.labelDirection=-l.labelDirection);var m=e.rotate;return null==m&&(m=t.get("axisLabel.rotate")),l.labelRotation="top"===h?-m:m,l.labelInterval=r.getLabelInterval(),l.z2=1,l}},function(t,e,n){var o=n(219),r=n(224);t.exports=function(t,e){var n,l=[],h=t.seriesIndex;if(null==h||!(n=e.getSeriesByIndex(h)))return{point:[]};var data=n.getData(),c=r.queryDataIndex(data,t);if(null==c||o.isArray(c))return{point:[]};var d=data.getItemGraphicEl(c),f=n.coordinateSystem;if(n.getTooltipPosition)l=n.getTooltipPosition(c)||[];else if(f&&f.dataToPoint)l=f.dataToPoint(data.getValues(o.map(f.dimensions,(function(t){return n.coordDimToDataDim(t)[0]})),c,!0))||[];else if(d){var rect=d.getBoundingRect().clone();rect.applyTransform(d.transform),l=[rect.x+rect.width/2,rect.y+rect.height/2]}return{point:l,el:d}}},function(t,e,n){var o=n(219),r=n(230),l=n(224).makeGetter(),h=o.each;function c(t,e,n){t.handler("leave",null,n)}function d(t,e,n,o){e.handler(t,n,o)}e.register=function(t,e,n){if(!r.node){var f=e.getZr();l(f).records||(l(f).records={}),function(t,e){if(l(t).initialized)return;function n(n,o){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(o){var r=e[o.type];r?r.push(o):(o.dispatchAction=n,t.dispatchAction(o))};return{dispatchAction:n,pendings:e}}(e);h(l(t).records,(function(t){t&&o(t,n,r.dispatchAction)})),function(t,e){var n,o=t.showTip.length,r=t.hideTip.length;o?n=t.showTip[o-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}l(t).initialized=!0,n("click",o.curry(d,"click")),n("mousemove",o.curry(d,"mousemove")),n("globalout",c)}(f,e),(l(f).records[t]||(l(f).records[t]={})).handler=n}},e.unregister=function(t,e){if(!r.node){var n=e.getZr();(l(n).records||{})[t]&&(l(n).records[t]=null)}}},function(t,e,n){var o=n(221),r=n(326),l=n(290),h=n(363),c=n(256),d=r.extend({makeElOption:function(t,e,n,o,r){var c=n.axis,d=c.grid,v=o.get("type"),y=f(d,c).getOtherAxis(c).getGlobalExtent(),x=c.toGlobalCoord(c.dataToCoord(e,!0));if(v&&"none"!==v){var _=l.buildElStyle(o),w=m[v](c,x,y,_);w.style=_,t.graphicKey=w.type,t.pointer=w}var S=h.layout(d.model,n);l.buildCartesianSingleLabelElOption(e,t,S,n,o,r)},getHandleTransform:function(t,e,n){var o=h.layout(e.axis.grid.model,e,{labelInside:!1});return o.labelMargin=n.get("handle.margin"),{position:l.getTransformedPosition(e.axis,t,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,o){var r=n.axis,l=r.grid,h=r.getGlobalExtent(!0),c=f(l,r).getOtherAxis(r).getGlobalExtent(),d="x"===r.dim?0:1,m=t.position;m[d]+=e[d],m[d]=Math.min(h[1],m[d]),m[d]=Math.max(h[0],m[d]);var v=(c[1]+c[0])/2,y=[v,v];y[d]=m[d];return{position:m,rotation:t.rotation,cursorPoint:y,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}});function f(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var m={line:function(t,e,n,r){var h=l.makeLineShape([e,n[0]],[e,n[1]],v(t));return o.subPixelOptimizeLine({shape:h,style:r}),{type:"Line",shape:h}},shadow:function(t,e,n,o){var r=t.getBandWidth(),span=n[1]-n[0];return{type:"Rect",shape:l.makeRectShape([e-r/2,n[0]],[r,span],v(t))}}};function v(t){return"x"===t.dim?0:1}c.registerAxisPointerClass("CartesianAxisPointer",d);var y=d;t.exports=y},function(t,e,n){var o=n(220),r=n(219),l=n(229),h=o.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(option,t,e){this.mergeDefaultAndTheme(option,e),option.selected=option.selected||{}},mergeOption:function(option){h.superCall(this,"mergeOption",option)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=r.map(this.get("data")||[],(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new l(t,this,this.ecModel)}),this);this._data=e;var n=r.map(t.getSeries(),(function(t){return t.name}));t.eachSeries((function(t){if(t.legendDataProvider){var data=t.legendDataProvider();n=n.concat(data.mapArray(data.getName))}})),this._availableNames=n},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var data=this._data;r.each(data,(function(t){e[t.get("name")]=!1}))}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&r.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),c=h;t.exports=c},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(238).createSymbol,h=n(221),c=n(393).makeBackground,d=n(225),f=r.curry,m=r.each,v=h.Group,y=o.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new v),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,n){if(this.resetInner(),t.get("show",!0)){var o=t.get("align");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(o,t,e,n);var l=t.getBoxLayoutParams(),h={width:n.getWidth(),height:n.getHeight()},f=t.get("padding"),m=d.getLayoutRect(l,h,f),v=this.layoutInner(t,o,m),y=d.getLayoutRect(r.defaults({width:v.width,height:v.height},l),h,f);this.group.attr("position",[y.x-v.x,y.y-v.y]),this.group.add(this._backgroundEl=c(v,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,n,o){var l=this.getContentGroup(),h=r.createHashMap(),c=e.get("selectedMode");m(e.getData(),(function(r,d){var m=r.get("name");if(this.newlineDisabled||""!==m&&"\n"!==m){var y=n.getSeriesByName(m)[0];if(!h.get(m))if(y){var data=y.getData(),S=data.getVisual("color");"function"==typeof S&&(S=S(y.getDataParams(0)));var M=data.getVisual("legendSymbol")||"roundRect",I=data.getVisual("symbol");this._createItem(m,d,r,e,M,I,t,S,c).on("click",f(x,m,o)).on("mouseover",f(_,y,null,o)).on("mouseout",f(w,y,null,o)),h.set(m,!0)}else n.eachRawSeries((function(n){if(!h.get(m)&&n.legendDataProvider){var data=n.legendDataProvider(),l=data.indexOfName(m);if(l<0)return;var v=data.getItemVisual(l,"color");this._createItem(m,d,r,e,"roundRect",null,t,v,c).on("click",f(x,m,o)).on("mouseover",f(_,n,m,o)).on("mouseout",f(w,n,m,o)),h.set(m,!0)}}),this)}else l.add(new v({newline:!0}))}),this)},_createItem:function(t,e,n,o,c,d,f,m,y){var x=o.get("itemWidth"),_=o.get("itemHeight"),w=o.get("inactiveColor"),S=o.isSelected(t),M=new v,I=n.getModel("textStyle"),T=n.get("icon"),A=n.getModel("tooltip"),C=A.parentModel;if(c=T||c,M.add(l(c,0,0,x,_,S?m:w,!0)),!T&&d&&(d!==c||"none"==d)){var L=.8*_;"none"===d&&(d="circle"),M.add(l(d,(x-L)/2,(_-L)/2,L,L,S?m:w))}var D="left"===f?x+5:-5,P=f,k=o.get("formatter"),content=t;"string"==typeof k&&k?content=k.replace("{name}",null!=t?t:""):"function"==typeof k&&(content=k(t)),M.add(new h.Text({style:h.setTextStyle({},I,{text:content,x:D,y:_/2,textFill:S?I.getTextColor():w,textAlign:P,textVerticalAlign:"middle"})}));var O=new h.Rect({shape:M.getBoundingRect(),invisible:!0,tooltip:A.get("show")?r.extend({content:t,formatter:C.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:o.componentIndex,name:t,$vars:["name"]}},A.option):null});return M.add(O),M.eachChild((function(t){t.silent=!0})),O.silent=!y,this.getContentGroup().add(M),h.setHoverStyle(M),M.__legendDataIndex=e,M},layoutInner:function(t,e,n){var o=this.getContentGroup();d.box(t.get("orient"),o,t.get("itemGap"),n.width,n.height);var r=o.getBoundingRect();return o.attr("position",[-r.x,-r.y]),this.group.getBoundingRect()}});function x(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function _(t,e,n){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function w(t,e,n){var o=n.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:t.name,name:e})}t.exports=y},function(t,e,n){var o=n(225),r=o.getLayoutRect,l=o.box,h=o.positionElement,c=n(227),d=n(221);e.layout=function(t,e,n){var o=e.getBoxLayoutParams(),c=e.get("padding"),d={width:n.getWidth(),height:n.getHeight()},rect=r(o,d,c);l(e.get("orient"),t,e.get("itemGap"),rect.width,rect.height),h(t,o,d,c)},e.makeBackground=function(rect,t){var e=c.normalizeCssArray(t.get("padding")),style=t.getItemStyle(["color","opacity"]);return style.fill=t.get("backgroundColor"),rect=new d.Rect({shape:{x:rect.x-e[3],y:rect.y-e[0],width:rect.width+e[1]+e[3],height:rect.height+e[0]+e[2],r:t.get("borderRadius")},style:style,silent:!0,z2:-1})}},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(221),l=n(224),h=n(382),c=o.each,d=o.indexOf,f=o.curry,m=["dataToPoint","pointToData"],v=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function y(option,t,e){var n=this._targetInfoList=[],o={},r=w(t,option);c(S,(function(t,l){(!e||!e.include||d(e.include,l)>=0)&&t(r,n,o)}))}var x=y.prototype;function _(t){return t[0]>t[1]&&t.reverse(),t}function w(t,option){return l.parseFinder(t,option,{includeMainTypes:v})}x.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,(function(area,t,e){if((area.coordRanges||(area.coordRanges=[])).push(t),!area.coordRange){area.coordRange=t;var n=T[area.brushType](0,e,t);area.__rangeOffset={offset:C[area.brushType](n.values,area.range,[1,1]),xyMinMax:n.xyMinMax}}}))},x.matchOutputRanges=function(t,e,n){c(t,(function(area){var t=this.findTargetInfo(area,e);t&&!0!==t&&o.each(t.coordSyses,(function(t){var o=T[area.brushType](1,t,area.range);n(area,o.values,t,e)}))}),this)},x.setInputRanges=function(t,e){c(t,(function(area){var t,n,o,r,l,h=this.findTargetInfo(area,e);if(area.range=area.range||[],h&&!0!==h){area.panelId=h.panelId;var c=T[area.brushType](0,h.coordSys,area.coordRange),d=area.__rangeOffset;area.range=d?C[area.brushType](c.values,d.offset,(t=c.xyMinMax,n=d.xyMinMax,o=D(t),r=D(n),l=[o[0]/r[0],o[1]/r[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):c.values}}),this)},x.makePanelOpts=function(t,e){return o.map(this._targetInfoList,(function(n){var rect=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:h.makeRectPanelClipPath(rect),isTargetByCursor:h.makeRectIsTargetByCursor(rect,t,n.coordSysModel),getLinearBrushOtherExtent:h.makeLinearBrushOtherExtent(rect)}}))},x.controlSeries=function(area,t,e){var n=this.findTargetInfo(area,e);return!0===n||n&&d(n.coordSyses,t.coordinateSystem)>=0},x.findTargetInfo=function(area,t){for(var e=this._targetInfoList,n=w(t,area),i=0;i<e.length;i++){var o=e[i],r=area.panelId;if(r){if(o.panelId===r)return o}else for(i=0;i<M.length;i++)if(M[i](n,o))return o}return!0};var S={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,l=t.gridModels,h=o.createHashMap(),f={},m={};(n||r||l)&&(c(n,(function(t){var e=t.axis.grid.model;h.set(e.id,e),f[e.id]=!0})),c(r,(function(t){var e=t.axis.grid.model;h.set(e.id,e),m[e.id]=!0})),c(l,(function(t){h.set(t.id,t),f[t.id]=!0,m[t.id]=!0})),h.each((function(t){var o=t.coordinateSystem,l=[];c(o.getCartesians(),(function(t,e){(d(n,t.getAxis("x").model)>=0||d(r,t.getAxis("y").model)>=0)&&l.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:l[0],coordSyses:l,getPanelRect:I.grid,xAxisDeclared:f[t.id],yAxisDeclared:m[t.id]})})))},geo:function(t,e){c(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:I.geo})}))}},M=[function(t,e){var n=t.xAxisModel,o=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&o&&(r=o.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],I={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,rect=t.getBoundingRect().clone();return rect.applyTransform(r.getTransform(t)),rect}},T={lineX:f(A,0),lineY:f(A,1),rect:function(t,e,n){var o=e[m[t]]([n[0][0],n[1][0]]),r=e[m[t]]([n[0][1],n[1][1]]),l=[_([o[0],r[0]]),_([o[1],r[1]])];return{values:l,xyMinMax:l}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:o.map(n,(function(n){var p=e[m[t]](n);return r[0][0]=Math.min(r[0][0],p[0]),r[1][0]=Math.min(r[1][0],p[1]),r[0][1]=Math.max(r[0][1],p[0]),r[1][1]=Math.max(r[1][1],p[1]),p})),xyMinMax:r}}};function A(t,e,n,r){var l=n.getAxis(["x","y"][t]),h=_(o.map([0,1],(function(i){return e?l.coordToData(l.toLocalCoord(r[i])):l.toGlobalCoord(l.dataToCoord(r[i]))}))),c=[];return c[t]=h,c[1-t]=[NaN,NaN],{values:h,xyMinMax:c}}var C={lineX:f(L,0),lineY:f(L,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return o.map(t,(function(t,o){return[t[0]-n[0]*e[o][0],t[1]-n[1]*e[o][1]]}))}};function L(t,e,n,o){return[e[0]-o[t]*n[0],e[1]-o[t]*n[1]]}function D(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var P=y;t.exports=P},function(t,e,n){n(232).registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))},function(t,e,n){function o(t,e,n){n.getAxisProxy(t.name,e).reset(n)}function r(t,e,n){n.getAxisProxy(t.name,e).filterData(n)}n(220).registerProcessor((function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis(o),t.eachTargetAxis(r)})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),o=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]},!0)}))}))},function(t,e,n){var o=n(220),r=n(219),l=n(328);o.registerAction("dataZoom",(function(t,e){var n=l.createLinkedNodesFinder(r.bind(e.eachComponent,e,"dataZoom"),l.eachAxisDim,(function(t,e){return t.get(e.axisIndex)})),o=[];e.eachComponent({mainType:"dataZoom",query:t},(function(t,e){o.push.apply(o,n(t).nodes)})),r.each(o,(function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))},function(t,e,n){var o=n(219),r=o.each;function l(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(option){var t=option&&option.visualMap;o.isArray(t)||(t=t?[t]:[]),r(t,(function(t){if(t){l(t,"splitList")&&!l(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&o.isArray(e)&&r(e,(function(t){o.isObject(t)&&(l(t,"start")&&!l(t,"min")&&(t.min=t.start),l(t,"end")&&!l(t,"max")&&(t.max=t.end))}))}}))}},function(t,e,n){n(232).registerSubTypeDefaulter("visualMap",(function(option){return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"}))},function(t,e,n){var o=n(220),r=n(219),l=n(291),h=n(257);function c(t,e,n,o){for(var r=e.targetVisuals[o],l=h.prepareVisualTypes(r),c={color:t.getData().getVisual("color")},i=0,d=l.length;i<d;i++){var f=l[i],m=r["opacity"===f?"__alphaForOpacity":f];m&&m.applyVisual(n,v,y)}return c.color;function v(t){return c[t]}function y(t,e){c[t]=e}}o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,(function(t){t.eachComponent("visualMap",(function(t){!function(t,e){t.eachTargetSeries((function(e){var data=e.getData();l.applyVisual(t.stateList,t.targetVisuals,data,t.getValueState,t,t.getDataDimension(data))}))}(t)})),function(t){t.eachSeries((function(e){var data=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(r.bind(c,null,e,t))||{stops:[],outerColors:[]};o.dimension=t.getDataDimension(data),n.push(o)}})),e.getData().setVisual("visualMeta",n)}))}(t)}))},function(t,e,n){var o=n(220),r=n(219),l=n(230),h=n(402),c=n(257),d=n(291),f=n(224),m=n(222),v=c.mapVisual,y=c.eachVisual,x=r.isArray,_=r.each,w=m.asc,S=m.linearMap,M=r.noop,I=["#f6efa6","#d88273","#bf444c"],T=o.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(option,t,e){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(option,e)},optionUpdated:function(t,e){var n=this.option;l.canvasSupported||(n.realtime=!1),!e&&d.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=r.bind(t,this),this.controllerVisuals=d.createVisualMappings(this.option.controller,e,t),this.targetVisuals=d.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=f.normalizeToArray(t),e},eachTargetSeries:function(t,e){r.each(this.getTargetSeriesIndices(),(function(n){t.call(e,this.ecModel.getSeriesByIndex(n))}),this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},formatValueText:function(t,e,n){var o,l,option=this.option,h=option.precision,c=this.dataBound,d=option.formatter;return n=n||["<",">"],r.isArray(t)&&(t=t.slice(),o=!0),l=e?t:o?[f(t[0]),f(t[1])]:f(t),r.isString(d)?d.replace("{value}",o?l[0]:l).replace("{value2}",o?l[1]:l):r.isFunction(d)?o?d(t[0],t[1]):d(t):o?t[0]===c[0]?n[0]+" "+l[1]:t[1]===c[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function f(t){return t===c[0]?"min":t===c[1]?"max":(+t).toFixed(Math.min(h,20))}},resetExtent:function(){var t=this.option,e=w([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.option,base={inRange:t.inRange,outOfRange:t.outOfRange},e=t.target||(t.target={}),n=t.controller||(t.controller={});r.merge(e,base),r.merge(n,base);var o=this.isCategory();function l(base){x(t.color)&&!base.inRange&&(base.inRange={color:t.color.slice().reverse()}),base.inRange=base.inRange||{color:I},_(this.stateList,(function(t){var e=base[t];if(r.isString(e)){var n=h.get(e,"active",o);n?(base[t]={},base[t][e]=n):delete base[t]}}),this)}l.call(this,e),l.call(this,n),function(base,t,e){var n=base[t],r=base[e];n&&!r&&(r=base[e]={},_(n,(function(t,e){if(c.isValidType(e)){var n=h.get(e,"inactive",o);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,e,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,l=this.get("inactiveColor");_(this.stateList,(function(h){var c=this.itemSize,d=t[h];d||(d=t[h]={color:o?l:[l]}),null==d.symbol&&(d.symbol=e&&r.clone(e)||(o?"roundRect":["roundRect"])),null==d.symbolSize&&(d.symbolSize=n&&r.clone(n)||(o?c[0]:[c[0],c[0]])),d.symbol=v(d.symbol,(function(symbol){return"none"===symbol||"square"===symbol?"roundRect":symbol}));var f=d.symbolSize;if(null!=f){var m=-1/0;y(f,(function(t){t>m&&(m=t)})),d.symbolSize=v(f,(function(t){return S(t,[0,m],[0,c[0]],!0)}))}}),this)}.call(this,n)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:M,getValueState:M,getVisualMeta:M});t.exports=T},function(t,e,n){var o=n(219),r={get:function(t,e,n){var r=o.clone((l[t]||{})[e]);return n&&o.isArray(r)?r[r.length-1]:r}},l={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},h=r;t.exports=h},function(t,e,n){var o=n(220),r=n(219),l=n(221),h=n(227),c=n(225),d=n(257),f=o.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,o){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=h.normalizeCssArray(e.get("padding")||0),rect=t.getBoundingRect();t.add(new l.Rect({z2:-1,silent:!0,shape:{x:rect.x-n[3],y:rect.y-n[0],width:rect.width+n[3]+n[1],height:rect.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){var o=(n=n||{}).forceState,l=this.visualMapModel,h={};if("symbol"===e&&(h.symbol=l.get("itemSymbol")),"color"===e){var c=l.get("contentColor");h.color=c}function f(t){return h[t]}function m(t,e){h[t]=e}var v=l.controllerVisuals[o||l.getValueState(t)],y=d.prepareVisualTypes(v);return r.each(y,(function(o){var r=v[o];n.convertOpacityToAlpha&&"opacity"===o&&(o="colorAlpha",r=v.__alphaForOpacity),d.dependsOn(o,e)&&r&&r.applyVisual(t,f,m)})),h[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;c.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:r.noop});t.exports=f},function(t,e,n){var o=n(219),r=n(225).getLayoutRect;e.getItemAlign=function(t,e,n){var o=t.option,l=o.align;if(null!=l&&"auto"!==l)return l;for(var h={width:e.getWidth(),height:e.getHeight()},c="horizontal"===o.orient?1:0,d=[["left","right","width"],["top","bottom","height"]],f=d[c],m=[0,null,10],v={},i=0;i<3;i++)v[d[1-c][i]]=m[i],v[f[i]]=2===i?n[0]:o[f[i]];var y=[["x","width",3],["y","height",0]][c],rect=r(v,h,o.padding);return f[(rect.margin[y[2]]||0)+rect[y[0]]+.5*rect[y[1]]<.5*h[y[1]]?0:1]},e.convertDataIndex=function(t){return o.each(t||[],(function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)})),t}},function(t,e,n){n(220).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},(function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))}))},function(t,e,n){var o=n(219).each,r="\0_ec_hist_store";function l(t){var e=t[r];return e||(e=t[r]=[{}]),e}e.push=function(t,e){var n=l(t);o(e,(function(e,o){for(var i=n.length-1;i>=0;i--){if(n[i][o])break}if(i<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(r){var l=r.getPercentRange();n[0][o]={dataZoomId:o,start:l[0],end:l[1]}}}})),n.push(e)},e.pop=function(t){var e=l(t),head=e[e.length-1];e.length>1&&e.pop();var n={};return o(head,(function(t,o){for(var i=e.length-1;i>=0;i--){if(t=e[i][o]){n[o]=t;break}}})),n},e.clear=function(t){t[r]=null},e.count=function(t){return l(t).length}},function(t,e,n){var o,r=n(230),l="urn:schemas-microsoft-com:vml",h="undefined"==typeof window?null:window,c=!1,d=h&&h.document;if(d&&!r.canvasSupported)try{!d.namespaces.zrvml&&d.namespaces.add("zrvml",l),o=function(t){return d.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){o=function(t){return d.createElement("<"+t+' xmlns="'+l+'" class="zrvml">')}}e.doc=d,e.createNode=function(t){return o(t)},e.initVML=function(){if(!c&&d){c=!0;var t=d.styleSheets;t.length<31?d.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,n){var o=n(333).createElement,r=n(219),l=n(231),h=n(266),c=n(267),d=n(332),f=d.path,m=d.image,v=d.text;function y(t,e,n){this._svgRoot=t,this._tagNames="string"==typeof e?[e]:e,this._markLabel=n,this.nextId=0}y.prototype.createElement=o,y.prototype.getDefs=function(t){var e=this._svgRoot,defs=this._svgRoot.getElementsByTagName("defs");return 0===defs.length?t?((defs=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(defs.contains=function(t){var e=defs.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),defs):null:defs[0]},y.prototype.update=function(element,t){if(element){var defs=this.getDefs(!1);if(element._dom&&defs.contains(element._dom))"function"==typeof t&&t();else{var e=this.add(element);e&&(element._dom=e)}}},y.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},y.prototype.removeDom=function(element){this.getDefs(!1).removeChild(element._dom)},y.prototype.getDoms=function(){var defs=this.getDefs(!1);if(!defs)return[];var t=[];return r.each(this._tagNames,(function(e){var n=defs.getElementsByTagName(e);t=t.concat([].slice.call(n))})),t},y.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;r.each(t,(function(t){t[e._markLabel]="0"}))},y.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},y.prototype.removeUnused=function(){var defs=this.getDefs(!1);if(defs){var t=this.getDoms(),e=this;r.each(t,(function(t){"1"!==t[e._markLabel]&&defs.removeChild(t)}))}},y.prototype.getSvgProxy=function(t){return t instanceof l?f:t instanceof h?m:t instanceof c?v:f},y.prototype.getTextSvgElement=function(t){return t.__textSvgEl},y.prototype.getSvgElement=function(t){return t.__svgEl};var x=y;t.exports=x},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var o=n(219),r=n(226),l=n(449),h=n(252),c="silent";function d(){}d.prototype.dispose=function(){};var f=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],m=function(t,e,n,r){h.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new d,this.proxy=n,n.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,l.call(this),o.each(f,(function(t){n.on&&n.on(t,this[t],this)}),this)};function v(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var o,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(o=!0),r=r.parent}return!o||c}return!1}m.prototype={constructor:m,mousemove:function(t){var e=t.zrX,n=t.zrY,o=this._hovered,r=o.target;r&&!r.__zr&&(r=(o=this.findHover(o.x,o.y)).target);var l=this._hovered=this.findHover(e,n),h=l.target,c=this.proxy;c.setCursor&&c.setCursor(h?h.cursor:"default"),r&&h!==r&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),h&&h!==r&&this.dispatchToElement(l,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,element=t.toElement||t.relatedTarget;do{element=element&&element.parentNode}while(element&&9!=element.nodeType&&!(e=element===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var o=(t=t||{}).target;if(!o||!o.silent){for(var r="on"+e,l=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which}}(e,t,n);o&&(o[r]&&(l.cancelBubble=o[r].call(o,l)),o.trigger(e,l),o=o.parent,!l.cancelBubble););l.cancelBubble||(this.trigger(e,l),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,l),t.trigger&&t.trigger(e,l)})))}},findHover:function(t,e,n){for(var o=this.storage.getDisplayList(),r={x:t,y:e},i=o.length-1;i>=0;i--){var l;if(o[i]!==n&&!o[i].ignore&&(l=v(o[i],t,e))&&(!r.topTarget&&(r.topTarget=o[i]),l!==c)){r.target=o[i];break}}return r}},o.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){m.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),o=n.target;if("mousedown"===t)this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if("mosueup"===t)this._upEl=o;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||r.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}})),o.mixin(m,h),o.mixin(m,l);var y=m;t.exports=y},function(t,e){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function param(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(param(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,o=t.offsetY,r=n-this._x,l=o-this._y;this._x=n,this._y=o,e.drift(r,l,t),this.dispatchToElement(param(e,t),"drag",t.event);var h=this.findHover(n,o,e).target,c=this._dropTarget;this._dropTarget=h,e!==h&&(c&&h!==c&&this.dispatchToElement(param(c,t),"dragleave",t.event),h&&h!==c&&this.dispatchToElement(param(h,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(param(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(param(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var o=n;t.exports=o},function(t,e,n){var o=n(219),r=n(230),l=n(276),h=n(312);function c(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var d=function(){this._roots=[],this._displayList=[],this._displayListLen=0};d.prototype={constructor:d,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,r.canvasSupported&&h(n,c)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var o=t.clipPath;if(o){e=e?e.slice():[];for(var r=o,l=t;r;)r.parent=l,r.updateTransform(),e.push(r),l=r,r=r.clipPath}if(t.isGroup){for(var h=t._children,i=0;i<h.length;i++){var c=h[i];t.__dirty&&(c.__dirty=!0),this._updateAndAddDisplayable(c,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof l&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var i=0;i<this._roots.length;i++){var e=this._roots[i];e instanceof l&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){i=0;for(var n=t.length;i<n;i++)this.delRoot(t[i])}else{var r=o.indexOf(this._roots,t);r>=0&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof l&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t.__storage=this,t.dirty(!1),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:c};var f=d;t.exports=f},function(t,e,n){var o=n(339),r=n(265),l=n(219),h=l.isString,c=l.isFunction,d=l.isObject,f=l.isArrayLike,m=l.indexOf,v=function(){this.animators=[]};v.prototype={constructor:v,animate:function(path,t){var e,n=!1,l=this,h=this.__zr;if(path){var c=path.split("."),d=l;n="shape"===c[0];for(var i=0,f=c.length;i<f;i++)d&&(d=d[c[i]]);d&&(e=d)}else e=l;if(e){var v=l.animators,y=new o(e,t);return y.during((function(t){l.dirty(n)})).done((function(){v.splice(m(v,y),1)})),v.push(y),h&&h.animation.addAnimator(y),y}r('Property "'+path+'" is not existed in element '+l.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,time,e,n,o,r){h(e)?(o=n,n=e,e=0):c(n)?(o=n,n="linear",e=0):c(e)?(o=e,e=0):c(time)?(o=time,time=500):time||(time=500),this.stopAnimation(),this._animateToShallow("",this,t,time,e);var l=this.animators.slice(),d=l.length;function f(){--d||o&&o()}d||o&&o();for(var i=0;i<l.length;i++)l[i].done(f).start(n,r)},_animateToShallow:function(path,source,t,time,e){var n={},o=0;for(var r in t)if(t.hasOwnProperty(r))if(null!=source[r])d(t[r])&&!f(t[r])?this._animateToShallow(path?path+"."+r:r,source[r],t[r],time,e):(n[r]=t[r],o++);else if(null!=t[r])if(path){var l={};l[path]={},l[path][r]=t[r],this.attr(l)}else this.attr(r,t[r]);return o>0&&this.animate(path,!1).when(null==time?500:time,n).delay(e||0),this}};var y=v;t.exports=y},function(t,e,n){var o=n(453);function r(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}r.prototype={constructor:r,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,l="string"==typeof r?o[r]:r,h="function"==typeof l?l(n):n;return this.fire("frame",h),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var l=r;t.exports=l},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4))},elasticOut:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var s,a=.1;return 0===t?0:1===t?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var s=1.70158;return t*t*((s+1)*t-s)},backOut:function(t){var s=1.70158;return--t*t*((s+1)*t+s)+1},backInOut:function(t){var s=2.5949095;return(t*=2)<1?t*t*((s+1)*t-s)*.5:.5*((t-=2)*t*((s+1)*t+s)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},o=n;t.exports=o},function(t,e,n){var o=n(277).devicePixelRatio,r=n(219),l=n(265),h=n(228),c=n(312),d=n(455),f=n(343),m=n(266);function v(t){return parseInt(t,10)}function y(t){t.__unusedCount++}function x(t){1==t.__unusedCount&&t.clear()}var _=new h(0,0,0,0),w=new h(0,0,0,0);var S=function(t,e,n){this.type="canvas";var l=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=r.extend({},n||{}),this.dpr=n.devicePixelRatio||o,this._singleCanvas=l,this.root=t;var h=t.style;h&&(h["-webkit-tap-highlight-color"]="transparent",h["-webkit-user-select"]=h["user-select"]=h["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var c=this._zlevelList=[],f=this._layers={};if(this._layerConfig={},l){null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height);var m=t.width,v=t.height;this._width=m,this._height=v;var y=new d(t,this,1);y.initContext(),f[0]=y,c.push(0),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var x=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(x)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};S.prototype={constructor:S,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(e,t);for(var i=0;i<n.length;i++){var o=n[i],r=this._layers[o];!r.__builtin__&&r.refresh&&r.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,o=r.indexOf(n,e);o>=0&&n.splice(o,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){c(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var o={};n.ctx.save();for(var i=0;i<e;){var r=t[i],l=r.__from;l&&l.__zr?(i++,l.invisible||(r.transform=l.transform,r.invTransform=l.invTransform,r.__clipPaths=l.__clipPaths,this._doPaintEl(r,n,!0,o))):(t.splice(i,1),l.__hoverMir=null,e--)}n.ctx.restore()}},_startProgessive:function(){var t=this;if(t._furtherProgressive){var e=t._progressiveToken=+new Date;t._progress++,f((function n(){e===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,f(n)):t._progressiveToken=-1)}))}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,r.each(this._progressiveLayers,(function(t){t.__dirty&&t.clear()}))},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuiltinLayer(y),this._doPaintList(t,e),this.eachBuiltinLayer(x)},_doPaintList:function(t,e){var n,o,h,c,d,f,m=0,v=this._width,y=this._height,x=this._progress;function _(t){var e=h.dpr||1;h.save(),h.globalAlpha=1,h.shadowBlur=0,n.__dirty=!0,h.setTransform(1,0,0,1,0,0),h.drawImage(t.dom,0,0,v*e,y*e),h.restore()}for(var i=0,w=t.length;i<w;i++){var S=t[i],M=this._singleCanvas?0:S.zlevel,I=S.__frame;if(I<0&&d&&(_(d),d=null),o!==M&&(h&&h.restore(),c={},o=M,(n=this.getLayer(o)).__builtin__||l("ZLevel "+o+" has been used by unkown layer "+n.id),(h=n.ctx).save(),n.__unusedCount=0,(n.__dirty||e)&&n.clear()),n.__dirty||e){if(I>=0){if(!d){if((d=this._progressiveLayers[Math.min(m++,4)]).ctx.save(),d.renderScope={},d&&d.__progress>d.__maxProgress){i=d.__nextIdxNotProg-1;continue}f=d.__progress,d.__dirty||(x=f),d.__progress=x+1}I===x&&this._doPaintEl(S,d,!0,d.renderScope)}else this._doPaintEl(S,n,e,c);S.__dirty=!1}}d&&_(d),h&&h.restore(),this._furtherProgressive=!1,r.each(this._progressiveLayers,(function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0)}),this)},_doPaintEl:function(t,e,n,o){var r=e.ctx,l=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||!function(t,e,n){return _.copy(t.getBoundingRect()),t.transform&&_.applyTransform(t.transform),w.width=e,w.height=n,!_.intersect(w)}(t,this._width,this._height))){var h=t.__clipPaths;(o.prevClipLayer!==e||function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}(h,o.prevElClipPaths))&&(o.prevElClipPaths&&(o.prevClipLayer.ctx.restore(),o.prevClipLayer=o.prevElClipPaths=null,o.prevEl=null),h&&(r.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(h,r),o.prevClipLayer=e,o.prevElClipPaths=h)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,o.prevEl||null),o.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||((e=new d("zr_"+t,this,this.dpr)).__builtin__=!0,this._layerConfig[t]&&r.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var n=this._layers,o=this._zlevelList,r=o.length,h=null,i=-1,c=this._domRoot;if(n[t])l("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>o[0]){for(i=0;i<r-1&&!(o[i]<t&&o[i+1]>t);i++);h=n[o[i]]}if(o.splice(i+1,0,t),n[t]=e,!e.virtual)if(h){var d=h.dom;d.nextSibling?c.insertBefore(e.dom,d.nextSibling):c.appendChild(e.dom)}else c.firstChild?c.insertBefore(e.dom,c.firstChild):c.appendChild(e.dom)}else l("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,o,i,r=this._zlevelList;for(i=0;i<r.length;i++)o=r[i],(n=this._layers[o]).__builtin__&&t.call(e,n,o)},eachOtherLayer:function(t,e){var n,o,i,r=this._zlevelList;for(i=0;i<r.length;i++)o=r[i],(n=this._layers[o]).__builtin__||t.call(e,n,o)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,n=this._progressiveLayers,o={},l={};this.eachBuiltinLayer((function(t,e){o[e]=t.elCount,t.elCount=0,t.__dirty=!1})),r.each(n,(function(t,e){l[e]=t.elCount,t.elCount=0,t.__dirty=!1}));for(var h,c,f=0,m=0,i=0,v=t.length;i<v;i++){var y=t[i],x=e[this._singleCanvas?0:y.zlevel],_=y.progressive;if(x&&(x.elCount++,x.__dirty=x.__dirty||y.__dirty),_>=0){c!==_&&(c=_,m++);var w=y.__frame=m-1;if(!h){var S=Math.min(f,4);(h=n[S])||(h=n[S]=new d("progressive",this,this.dpr)).initContext(),h.__maxProgress=0}h.__dirty=h.__dirty||y.__dirty,h.elCount++,h.__maxProgress=Math.max(h.__maxProgress,w),h.__maxProgress>=h.__progress&&(x.__dirty=!0)}else y.__frame=-1,h&&(h.__nextIdxNotProg=i,f++,h=null)}h&&(f++,h.__nextIdxNotProg=i),this.eachBuiltinLayer((function(t,e){o[e]!==t.elCount&&(t.__dirty=!0)})),n.length=Math.min(f,5),r.each(n,(function(t,e){l[e]!==t.elCount&&(y.__dirty=!0),t.__dirty&&(t.__progress=0)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?r.merge(n[t],e,!0):n[t]=e;var o=this._layers[t];o&&r.merge(o,n[t],!0)}},delLayer:function(t){var e=this._layers,n=this._zlevelList,o=e[t];o&&(o.dom.parentNode.removeChild(o.dom),delete e[t],n.splice(r.indexOf(n,t),1))},resize:function(t,e){var n=this._domRoot;n.style.display="none";var o=this._opts;if(null!=t&&(o.width=t),null!=e&&(o.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!=t||e!=this._height){for(var l in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(t,e);r.each(this._progressiveLayers,(function(n){n.resize(t,e)})),this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new d("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clearColor=t.backgroundColor,e.clear();var n,o=this.storage.getDisplayList(!0),r={},l=this;function h(t,n){var o,r=l._zlevelList;null==t&&(t=-1/0);for(var i=0;i<r.length;i++){var h=r[i],c=l._layers[h];if(!c.__builtin__&&h>t&&h<n){o=c;break}}o&&o.renderToCanvas&&(e.ctx.save(),o.renderToCanvas(e.ctx),e.ctx.restore())}for(var i=0;i<o.length;i++){var c=o[i];c.zlevel!==n&&(h(n,c.zlevel),n=c.zlevel),this._doPaintEl(c,e,!0,r)}return h(n,1/0),e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],o=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],l=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var h=this.root,c=document.defaultView.getComputedStyle(h);return(h[o]||v(c[n])||v(h.style[n]))-(v(c[r])||0)-(v(c[l])||0)|0},pathToImage:function(path,t){t=t||this.dpr;var canvas=document.createElement("canvas"),e=canvas.getContext("2d"),rect=path.getBoundingRect(),style=path.style,n=style.shadowBlur,o=style.shadowOffsetX,r=style.shadowOffsetY,l=style.hasStroke()?style.lineWidth:0,h=Math.max(l/2,-o+n),c=Math.max(l/2,o+n),d=Math.max(l/2,-r+n),f=Math.max(l/2,r+n),v=rect.width+h+c,y=rect.height+d+f;canvas.width=v*t,canvas.height=y*t,e.scale(t,t),e.clearRect(0,0,v,y),e.dpr=t;var x={position:path.position,rotation:path.rotation,scale:path.scale};path.position=[h-rect.x,d-rect.y],path.rotation=0,path.scale=[1,1],path.updateTransform(),path&&path.brush(e);var _=new m({style:{x:0,y:0,image:canvas}});return null!=x.position&&(_.position=path.position=x.position),null!=x.rotation&&(_.rotation=path.rotation=x.rotation),null!=x.scale&&(_.scale=path.scale=x.scale),_}};var M=S;t.exports=M},function(t,e,n){var o=n(219),r=n(277).devicePixelRatio,l=n(341),h=n(342);function c(){return!1}function d(t,e,n){var r=o.createCanvas(),l=e.getWidth(),h=e.getHeight(),c=r.style;return c.position="absolute",c.left=0,c.top=0,c.width=l+"px",c.height=h+"px",r.width=l*n,r.height=h*n,r.setAttribute("data-zr-dom-id",t),r}var f=function(t,e,n){var l;n=n||r,"string"==typeof t?l=d(t,e,n):o.isObject(t)&&(t=(l=t).id),this.id=t,this.dom=l;var h=l.style;h&&(l.onselectstart=c,h["-webkit-user-select"]="none",h["user-select"]="none",h["-webkit-touch-callout"]="none",h["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",h.padding=0,h.margin=0,h["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};f.prototype={constructor:f,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=d("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,o=this.dom,r=o.style,l=this.domBack;r.width=t+"px",r.height=e+"px",o.width=t*n,o.height=e*n,l&&(l.width=t*n,l.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t){var e,n=this.dom,o=this.ctx,r=n.width,c=n.height,d=this.clearColor,f=this.motionBlur&&!t,m=this.lastFrameAlpha,v=this.dpr;(f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/v,c/v)),o.clearRect(0,0,r,c),d)&&(d.colorStops?(e=d.__canvasGradient||l.getGradient(o,d,{x:0,y:0,width:r,height:c}),d.__canvasGradient=e):d.image&&(e=h.prototype.getCanvasPattern.call(d,o)),o.save(),o.fillStyle=e||d,o.fillRect(0,0,r,c),o.restore());if(f){var y=this.domBack;o.save(),o.globalAlpha=m,o.drawImage(y,0,0,r,c),o.restore()}}};var m=f;t.exports=m},function(t,e,n){var o=n(219),r=n(243).Dispatcher,l=n(343),h=n(339),c=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};c.prototype={constructor:c,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=o.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var time=(new Date).getTime()-this._pausedTime,t=time-this._time,e=this._clips,n=e.length,o=[],r=[],i=0;i<n;i++){var l=e[i],h=l.step(time,t);h&&(o.push(h),r.push(l))}for(i=0;i<n;)e[i]._needsRemove?(e[i]=e[n-1],e.pop(),n--):i++;n=o.length;for(i=0;i<n;i++)r[i].fire(o[i]);this._time=time,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,l((function e(){t._running&&(l(e),!t._paused&&t._update())}))},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){var n=new h(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},o.mixin(c,r);var d=c;t.exports=d},function(t,e,n){var o=n(243),r=o.addEventListener,l=o.removeEventListener,h=o.normalizeEvent,c=n(219),d=n(252),f=n(230),m=n(458),v=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],y=["touchstart","touchend","touchmove"],x={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},_=c.map(v,(function(t){var e=t.replace("mouse","pointer");return x[e]?e:t}));function w(t){return"mousewheel"===t&&f.browser.firefox?"DOMMouseScroll":t}function S(t,e,n){var o=t._gestureMgr;"start"===n&&o.clear();var r=o.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===n&&o.clear(),r){var l=r.type;e.gestureEvent=l,t.handler.dispatchToElement({target:r.target},l,r.event)}}function M(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout((function(){t._touching=!1}),700)}var I={mousemove:function(t){t=h(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var element=(t=h(this.dom,t)).toElement||t.relatedTarget;if(element!=this.dom)for(;element&&9!=element.nodeType;){if(element===this.dom)return;element=element.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=h(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,S(this,t,"start"),I.mousemove.call(this,t),I.mousedown.call(this,t),M(this)},touchmove:function(t){(t=h(this.dom,t)).zrByTouch=!0,S(this,t,"change"),I.mousemove.call(this,t),M(this)},touchend:function(t){(t=h(this.dom,t)).zrByTouch=!0,S(this,t,"end"),I.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&I.click.call(this,t),M(this)},pointerdown:function(t){I.mousedown.call(this,t)},pointermove:function(t){T(t)||I.mousemove.call(this,t)},pointerup:function(t){I.mouseup.call(this,t)},pointerout:function(t){T(t)||I.mouseout.call(this,t)}};function T(t){var e=t.pointerType;return"pen"===e||"touch"===e}function A(t){var e;function n(e,n){c.each(e,(function(e){r(t,w(e),n._handlers[e])}),n)}d.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new m,this._handlers={},e=this,c.each(y,(function(t){e._handlers[t]=c.bind(I[t],e)})),c.each(_,(function(t){e._handlers[t]=c.bind(I[t],e)})),c.each(v,(function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(I[t],e)})),f.pointerEventsSupported?n(_,this):(f.touchEventsSupported&&n(y,this),n(v,this))}c.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){I[t]=function(e){e=h(this.dom,e),this.trigger(t,e)}}));var C=A.prototype;C.dispose=function(){for(var t=v.concat(y),i=0;i<t.length;i++){var e=t[i];l(this.dom,w(e),this._handlers[e])}},C.setCursor=function(t){this.dom.style.cursor=t||"default"},c.mixin(A,d);var L=A;t.exports=L},function(t,e,n){var o=n(243),r=function(){this._track=[]};function l(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}r.prototype={constructor:r,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var l={points:[],touches:[],target:e,event:t},i=0,h=r.length;i<h;i++){var c=r[i],d=o.clientToLocal(n,c,{});l.points.push([d.zrX,d.zrY]),l.touches.push(c)}this._track.push(l)}},_recognize:function(t){for(var e in h)if(h.hasOwnProperty(e)){var n=h[e](this._track,t);if(n)return n}}};var h={pinch:function(track,t){var e=track.length;if(e){var n,o=(track[e-1]||{}).points,r=(track[e-2]||{}).points||o;if(r&&r.length>1&&o&&o.length>1){var h=l(o)/l(r);!isFinite(h)&&(h=1),t.pinchScale=h;var c=[((n=o)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return t.pinchX=c[0],t.pinchY=c[1],{type:"pinch",target:track[0].target,event:t}}}}},c=r;t.exports=c},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(224),l=n(229),h=n(232),c=n(483),d=n(353),f=o.each,filter=o.filter,map=o.map,m=o.isArray,v=o.indexOf,y=o.isObject,x="\0_ec_inner",_=l.extend({constructor:_,init:function(option,t,e,n){e=e||{},this.option=null,this._theme=new l(e),this._optionManager=n},setOption:function(option,t){o.assert(!(x in option),"please use chart.getOption()"),this._optionManager.setOption(option,t),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var o=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(o)):w.call(this,o),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var l=n.getMediaOption(this,this._api);l.length&&f(l,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){var option=this.option,e=this._componentsMap,n=[];f(t,(function(t,e){null!=t&&(h.hasClass(e)?n.push(e):option[e]=null==option[e]?o.clone(t):o.merge(option[e],t,!0))})),h.topologicalTravel(n,h.getAllClassMainTypes(),(function(n,l){var c=r.normalizeToArray(t[n]),d=r.mappingToExists(e.get(n),c);r.makeIdAndName(d),f(d,(function(t,e){var o=t.option;y(o)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,e,n){return e.type?e.type:n?n.subType:h.determineSubType(t,e)}(n,o,t.exist))}));var m=function(t,e){o.isArray(e)||(e=e?[e]:[]);var n={};return f(e,(function(e){n[e]=(t.get(e)||[]).slice()})),n}(e,l);option[n]=[],e.set(n,[]),f(d,(function(t,r){var l=t.exist,c=t.option;if(o.assert(y(c)||l,"Empty component definition"),c){var d=h.getClass(n,t.keyInfo.subType,!0);if(l&&l instanceof d)l.name=t.keyInfo.name,l.mergeOption(c,this),l.optionUpdated(c,!1);else{var f=o.extend({dependentModels:m,componentIndex:r},t.keyInfo);l=new d(c,this,this,f),o.extend(l,f),l.init(c,this,this,f),l.optionUpdated(null,!0)}}else l.mergeOption({},this),l.optionUpdated({},!1);e.get(n)[r]=l,option[n][r]=l.option}),this),"series"===n&&(this._seriesIndices=S(e.get("series")))}),this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var option=o.clone(this.option);return f(option,(function(t,e){if(h.hasClass(e)){for(var i=(t=r.normalizeToArray(t)).length-1;i>=0;i--)r.isIdInner(t[i])&&t.splice(i,1);option[e]=t}})),delete option[x],option},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,o=t.index,r=t.id,l=t.name,h=this._componentsMap.get(e);if(!h||!h.length)return[];if(null!=o)m(o)||(o=[o]),n=filter(map(o,(function(t){return h[t]})),(function(t){return!!t}));else if(null!=r){var c=m(r);n=filter(h,(function(t){return c&&v(r,t.id)>=0||!c&&t.id===r}))}else if(null!=l){var d=m(l);n=filter(h,(function(t){return d&&v(l,t.name)>=0||!d&&t.name===l}))}else n=h.slice();return M(n,t)},findComponents:function(t){var q,e,n,o,r,l=t.query,h=t.mainType,c=(e=h+"Index",n=h+"Id",o=h+"Name",!(q=l)||null==q[e]&&null==q[n]&&null==q[o]?null:{mainType:h,index:q[e],id:q[n],name:q[o]}),d=c?this.queryComponents(c):this._componentsMap.get(h);return r=M(d,t),t.filter?filter(r,t.filter):r},eachComponent:function(t,e,n){var r=this._componentsMap;if("function"==typeof t)n=e,e=t,r.each((function(t,o){f(t,(function(component,t){e.call(n,o,component,t)}))}));else if(o.isString(t))f(r.get(t),e,n);else if(y(t)){var l=this.findComponents(t);f(l,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return filter(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return filter(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(t,e){f(this._seriesIndices,(function(n){var o=this._componentsMap.get("series")[n];t.call(e,o,n)}),this)},eachRawSeries:function(t,e){f(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){f(this._seriesIndices,(function(o){var r=this._componentsMap.get("series")[o];r.subType===t&&e.call(n,r,o)}),this)},eachRawSeriesByType:function(t,e,n){return f(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return o.indexOf(this._seriesIndices,t.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){var n=filter(this._componentsMap.get("series"),t,e);this._seriesIndices=S(n)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=S(t.get("series"));var e=[];t.each((function(t,n){e.push(n)})),h.topologicalTravel(e,h.getAllClassMainTypes(),(function(e,n){f(t.get(e),(function(component){component.restoreData()}))}))}});function w(t){var option,e;t=t,this.option={},this.option[x]=1,this._componentsMap=o.createHashMap({series:[]}),this._seriesIndices=null,option=t,e=this._theme.option,o.each(e,(function(t,e){h.hasClass(e)||("object"==typeof t?option[e]=option[e]?o.merge(option[e],t,!1):o.clone(t):null==option[e]&&(option[e]=t))})),o.merge(t,c,!1),this.mergeOption(t)}function S(t){return map(t,(function(t){return t.componentIndex}))||[]}function M(t,e){return e.hasOwnProperty("subType")?filter(t,(function(t){return t.subType===e.subType})):t}o.mixin(_,d);var I=_;t.exports=I},function(t,e,n){var o=n(259)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(t){var style=o(this,t),e=this.getLineDash(style.lineWidth);return e&&(style.lineDash=e),style},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),o=4*t;return"solid"===e||null==e?null:"dashed"===e?[o,o]:[n,n]}};t.exports=r},function(t,e,n){var o=n(259)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(t,e){return o(this,t,e)}};t.exports=r},function(t,e,n){var o=n(240),r=n(221),l=["textStyle","color"],h={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(l):null)},getFont:function(){return r.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(text){return o.getBoundingRect(text,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=h},function(t,e,n){var o=n(231),r=n(260),l=n(467),h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,d=Math.sin,f=Math.cos,m=Math.PI,v=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},y=function(u,t){return(u[0]*t[0]+u[1]*t[1])/(v(u)*v(t))},x=function(u,t){return(u[0]*t[1]<u[1]*t[0]?-1:1)*Math.acos(y(u,t))};function _(t,e,n,o,r,l,h,v,_,w,path){var S=_*(m/180),M=f(S)*(t-n)/2+d(S)*(e-o)/2,I=-1*d(S)*(t-n)/2+f(S)*(e-o)/2,T=M*M/(h*h)+I*I/(v*v);T>1&&(h*=c(T),v*=c(T));var A=(r===l?-1:1)*c((h*h*(v*v)-h*h*(I*I)-v*v*(M*M))/(h*h*(I*I)+v*v*(M*M)))||0,C=A*h*I/v,L=A*-v*M/h,D=(t+n)/2+f(S)*C-d(S)*L,P=(e+o)/2+d(S)*C+f(S)*L,k=x([1,0],[(M-C)/h,(I-L)/v]),u=[(M-C)/h,(I-L)/v],O=[(-1*M-C)/h,(-1*I-L)/v],E=x(u,O);y(u,O)<=-1&&(E=m),y(u,O)>=1&&(E=0),0===l&&E>0&&(E-=2*m),1===l&&E<0&&(E+=2*m),path.addData(w,D,P,h,v,k,E,S,l)}function w(t,e){var n=function(data){if(!data)return[];var t,e=data.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(t=0;t<h.length;t++)e=e.replace(new RegExp(h[t],"g"),"|"+h[t]);var n,o=e.split("|"),l=0,c=0,path=new r,d=r.CMD;for(t=1;t<o.length;t++){var f,m=o[t],v=m.charAt(0),y=0,p=m.slice(1).replace(/e,-/g,"e-").split(",");p.length>0&&""===p[0]&&p.shift();for(var i=0;i<p.length;i++)p[i]=parseFloat(p[i]);for(;y<p.length&&!isNaN(p[y])&&!isNaN(p[0]);){var x,w,S,M,I,T,A,C=l,L=c;switch(v){case"l":l+=p[y++],c+=p[y++],f=d.L,path.addData(f,l,c);break;case"L":l=p[y++],c=p[y++],f=d.L,path.addData(f,l,c);break;case"m":l+=p[y++],c+=p[y++],f=d.M,path.addData(f,l,c),v="l";break;case"M":l=p[y++],c=p[y++],f=d.M,path.addData(f,l,c),v="L";break;case"h":l+=p[y++],f=d.L,path.addData(f,l,c);break;case"H":l=p[y++],f=d.L,path.addData(f,l,c);break;case"v":c+=p[y++],f=d.L,path.addData(f,l,c);break;case"V":c=p[y++],f=d.L,path.addData(f,l,c);break;case"C":f=d.C,path.addData(f,p[y++],p[y++],p[y++],p[y++],p[y++],p[y++]),l=p[y-2],c=p[y-1];break;case"c":f=d.C,path.addData(f,p[y++]+l,p[y++]+c,p[y++]+l,p[y++]+c,p[y++]+l,p[y++]+c),l+=p[y-2],c+=p[y-1];break;case"S":x=l,w=c;var D=path.len(),P=path.data;n===d.C&&(x+=l-P[D-4],w+=c-P[D-3]),f=d.C,C=p[y++],L=p[y++],l=p[y++],c=p[y++],path.addData(f,x,w,C,L,l,c);break;case"s":x=l,w=c;D=path.len(),P=path.data;n===d.C&&(x+=l-P[D-4],w+=c-P[D-3]),f=d.C,C=l+p[y++],L=c+p[y++],l+=p[y++],c+=p[y++],path.addData(f,x,w,C,L,l,c);break;case"Q":C=p[y++],L=p[y++],l=p[y++],c=p[y++],f=d.Q,path.addData(f,C,L,l,c);break;case"q":C=p[y++]+l,L=p[y++]+c,l+=p[y++],c+=p[y++],f=d.Q,path.addData(f,C,L,l,c);break;case"T":x=l,w=c;D=path.len(),P=path.data;n===d.Q&&(x+=l-P[D-4],w+=c-P[D-3]),l=p[y++],c=p[y++],f=d.Q,path.addData(f,x,w,l,c);break;case"t":x=l,w=c;D=path.len(),P=path.data;n===d.Q&&(x+=l-P[D-4],w+=c-P[D-3]),l+=p[y++],c+=p[y++],f=d.Q,path.addData(f,x,w,l,c);break;case"A":S=p[y++],M=p[y++],I=p[y++],T=p[y++],A=p[y++],_(C=l,L=c,l=p[y++],c=p[y++],T,A,S,M,I,f=d.A,path);break;case"a":S=p[y++],M=p[y++],I=p[y++],T=p[y++],A=p[y++],_(C=l,L=c,l+=p[y++],c+=p[y++],T,A,S,M,I,f=d.A,path)}}"z"!==v&&"Z"!==v||(f=d.Z,path.addData(f)),n=f}return path.toStatic(),path}(t);return(e=e||{}).buildPath=function(path){if(path.setData){path.setData(n.data),(t=path.getContext())&&path.rebuildPath(t)}else{var t=path;n.rebuildPath(t)}},e.applyTransform=function(t){l(n,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new o(w(t,e))},e.extendFromString=function(t,e){return o.extend(w(t,e))},e.mergePath=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var l=t[i];l.path||l.createPathProxy(),l.__dirtyPath&&l.buildPath(l.path,l.shape,!0),n.push(l.path)}var h=new o(e);return h.createPathProxy(),h.buildPath=function(path){path.appendPath(n);var t=path.getContext();t&&path.rebuildPath(t)},h}},function(t,e,n){var o=n(260),line=n(346),r=n(465),l=n(347),h=n(466),c=n(348).normalizeRadian,d=n(245),f=n(349),m=o.CMD,v=2*Math.PI,y=1e-4;var x=[-1,-1,-1],_=[-1,-1];function w(t,e,n,o,r,l,h,c,f,m){if(m>e&&m>o&&m>l&&m>c||m<e&&m<o&&m<l&&m<c)return 0;var v,y=d.cubicRootAt(e,o,l,c,m,x);if(0===y)return 0;for(var w,S,M=0,I=-1,i=0;i<y;i++){var T=x[i],A=0===T||1===T?.5:1;d.cubicAt(t,n,r,h,T)<f||(I<0&&(I=d.cubicExtrema(e,o,l,c,_),_[1]<_[0]&&I>1&&(v=void 0,v=_[0],_[0]=_[1],_[1]=v),w=d.cubicAt(e,o,l,c,_[0]),I>1&&(S=d.cubicAt(e,o,l,c,_[1]))),2==I?T<_[0]?M+=w<e?A:-A:T<_[1]?M+=S<w?A:-A:M+=c<S?A:-A:T<_[0]?M+=w<e?A:-A:M+=c<w?A:-A)}return M}function S(t,e,n,o,r,l,h,c){if(c>e&&c>o&&c>l||c<e&&c<o&&c<l)return 0;var f=d.quadraticRootAt(e,o,l,c,x);if(0===f)return 0;var m=d.quadraticExtremum(e,o,l);if(m>=0&&m<=1){for(var v=0,y=d.quadraticAt(e,o,l,m),i=0;i<f;i++){var _=0===x[i]||1===x[i]?.5:1;d.quadraticAt(t,n,r,x[i])<h||(x[i]<m?v+=y<e?_:-_:v+=l<y?_:-_)}return v}_=0===x[0]||1===x[0]?.5:1;return d.quadraticAt(t,n,r,x[0])<h?0:l<e?_:-_}function M(t,e,n,o,r,l,h,d){if((d-=e)>n||d<-n)return 0;var f=Math.sqrt(n*n-d*d);x[0]=-f,x[1]=f;var m=Math.abs(o-r);if(m<1e-4)return 0;if(m%v<1e-4){o=0,r=v;var y=l?1:-1;return h>=x[0]+t&&h<=x[1]+t?y:0}if(l){f=o;o=c(r),r=c(f)}else o=c(o),r=c(r);o>r&&(r+=v);for(var _=0,i=0;i<2;i++){var w=x[i];if(w+t>h){var S=Math.atan2(d,w);y=l?1:-1;S<0&&(S=v+S),(S>=o&&S<=r||S+v>=o&&S+v<=r)&&(S>Math.PI/2&&S<1.5*Math.PI&&(y=-y),_+=y)}}return _}function I(data,t,e,n,o){for(var a,b,c=0,d=0,v=0,x=0,_=0,i=0;i<data.length;){var I=data[i++];switch(I===m.M&&i>1&&(e||(c+=f(d,v,x,_,n,o))),1==i&&(x=d=data[i],_=v=data[i+1]),I){case m.M:d=x=data[i++],v=_=data[i++];break;case m.L:if(e){if(line.containStroke(d,v,data[i],data[i+1],t,n,o))return!0}else c+=f(d,v,data[i],data[i+1],n,o)||0;d=data[i++],v=data[i++];break;case m.C:if(e){if(r.containStroke(d,v,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],t,n,o))return!0}else c+=w(d,v,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],n,o)||0;d=data[i++],v=data[i++];break;case m.Q:if(e){if(l.containStroke(d,v,data[i++],data[i++],data[i],data[i+1],t,n,o))return!0}else c+=S(d,v,data[i++],data[i++],data[i],data[i+1],n,o)||0;d=data[i++],v=data[i++];break;case m.A:var T=data[i++],A=data[i++],C=data[i++],L=data[i++],D=data[i++],P=data[i++],k=(data[i++],1-data[i++]),O=Math.cos(D)*C+T,E=Math.sin(D)*L+A;i>1?c+=f(d,v,O,E,n,o):(x=O,_=E);var z=(n-T)*L/C+T;if(e){if(h.containStroke(T,A,L,D,D+P,k,t,z,o))return!0}else c+=M(T,A,L,D,D+P,k,z,o);d=Math.cos(D+P)*C+T,v=Math.sin(D+P)*L+A;break;case m.R:x=d=data[i++],_=v=data[i++];O=x+data[i++],E=_+data[i++];if(e){if(line.containStroke(x,_,O,_,t,n,o)||line.containStroke(O,_,O,E,t,n,o)||line.containStroke(O,E,x,E,t,n,o)||line.containStroke(x,E,x,_,t,n,o))return!0}else c+=f(O,_,O,E,n,o),c+=f(x,E,x,_,n,o);break;case m.Z:if(e){if(line.containStroke(d,v,x,_,t,n,o))return!0}else c+=f(d,v,x,_,n,o);d=x,v=_}}return e||(a=v,b=_,Math.abs(a-b)<y)||(c+=f(d,v,x,_,n,o)||0),0!==c}e.contain=function(t,e,n){return I(t,0,!1,e,n)},e.containStroke=function(t,e,n,o){return I(t,e,!0,n,o)}},function(t,e,n){var o=n(245);e.containStroke=function(t,e,n,r,l,h,c,d,f,m,v){if(0===f)return!1;var y=f;return!(v>e+y&&v>r+y&&v>h+y&&v>d+y||v<e-y&&v<r-y&&v<h-y&&v<d-y||m>t+y&&m>n+y&&m>l+y&&m>c+y||m<t-y&&m<n-y&&m<l-y&&m<c-y)&&o.cubicProjectPoint(t,e,n,r,l,h,c,d,m,v,null)<=y/2}},function(t,e,n){var o=n(348).normalizeRadian,r=2*Math.PI;e.containStroke=function(t,e,n,l,h,c,d,f,m){if(0===d)return!1;var v=d;f-=t,m-=e;var y=Math.sqrt(f*f+m*m);if(y-v>n||y+v<n)return!1;if(Math.abs(l-h)%r<1e-4)return!0;if(c){var x=l;l=o(h),h=o(x)}else l=o(l),h=o(h);l>h&&(h+=r);var _=Math.atan2(m,f);return _<0&&(_+=r),_>=l&&_<=h||_+r>=l&&_+r<=h}},function(t,e,n){var o=n(260),r=n(226).applyTransform,l=o.CMD,h=[[],[],[]],c=Math.sqrt,d=Math.atan2;t.exports=function(path,t){var e,n,i,o,f,data=path.data,m=l.M,v=l.C,y=l.L,x=l.R,_=l.A,w=l.Q;for(i=0,o=0;i<data.length;){switch(e=data[i++],o=i,n=0,e){case m:case y:n=1;break;case v:n=3;break;case w:n=2;break;case _:var S=t[4],M=t[5],I=c(t[0]*t[0]+t[1]*t[1]),T=c(t[2]*t[2]+t[3]*t[3]),A=d(-t[1]/T,t[0]/I);data[i]*=I,data[i++]+=S,data[i]*=T,data[i++]+=M,data[i++]*=I,data[i++]*=T,data[i++]+=A,data[i++]+=A,o=i+=2;break;case x:p[0]=data[i++],p[1]=data[i++],r(p,p,t),data[o++]=p[0],data[o++]=p[1],p[0]+=data[i++],p[1]+=data[i++],r(p,p,t),data[o++]=p[0],data[o++]=p[1]}for(f=0;f<n;f++){var p;(p=h[f])[0]=data[i++],p[1]=data[i++],r(p,p,t),data[o++]=p[0],data[o++]=p[1]}}}},function(t,e,n){var o=n(231).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=o},function(t,e,n){var o=n(231),r=n(350),l=o.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r(o.prototype.brush),buildPath:function(t,e){var n=e.cx,o=e.cy,r=Math.max(e.r0||0,0),l=Math.max(e.r,0),h=e.startAngle,c=e.endAngle,d=e.clockwise,f=Math.cos(h),m=Math.sin(h);t.moveTo(f*r+n,m*r+o),t.lineTo(f*l+n,m*l+o),t.arc(n,o,l,h,c,!d),t.lineTo(Math.cos(c)*r+n,Math.sin(c)*r+o),0!==r&&t.arc(n,o,r,c,h,d),t.closePath()}});t.exports=l},function(t,e,n){var o=n(231).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,o=e.cy,r=2*Math.PI;t.moveTo(n+e.r,o),t.arc(n,o,e.r,0,r,!1),t.moveTo(n+e.r0,o),t.arc(n,o,e.r0,0,r,!0)}});t.exports=o},function(t,e,n){var o=n(231),r=n(351),l=o.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){r.buildPath(t,e,!0)}});t.exports=l},function(t,e,n){var o=n(226).distance;function r(t,e,n,o,r,l,h){var c=.5*(n-t),d=.5*(o-e);return(2*(e-n)+c+d)*h+(-3*(e-n)-2*c-d)*l+c*r+e}t.exports=function(t,e){for(var n=t.length,l=[],h=0,i=1;i<n;i++)h+=o(t[i-1],t[i]);var c=h/2;for(c=c<n?n:c,i=0;i<c;i++){var d,f,m,v=i/(c-1)*(e?n:n-1),y=Math.floor(v),x=v-y,_=t[y%n];e?(d=t[(y-1+n)%n],f=t[(y+1)%n],m=t[(y+2)%n]):(d=t[0===y?y:y-1],f=t[y>n-2?n-1:y+1],m=t[y>n-3?n-1:y+2]);var w=x*x,S=x*w;l.push([r(d[0],_[0],f[0],m[0],x,w,S),r(d[1],_[1],f[1],m[1],x,w,S)])}return l}},function(t,e,n){var o=n(226),r=o.min,l=o.max,h=o.scale,c=o.distance,d=o.add,f=o.clone,m=o.sub;t.exports=function(t,e,n,o){var v,y,x,_,w=[],S=[],M=[],I=[];if(o){x=[1/0,1/0],_=[-1/0,-1/0];for(var i=0,T=t.length;i<T;i++)r(x,x,t[i]),l(_,_,t[i]);r(x,x,o[0]),l(_,_,o[1])}for(i=0,T=t.length;i<T;i++){var A=t[i];if(n)v=t[i?i-1:T-1],y=t[(i+1)%T];else{if(0===i||i===T-1){w.push(f(t[i]));continue}v=t[i-1],y=t[i+1]}m(S,y,v),h(S,S,e);var C=c(A,v),L=c(A,y),D=C+L;0!==D&&(C/=D,L/=D),h(M,S,-C),h(I,S,L);var P=d([],A,M),k=d([],A,I);o&&(l(P,P,x),r(P,P,_),l(k,k,x),r(k,k,_)),w.push(P),w.push(k)}return n&&w.push(w.shift()),w}},function(t,e,n){var o=n(231),r=n(351),l=o.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){r.buildPath(t,e,!1)}});t.exports=l},function(t,e,n){var o=n(231),r=n(345),l=o.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,o=e.y,l=e.width,h=e.height;e.r?r.buildPath(t,e):t.rect(n,o,l,h),t.closePath()}});t.exports=l},function(t,e,n){var o=n(231).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,o=e.y1,r=e.x2,l=e.y2,h=e.percent;0!==h&&(t.moveTo(n,o),h<1&&(r=n*(1-h)+r*h,l=o*(1-h)+l*h),t.lineTo(r,l))},pointAt:function(p){var t=this.shape;return[t.x1*(1-p)+t.x2*p,t.y1*(1-p)+t.y2*p]}});t.exports=o},function(t,e,n){var o=n(231),r=n(226),l=n(245),h=l.quadraticSubdivide,c=l.cubicSubdivide,d=l.quadraticAt,f=l.cubicAt,m=l.quadraticDerivativeAt,v=l.cubicDerivativeAt,y=[];function x(t,e,n){var o=t.cpx2,r=t.cpy2;return null===o||null===r?[(n?v:f)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?v:f)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?m:d)(t.x1,t.cpx1,t.x2,e),(n?m:d)(t.y1,t.cpy1,t.y2,e)]}var _=o.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,o=e.y1,r=e.x2,l=e.y2,d=e.cpx1,f=e.cpy1,m=e.cpx2,v=e.cpy2,x=e.percent;0!==x&&(t.moveTo(n,o),null==m||null==v?(x<1&&(h(n,d,r,x,y),d=y[1],r=y[2],h(o,f,l,x,y),f=y[1],l=y[2]),t.quadraticCurveTo(d,f,r,l)):(x<1&&(c(n,d,m,r,x,y),d=y[1],m=y[2],r=y[3],c(o,f,v,l,x,y),f=y[1],v=y[2],l=y[3]),t.bezierCurveTo(d,f,m,v,r,l)))},pointAt:function(t){return x(this.shape,t,!1)},tangentAt:function(t){var p=x(this.shape,t,!0);return r.normalize(p,p)}});t.exports=_},function(t,e,n){var o=n(231).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,o=e.cy,r=Math.max(e.r,0),l=e.startAngle,h=e.endAngle,c=e.clockwise,d=Math.cos(l),f=Math.sin(l);t.moveTo(d*r+n,f*r+o),t.arc(n,o,r,l,h,!c)}});t.exports=o},function(t,e,n){var o=n(231),r=o.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),o.prototype.getBoundingRect.call(this)}});t.exports=r},function(t,e,n){var o=n(219),r=n(280),l=function(t,e,n,o,l){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=l||!1,r.call(this,o)};l.prototype={constructor:l},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(259)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(t,e){var style=o(this,t,e),n=this.getBorderLineDash();return n&&(style.lineDash=n),style},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=r},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e){var n="";"undefined"!=typeof navigator&&(n=navigator.platform||"");var o={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=o},function(t,e,n){var o=n(219),r=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];var l=function(t){o.each(r,(function(e){this[e]=o.bind(t[e],t)}),this)};t.exports=l},function(t,e,n){var o=n(219),r=n(224),l=n(232),h=o.each,c=o.clone,map=o.map,d=o.merge,f=/^(min|max)?(.+)$/;function m(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function v(t,e,n){var r,l,c=[],d=[],f=t.timeline;if(t.baseOption&&(l=t.baseOption),(f||t.options)&&(l=l||{},c=(t.options||[]).slice()),t.media){l=l||{};var m=t.media;h(m,(function(t){t&&t.option&&(t.query?d.push(t):r||(r=t))}))}return l||(l=t),l.timeline||(l.timeline=f),h([l].concat(c).concat(o.map(d,(function(t){return t.option}))),(function(option){h(e,(function(t){t(option,n)}))})),{baseOption:l,timelineOptions:c,mediaDefault:r,mediaList:d}}function y(t,e,n){var r={width:e,height:n,aspectratio:e/n},l=!0;return o.each(t,(function(t,e){var n=e.match(f);if(n&&n[1]&&n[2]){var o=n[1],h=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(r[h],t,o)||(l=!1)}})),l}m.prototype={constructor:m,setOption:function(t,e){t=c(t,!0);var n,o,f=this._optionBackup,m=v.call(this,t,e,!f);this._newBaseOption=m.baseOption,f?(n=f.baseOption,o=m.baseOption,h(o=o||{},(function(t,e){if(null!=t){var o=n[e];if(l.hasClass(e)){t=r.normalizeToArray(t),o=r.normalizeToArray(o);var h=r.mappingToExists(o,t);n[e]=map(h,(function(t){return t.option&&t.exist?d(t.exist,t.option,!0):t.exist||t.option}))}else n[e]=d(o,t,!0)}})),m.timelineOptions.length&&(f.timelineOptions=m.timelineOptions),m.mediaList.length&&(f.mediaList=m.mediaList),m.mediaDefault&&(f.mediaDefault=m.mediaDefault)):this._optionBackup=m},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=map(e.timelineOptions,c),this._mediaList=map(e.mediaList,c),this._mediaDefault=c(e.mediaDefault),this._currentMediaIndices=[],c(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var option,e=this._timelineOptions;if(e.length){var n=t.getComponent("timeline");n&&(option=c(e[n.getCurrentIndex()],!0))}return option},getMediaOption:function(t){var e,n,o=this._api.getWidth(),r=this._api.getHeight(),l=this._mediaList,h=this._mediaDefault,d=[],f=[];if(!l.length&&!h)return f;for(var i=0,m=l.length;i<m;i++)y(l[i].query,o,r)&&d.push(i);return!d.length&&h&&(d=[-1]),d.length&&(e=d,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(f=map(d,(function(t){return c(-1===t?h.option:l[t].option)}))),this._currentMediaIndices=d,f}};var x=m;t.exports=x},function(t,e,n){var o=n(219),r=o.each,l=o.isArray,h=o.isObject,c=n(487),d=n(224).normalizeToArray;function f(option){r(m,(function(t){t[0]in option&&!(t[1]in option)&&(option[t[1]]=option[t[0]])}))}var m=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],v=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],y=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];t.exports=function(option,t){c(option,t),option.series=d(option.series),r(option.series,(function(t){if(h(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=function(t,path){path=path.split(",");for(var e=t,i=0;i<path.length&&null!=(e=e&&e[path[i]]);i++);return e}(t,"pointer.color");null!=n&&function(t,path,e,n){path=path.split(",");for(var o,r=t,i=0;i<path.length-1;i++)null==r[o=path[i]]&&(r[o]={}),r=r[o];(n||null==r[path[i]])&&(r[path[i]]=e)}(t,"itemStyle.normal.color",n)}for(var i=0;i<y.length;i++)if(y[i]===t.type){f(t);break}}})),option.dataRange&&(option.visualMap=option.dataRange),r(v,(function(t){var e=option[t];e&&(l(e)||(e=[e]),r(e,(function(option){f(option)})))}))}},function(t,e,n){var o=n(219),r=n(224),l=o.each,h=o.isObject,c=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function d(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=c.length;i<n;i++){var r=c[i],l=e.normal,h=e.emphasis;l&&l[r]&&(t[r]=t[r]||{},t[r].normal?o.merge(t[r].normal,l[r]):t[r].normal=l[r],l[r]=null),h&&h[r]&&(t[r]=t[r]||{},t[r].emphasis?o.merge(t[r].emphasis,h[r]):t[r].emphasis=h[r],h[r]=null)}}function f(t,e){var n=h(t)&&t[e],o=h(n)&&n.textStyle;if(o)for(var i=0,l=r.TEXT_STYLE_OPTIONS.length;i<l;i++){e=r.TEXT_STYLE_OPTIONS[i];o.hasOwnProperty(e)&&(n[e]=o[e])}}function m(t){h(t)&&(f(t,"normal"),f(t,"emphasis"))}function v(t){return o.isArray(t)?t:t?[t]:[]}function y(t){return(o.isArray(t)?t[0]:t)||{}}t.exports=function(option,t){l(v(option.series),(function(t){h(t)&&function(t){if(h(t)){d(t),m(t.label),m(t.upperLabel),m(t.edgeLabel),d(r=t.markPoint),m(r&&r.label);var e=t.markLine;d(t.markLine),m(e&&e.label);var n=t.markArea;m(n&&n.label),f(t,"axisLabel"),f(t,"title"),f(t,"detail");var r,data=t.data;if(data)for(var i=0;i<data.length;i++)d(data[i]),m(data[i]&&data[i].label);if((r=t.markPoint)&&r.data){var l=r.data;for(i=0;i<l.length;i++)d(l[i]),m(l[i]&&l[i].label)}if((e=t.markLine)&&e.data){var c=e.data;for(i=0;i<c.length;i++)o.isArray(c[i])?(d(c[i][0]),m(c[i][0]&&c[i][0].label),d(c[i][1]),m(c[i][1]&&c[i][1].label)):(d(c[i]),m(c[i]&&c[i].label))}}}(t)}));var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),l(e,(function(t){l(v(option[t]),(function(t){t&&(f(t,"axisLabel"),f(t.axisPointer,"label"))}))})),l(v(option.parallel),(function(t){var e=t&&t.parallelAxisDefault;f(e,"axisLabel"),f(e&&e.axisPointer,"label")})),l(v(option.calendar),(function(t){f(t,"dayLabel"),f(t,"monthLabel"),f(t,"yearLabel")})),l(v(option.radar),(function(t){f(t,"name")})),l(v(option.geo),(function(t){h(t)&&(m(t.label),l(v(t.regions),(function(t){m(t.label)})))})),m(y(option.timeline).label),f(y(option.axisPointer),"label"),f(y(option.tooltip).axisPointer,"label")}},function(t,e,n){var o=n(280);t.exports=function(t){t.eachRawSeries((function(e){var n=(e.visualColorAccessPath||"itemStyle.normal.color").split("."),data=e.getData(),r=e.get(n)||e.getColorFromPalette(e.get("name"));data.setVisual("color",r),t.isSeriesFiltered(e)||("function"!=typeof r||r instanceof o||data.each((function(t){data.setItemVisual(t,"color",r(e.getDataParams(t)))})),data.each((function(t){var e=data.getItemModel(t).get(n,!0);null!=e&&data.setItemVisual(t,"color",e)})))}))}},function(t,e,n){var o=n(219),r=n(221),l=Math.PI;t.exports=function(t,e){e=e||{},o.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var mask=new r.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new r.Arc({shape:{startAngle:-l/2,endAngle:-l/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),h=new r.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*l/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*l/2}).delay(300).start("circularInOut");var c=new r.Group;return c.add(n),c.add(h),c.add(mask),c.resize=function(){var e=t.getWidth()/2,o=t.getHeight()/2;n.setShape({cx:e,cy:o});var r=n.shape.r;h.setShape({x:e-r,y:o-r,width:2*r,height:2*r}),mask.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},c.resize(),c}},function(t,e,n){var o=n(219),r=n(247),l=n(237),h=n(262),c=n(229),d=n(239);e.completeDimensions=d;var f=n(238);e.createSymbol=f.createSymbol,e.createList=function(t){var data=t.get("data");return r(data,t,t.ecModel)},e.createScale=function(t,option){var e=option;option instanceof c||(e=new c(option),o.mixin(e,h));var n=l.createScaleByModel(e);return n.setExtent(t[0],t[1]),l.niceScaleExtent(n,e),n},e.mixinAxisModelCommonMethods=function(t){o.mixin(t,h)}},function(t,e,n){var o=n(219),r=n(281),l=r.prototype,h=r.extend({type:"ordinal",init:function(data,t){this._data=data,this._extent=t||[0,data.length-1]},parse:function(t){return"string"==typeof t?o.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),l.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return l.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(l.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(data,t){this.unionExtent(data.getDataExtent(t,!1))},niceTicks:o.noop,niceExtent:o.noop});h.create=function(){return new h};var c=h;t.exports=c},function(t,e,n){var o=n(219),r=n(222),l=n(227),h=n(355),c=n(282),d=c.prototype,f=Math.ceil,m=Math.floor,v=c.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return l.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=r.round(m(e[0]/o)*o)),t.fixMax||(e[1]=r.round(f(e[1]/o)*o))},niceTicks:function(t,e,n){t=t||10;var o=this._extent,span=o[1]-o[0],l=span/t;null!=e&&l<e&&(l=e),null!=n&&l>n&&(l=n);var c=y.length,d=function(a,t,e,n){for(;e<n;){var o=e+n>>>1;a[o][1]<t?e=o+1:n=o}return e}(y,l,0,c),v=y[Math.min(d,c-1)],x=v[1];if("year"===v[0]){var _=span/x;x*=r.nice(_/t,!0)}var w=this.getSetting("useUTC")?0:60*new Date(+o[0]||+o[1]).getTimezoneOffset()*1e3,S=[Math.round(f((o[0]-w)/x)*x+w),Math.round(m((o[1]-w)/x)*x+w)];h.fixExtent(S,o),this._stepLvl=v,this._interval=x,this._niceExtent=S},parse:function(t){return+r.parseDate(t)}});o.each(["contain","normalize"],(function(t){v.prototype[t]=function(e){return d[t].call(this,this.parse(e))}}));var y=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];v.create=function(t){return new v({useUTC:t.ecModel.get("useUTC")})};var x=v;t.exports=x},function(t,e,n){var o=n(219),r=n(281),l=n(222),h=n(282),c=r.prototype,d=h.prototype,f=l.getPrecisionSafe,m=l.round,v=Math.floor,y=Math.ceil,x=Math.pow,_=Math.log,w=r.extend({type:"log",base:10,$constructor:function(){r.apply(this,arguments),this._originalScale=new h},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return o.map(d.getTicks.call(this),(function(o){var r=l.round(x(this.base,o));return r=o===e[0]&&t.__fixMin?S(r,n[0]):r,r=o===e[1]&&t.__fixMax?S(r,n[1]):r}),this)},getLabel:d.getLabel,scale:function(t){return t=c.scale.call(this,t),x(this.base,t)},setExtent:function(t,e){var base=this.base;t=_(t)/_(base),e=_(e)/_(base),d.setExtent.call(this,t,e)},getExtent:function(){var base=this.base,t=c.getExtent.call(this);t[0]=x(base,t[0]),t[1]=x(base,t[1]);var e=this._originalScale,n=e.getExtent();return e.__fixMin&&(t[0]=S(t[0],n[0])),e.__fixMax&&(t[1]=S(t[1],n[1])),t},unionExtent:function(t){this._originalScale.unionExtent(t);var base=this.base;t[0]=_(t[0])/_(base),t[1]=_(t[1])/_(base),c.unionExtent.call(this,t)},unionExtentFromData:function(data,t){this.unionExtent(data.getDataExtent(t,!0,(function(t){return t>0})))},niceTicks:function(t){t=t||10;var e=this._extent,span=e[1]-e[0];if(!(span===1/0||span<=0)){var n=l.quantity(span);for(t/span*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var o=[l.round(y(e[0]/n)*n),l.round(v(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(t){d.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function S(t,e){return m(t,f(e))}o.each(["contain","normalize"],(function(t){w.prototype[t]=function(e){return e=_(e)/_(this.base),c[t].call(this,e)}})),w.create=function(){return new w};var M=w;t.exports=M},function(t,e,n){var o=n(220),r=n(219);n(495),n(496);var l=n(254),h=n(317),c=n(498);n(269),o.registerVisual(r.curry(l,"line","circle","line")),o.registerLayout(r.curry(h,"line")),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,r.curry(c,"line"))},function(t,e,n){n(223).__DEV__;var o=n(247),r=n(234).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(option,t){return o(option.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=r},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(268),l=n(283),h=n(497),c=n(221),d=n(224),f=n(360),m=f.Polyline,v=f.Polygon,y=n(246);function x(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function _(t){return"number"==typeof t?t:t?.3:0}function w(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,o=e[1]>e[0]?1:-1;e[0]+=o*n,e[1]-=o*n}return e}function S(t){return t>=0?1:-1}function M(t,e,n){return"polar"===t.type?function(t,e,n){var o=t.getAngleAxis(),r=t.getRadiusAxis().getExtent(),l=o.getExtent(),h=Math.PI/180,d=new c.Sector({shape:{cx:t.cx,cy:t.cy,r0:r[0],r:r[1],startAngle:-l[0]*h,endAngle:-l[1]*h,clockwise:o.inverse}});return e&&(d.shape.endAngle=-l[0]*h,c.initProps(d,{shape:{endAngle:-l[1]*h}},n)),d}(t,e,n):function(t,e,n){var o=w(t.getAxis("x")),r=w(t.getAxis("y")),l=t.getBaseAxis().isHorizontal(),h=Math.min(o[0],o[1]),d=Math.min(r[0],r[1]),f=Math.max(o[0],o[1])-h,m=Math.max(r[0],r[1])-d,v=n.get("lineStyle.normal.width")||2,y=n.get("clipOverflow")?v/2:Math.max(f,m);l?(d-=y,m+=2*y):(h-=y,f+=2*y);var x=new c.Rect({shape:{x:h,y:d,width:f,height:m}});return e&&(x.shape[l?"width":"height"]=0,c.initProps(x,{shape:{width:f,height:m}},n)),x}(t,e,n)}function I(t,e,n){for(var o=e.getBaseAxis(),r="x"===o.dim||"radius"===o.dim?0:1,l=[],i=0;i<t.length-1;i++){var h=t[i+1],c=t[i];l.push(c);var d=[];switch(n){case"end":d[r]=h[r],d[1-r]=c[1-r],l.push(d);break;case"middle":var f=(c[r]+h[r])/2,m=[];d[r]=m[r]=f,d[1-r]=c[1-r],m[1-r]=h[1-r],l.push(d),l.push(m);break;default:d[r]=c[r],d[1-r]=h[1-r],l.push(d)}}return t[i]&&l.push(t[i]),l}var T=y.extend({type:"line",init:function(){var t=new c.Group,e=new r;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var r=t.coordinateSystem,l=this.group,data=t.getData(),h=t.getModel("lineStyle.normal"),d=t.getModel("areaStyle.normal"),f=data.mapArray(data.getItemLayout,!0),m="polar"===r.type,v=this._coordSys,y=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,w=this._lineGroup,T=t.get("animation"),A=!d.isEmpty(),C=function(t,data){var e=t.getBaseAxis(),n=t.getOtherAxis(e),o=0;if(!e.onZero){var r=n.scale.getExtent();r[0]>0?o=r[0]:r[1]<0&&(o=r[1])}var l=n.dim,h="x"===l||"radius"===l?1:0;return data.mapArray([l],(function(n,r){for(var c,d=data.stackedOn;d&&S(d.get(l,r))===S(n);){c=d;break}var f=[];return f[h]=data.get(e.dim,r),f[1-h]=c?c.get(l,r,!0):o,t.dataToPoint(f)}),!0)}(r,data),L=t.get("showSymbol"),D=L&&!m&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(data,r),P=this._data;P&&P.eachItemGraphicEl((function(t,e){t.__temp&&(l.remove(t),P.setItemGraphicEl(e,null))})),L||y.remove(),l.add(w);var k=!m&&t.get("step");polyline&&v.type===r.type&&k===this._step?(A&&!polygon?polygon=this._newPolygon(f,C,r,T):polygon&&!A&&(w.remove(polygon),polygon=this._polygon=null),w.setClipPath(M(r,!1,t)),L&&y.updateData(data,D),data.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),x(this._stackedOnPoints,C)&&x(this._points,f)||(T?this._updateAnimation(data,C,r,n,k):(k&&(f=I(f,r,k),C=I(C,r,k)),polyline.setShape({points:f}),polygon&&polygon.setShape({points:f,stackedOnPoints:C})))):(L&&y.updateData(data,D),k&&(f=I(f,r,k),C=I(C,r,k)),polyline=this._newPolyline(f,r,T),A&&(polygon=this._newPolygon(f,C,r,T)),w.setClipPath(M(r,!0,t)));var O=function(data,t){var e=data.getVisual("visualMeta");if(e&&e.length&&data.count()){for(var n,i=e.length-1;i>=0;i--)if(e[i].dimension<2){n=e[i];break}if(n&&"cartesian2d"===t.type){var r=n.dimension,l=data.dimensions[r],h=t.getAxis(l),d=o.map(n.stops,(function(t){return{coord:h.toGlobalCoord(h.dataToCoord(t.value)),color:t.color}})),f=d.length,m=n.outerColors.slice();f&&d[0].coord>d[f-1].coord&&(d.reverse(),m.reverse());var v=d[0].coord-10,y=d[f-1].coord+10,x=y-v;if(x<.001)return"transparent";o.each(d,(function(t){t.offset=(t.coord-v)/x})),d.push({offset:f?d[f-1].offset:.5,color:m[1]||"transparent"}),d.unshift({offset:f?d[0].offset:.5,color:m[0]||"transparent"});var _=new c.LinearGradient(0,0,0,0,d,!0);return _[l]=v,_[l+"2"]=y,_}}}(data,r)||data.getVisual("color");polyline.useStyle(o.defaults(h.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"}));var E=t.get("smooth");if(E=_(t.get("smooth")),polyline.setShape({smooth:E,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),polygon){var z=data.stackedOn,N=0;if(polygon.useStyle(o.defaults(d.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel"})),z)N=_(z.hostModel.get("smooth"));polygon.setShape({smooth:E,stackedOnSmooth:N,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=data,this._coordSys=r,this._stackedOnPoints=C,this._points=f,this._step=k},dispose:function(){},highlight:function(t,e,n,o){var data=t.getData(),r=d.queryDataIndex(data,o);if(!(r instanceof Array)&&null!=r&&r>=0){var symbol=data.getItemGraphicEl(r);if(!symbol){var h=data.getItemLayout(r);if(!h)return;(symbol=new l(data,r)).position=h,symbol.setZ(t.get("zlevel"),t.get("z")),symbol.ignore=isNaN(h[0])||isNaN(h[1]),symbol.__temp=!0,data.setItemGraphicEl(r,symbol),symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else y.prototype.highlight.call(this,t,e,n,o)},downplay:function(t,e,n,o){var data=t.getData(),r=d.queryDataIndex(data,o);if(null!=r&&r>=0){var symbol=data.getItemGraphicEl(r);symbol&&(symbol.__temp?(data.setItemGraphicEl(r,null),this.group.remove(symbol)):symbol.downplay())}else y.prototype.downplay.call(this,t,e,n,o)},_newPolyline:function(t){var polyline=this._polyline;return polyline&&this._lineGroup.remove(polyline),polyline=new m({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},_newPolygon:function(t,e){var polygon=this._polygon;return polygon&&this._lineGroup.remove(polygon),polygon=new v({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},_getSymbolIgnoreFunc:function(data,t){var e=t.getAxesByScale("ordinal")[0];if(e&&e.isLabelIgnored)return o.bind(e.isLabelIgnored,e)},_updateAnimation:function(data,t,e,n,o){var polyline=this._polyline,polygon=this._polygon,r=data.hostModel,l=h(this._data,data,this._stackedOnPoints,t,this._coordSys,e),d=l.current,f=l.stackedOnCurrent,m=l.next,v=l.stackedOnNext;o&&(d=I(l.current,e,o),f=I(l.stackedOnCurrent,e,o),m=I(l.next,e,o),v=I(l.stackedOnNext,e,o)),polyline.shape.__points=l.current,polyline.shape.points=d,c.updateProps(polyline,{shape:{points:m}},r),polygon&&(polygon.setShape({points:d,stackedOnPoints:f}),c.updateProps(polygon,{shape:{points:m,stackedOnPoints:v}},r));for(var y=[],x=l.status,i=0;i<x.length;i++){if("="===x[i].cmd){var _=data.getItemGraphicEl(x[i].idx1);_&&y.push({el:_,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during((function(){for(var i=0;i<y.length;i++){y[i].el.attr("position",polyline.shape.__points[y[i].ptIdx])}}))},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,o){t.__temp&&(e.remove(t),n.setItemGraphicEl(o,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=T},function(t,e){function n(t){return t>=0?1:-1}function o(t,data,e){for(var o,r=t.getBaseAxis(),l=t.getOtherAxis(r),h=r.onZero?0:l.scale.getExtent()[0],c=l.dim,d="x"===c||"radius"===c?1:0,f=data.stackedOn,m=data.get(c,e);f&&n(f.get(c,e))===n(m);){o=f;break}var v=[];return v[d]=data.get(r.dim,e),v[1-d]=o?o.get(c,e,!0):h,t.dataToPoint(v)}t.exports=function(t,e,n,r,l,h){for(var c=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),d=[],f=[],m=[],v=[],y=[],x=[],_=[],w=h.dimensions,i=0;i<c.length;i++){var S=c[i],M=!0;switch(S.cmd){case"=":var I=t.getItemLayout(S.idx),T=e.getItemLayout(S.idx1);(isNaN(I[0])||isNaN(I[1]))&&(I=T.slice()),d.push(I),f.push(T),m.push(n[S.idx]),v.push(r[S.idx1]),_.push(e.getRawIndex(S.idx1));break;case"+":var A=S.idx;d.push(l.dataToPoint([e.get(w[0],A,!0),e.get(w[1],A,!0)])),f.push(e.getItemLayout(A).slice()),m.push(o(l,e,A)),v.push(r[A]),_.push(e.getRawIndex(A));break;case"-":A=S.idx;var C=t.getRawIndex(A);C!==A?(d.push(t.getItemLayout(A)),f.push(h.dataToPoint([t.get(w[0],A,!0),t.get(w[1],A,!0)])),m.push(n[A]),v.push(o(h,t,A)),_.push(C)):M=!1}M&&(y.push(S),x.push(x.length))}x.sort((function(a,b){return _[a]-_[b]}));var L=[],D=[],P=[],k=[],O=[];for(i=0;i<x.length;i++){A=x[i];L[i]=d[A],D[i]=f[A],P[i]=m[A],k[i]=v[A],O[i]=y[A]}return{current:L,next:D,stackedOnCurrent:P,stackedOnNext:k,status:O}}},function(t,e){var n={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e},nearest:function(t){return t[0]}},o=function(t,e){return Math.round(t.length/2)};t.exports=function(t,e,r){e.eachSeriesByType(t,(function(t){var data=t.getData(),e=t.get("sampling"),r=t.coordinateSystem;if("cartesian2d"===r.type&&e){var l,h=r.getBaseAxis(),c=r.getOtherAxis(h),d=h.getExtent(),f=d[1]-d[0],m=Math.round(data.count()/f);if(m>1)"string"==typeof e?l=n[e]:"function"==typeof e&&(l=e),l&&(data=data.downSample(c.dim,1/m,l,o),t.setData(data))}}),this)}},function(t,e,n){var o=n(219),r=n(500);function l(t){r.call(this,t)}l.prototype={constructor:l,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])},dataToPoint:function(data,t){var e=this.getAxis("x"),n=this.getAxis("y");return[e.toGlobalCoord(e.dataToCoord(data[0],t)),n.toGlobalCoord(n.dataToCoord(data[1],t))]},pointToData:function(t,e){var n=this.getAxis("x"),o=this.getAxis("y");return[n.coordToData(n.toLocalCoord(t[0]),e),o.coordToData(o.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(219);function r(t){return this._axes[t]}var l=function(t){this._axes={},this._dimList=[],this.name=t||""};l.prototype={constructor:l,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return o.map(this._dimList,r,this)},getAxesByScale:function(t){return t=t.toLowerCase(),o.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(input,t){for(var e=this._dimList,output=input instanceof Array?[]:{},i=0;i<e.length;i++){var n=e[i],o=this._axes[n];output[n]=o[t](input[n])}return output}};var h=l;t.exports=h},function(t,e,n){var o=n(219),r=n(248),l=function(t,e,n,o,l){r.call(this,t,e,n),this.type=o||"value",this.position=l||"bottom"};l.prototype={constructor:l,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){n(361);var o=n(232).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=o},function(t,e,n){n(361),n(504)},function(t,e,n){var o=n(219),r=n(221),l=n(255),h=n(256),c=n(363),d=l.ifIgnoreOnTick,f=l.getInterval,m=["axisLine","axisTickLabel","axisName"],v=["splitArea","splitLine"],y=h.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,h){this.group.removeAll();var d=this._axisGroup;if(this._axisGroup=new r.Group,this.group.add(this._axisGroup),t.get("show")){var f=t.getCoordSysModel(),x=c.layout(f,t),_=new l(t,x);o.each(m,_.add,_),this._axisGroup.add(_.getGroup()),o.each(v,(function(e){t.get(e+".show")&&this["_"+e](t,f,x.labelInterval)}),this),r.groupTransition(d,this._axisGroup,t),y.superCall(this,"render",t,e,n,h)}},_splitLine:function(t,e,n){var l=t.axis;if(!l.scale.isBlank()){var h=t.getModel("splitLine"),c=h.getModel("lineStyle"),m=c.get("color"),v=f(h,n);m=o.isArray(m)?m:[m];for(var y=e.coordinateSystem.getRect(),x=l.isHorizontal(),_=0,w=l.getTicksCoords(),S=l.scale.getTicks(),M=t.get("axisLabel.showMinLabel"),I=t.get("axisLabel.showMaxLabel"),T=[],A=[],C=c.getLineStyle(),i=0;i<w.length;i++)if(!d(l,i,v,w.length,M,I)){var L=l.toGlobalCoord(w[i]);x?(T[0]=L,T[1]=y.y,A[0]=L,A[1]=y.y+y.height):(T[0]=y.x,T[1]=L,A[0]=y.x+y.width,A[1]=L);var D=_++%m.length;this._axisGroup.add(new r.Line(r.subPixelOptimizeLine({anid:"line_"+S[i],shape:{x1:T[0],y1:T[1],x2:A[0],y2:A[1]},style:o.defaults({stroke:m[D]},C),silent:!0})))}}},_splitArea:function(t,e,n){var l=t.axis;if(!l.scale.isBlank()){var h=t.getModel("splitArea"),c=h.getModel("areaStyle"),m=c.get("color"),v=e.coordinateSystem.getRect(),y=l.getTicksCoords(),x=l.scale.getTicks(),_=l.toGlobalCoord(y[0]),w=l.toGlobalCoord(y[0]),S=0,M=f(h,n),I=c.getAreaStyle();m=o.isArray(m)?m:[m];for(var T=t.get("axisLabel.showMinLabel"),A=t.get("axisLabel.showMaxLabel"),i=1;i<y.length;i++)if(!d(l,i,M,y.length,T,A)){var C,L,D,P,k=l.toGlobalCoord(y[i]);l.isHorizontal()?(C=_,L=v.y,D=k-C,P=v.height):(C=v.x,L=w,D=v.width,P=k-L);var O=S++%m.length;this._axisGroup.add(new r.Rect({anid:"area_"+x[i],shape:{x:C,y:L,width:D,height:P},style:o.defaults({fill:m[O]},I),silent:!0})),_=C+D,w=L+P}}}});y.extend({type:"xAxis"}),y.extend({type:"yAxis"})},function(t,e,n){var o=n(220),r=n(219),l=n(319);n(318),n(506),n(507),n(269),o.registerLayout(r.curry(l,"bar")),o.registerVisual((function(t){t.eachSeriesByType("bar",(function(t){t.getData().setVisual("legendSymbol","roundRect")}))}))},function(t,e,n){var o=n(364).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});t.exports=o},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(221),h=n(365).setLabel,c=n(229),d=n(508),f=["itemStyle","normal","barBorderWidth"];r.extend(c.prototype,d);var m=o.extendChartView({type:"bar",render:function(t,e,n){var o=t.get("coordinateSystem");return"cartesian2d"!==o&&"polar"!==o||this._render(t,e,n),this.group},dispose:r.noop,_render:function(t,e,n){var o,r=this.group,data=t.getData(),h=this._data,c=t.coordinateSystem,d=c.getBaseAxis();"cartesian2d"===c.type?o=d.isHorizontal():"polar"===c.type&&(o="angle"===d.dim);var f=t.isAnimationEnabled()?t:null;data.diff(h).add((function(e){if(data.hasValue(e)){var n=data.getItemModel(e),l=_[c.type](data,e,n),h=v[c.type](data,e,n,l,o,f);data.setItemGraphicEl(e,h),r.add(h),w(h,data,e,n,l,t,o,"polar"===c.type)}})).update((function(e,n){var d=h.getItemGraphicEl(n);if(data.hasValue(e)){var m=data.getItemModel(e),y=_[c.type](data,e,m);d?l.updateProps(d,{shape:y},f,e):d=v[c.type](data,e,m,y,o,f,!0),data.setItemGraphicEl(e,d),r.add(d),w(d,data,e,m,y,t,o,"polar"===c.type)}else r.remove(d)})).remove((function(t){var e=h.getItemGraphicEl(t);"cartesian2d"===c.type?e&&y(t,f,e):e&&x(t,f,e)})).execute(),this._data=data},remove:function(t,e){var n=this.group,data=this._data;t.get("animation")?data&&data.eachItemGraphicEl((function(e){"sector"===e.type?x(e.dataIndex,t,e):y(e.dataIndex,t,e)})):n.removeAll()}}),v={cartesian2d:function(data,t,e,n,o,h,c){var rect=new l.Rect({shape:r.extend({},n)});if(h){var d=o?"height":"width",f={};rect.shape[d]=0,f[d]=n[d],l[c?"updateProps":"initProps"](rect,{shape:f},h,t)}return rect},polar:function(data,t,e,n,o,h,c){var d=new l.Sector({shape:r.extend({},n)});if(h){var f=o?"r":"endAngle",m={};d.shape[f]=o?0:n.startAngle,m[f]=n[f],l[c?"updateProps":"initProps"](d,{shape:m},h,t)}return d}};function y(t,e,n){n.style.text=null,l.updateProps(n,{shape:{width:0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}function x(t,e,n){n.style.text=null,l.updateProps(n,{shape:{r:n.shape.r0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}var _={cartesian2d:function(data,t,e){var n=data.getItemLayout(t),o=function(t,e){var n=t.get(f)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}(e,n),r=n.width>0?1:-1,l=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+l*o/2,width:n.width-r*o,height:n.height-l*o}},polar:function(data,t,e){var n=data.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function w(t,data,e,n,o,c,d,f){var m=data.getItemVisual(e,"color"),v=data.getItemVisual(e,"opacity"),y=n.getModel("itemStyle.normal"),x=n.getModel("itemStyle.emphasis").getBarItemStyle();f||t.setShape("r",y.get("barBorderRadius")||0),t.useStyle(r.defaults({fill:m,opacity:v},y.getBarItemStyle()));var _=n.getShallow("cursor");_&&t.attr("cursor",_);var w=d?o.height>0?"bottom":"top":o.width>0?"left":"right";f||h(t.style,x,n,m,c,e,w),l.setHoverStyle(t,x)}t.exports=m},function(t,e,n){var o=n(259)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(t){var style=o(this,t);if(this.getBorderLineDash){var e=this.getBorderLineDash();e&&(style.lineDash=e)}return style}};t.exports=r},function(t,e,n){var o=n(220),r=n(219);n(510),n(511);var l=n(366),h=n(321),c=n(512),d=n(286);l("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisual(r.curry(h,"pie")),o.registerLayout(r.curry(c,"pie")),o.registerProcessor(r.curry(d,"pie"))},function(t,e,n){var o=n(220),r=n(233),l=n(219),h=n(224),c=n(222).getPercentWithPrecision,d=n(239),f=n(320),m=o.extendSeriesModel({type:"series.pie",init:function(option){m.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(option.data),this._defaultLabelLine(option)},mergeOption:function(t){m.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(option,t){var e=d(["value"],option.data),n=new r(e,this);return n.initData(option.data),n},getDataParams:function(t){var data=this.getData(),e=m.superCall(this,"getDataParams",t),n=[];return data.each("value",(function(t){n.push(t)})),e.percent=c(n,t,data.hostModel.get("percentPrecision")),e.$vars.push("percent"),e},_defaultLabelLine:function(option){h.defaultEmphasis(option.labelLine,["show"]);var t=option.labelLine.normal,e=option.labelLine.emphasis;t.show=t.show&&option.label.normal.show,e.show=e.show&&option.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});l.mixin(m,f);var v=m;t.exports=v},function(t,e,n){var o=n(219),r=n(221),l=n(246);function h(t,e,n,o){var data=e.getData(),r=this.dataIndex,l=data.getName(r),h=e.get("selectedOffset");o.dispatchAction({type:"pieToggleSelect",from:t,name:l,seriesId:e.id}),data.each((function(t){c(data.getItemGraphicEl(t),data.getItemLayout(t),e.isSelected(data.getName(t)),h,n)}))}function c(t,e,n,o,r){var l=(e.startAngle+e.endAngle)/2,h=n?o:0,c=[Math.cos(l)*h,Math.sin(l)*h];r?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function d(data,t){r.Group.call(this);var e=new r.Sector({z2:2}),polyline=new r.Polyline,text=new r.Text;function n(){polyline.ignore=polyline.hoverIgnore,text.ignore=text.hoverIgnore}function o(){polyline.ignore=polyline.normalIgnore,text.ignore=text.normalIgnore}this.add(e),this.add(polyline),this.add(text),this.updateData(data,t,!0),this.on("emphasis",n).on("normal",o).on("mouseover",n).on("mouseout",o)}var f=d.prototype;f.updateData=function(data,t,e){var n=this.childAt(0),l=data.hostModel,h=data.getItemModel(t),d=data.getItemLayout(t),f=o.extend({},d);(f.label=null,e)?(n.setShape(f),"scale"===l.getShallow("animationType")?(n.shape.r=d.r0,r.initProps(n,{shape:{r:d.r}},l,t)):(n.shape.endAngle=d.startAngle,r.updateProps(n,{shape:{endAngle:d.endAngle}},l,t))):r.updateProps(n,{shape:f},l,t);var m=h.getModel("itemStyle"),v=data.getItemVisual(t,"color");n.useStyle(o.defaults({lineJoin:"bevel",fill:v},m.getModel("normal").getItemStyle())),n.hoverStyle=m.getModel("emphasis").getItemStyle();var y=h.getShallow("cursor");function x(){n.stopAnimation(!0),n.animateTo({shape:{r:d.r+l.get("hoverOffset")}},300,"elasticOut")}function _(){n.stopAnimation(!0),n.animateTo({shape:{r:d.r}},300,"elasticOut")}y&&n.attr("cursor",y),c(this,data.getItemLayout(t),h.get("selected"),l.get("selectedOffset"),l.get("animation")),n.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&l.isAnimationEnabled()&&n.on("mouseover",x).on("mouseout",_).on("emphasis",x).on("normal",_),this._updateLabel(data,t),r.setHoverStyle(this)},f._updateLabel=function(data,t){var e=this.childAt(1),n=this.childAt(2),o=data.hostModel,l=data.getItemModel(t),h=data.getItemLayout(t).label,c=data.getItemVisual(t,"color");r.updateProps(e,{shape:{points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]}},o,t),r.updateProps(n,{style:{x:h.x,y:h.y}},o,t),n.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10});var d=l.getModel("label.normal"),f=l.getModel("label.emphasis"),m=l.getModel("labelLine.normal"),v=l.getModel("labelLine.emphasis");c=data.getItemVisual(t,"color");r.setLabelStyle(n.style,n.hoverStyle={},d,f,{labelFetcher:data.hostModel,labelDataIndex:t,defaultText:data.getName(t),autoColor:c,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,opacity:data.getItemVisual(t,"opacity")}),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!f.get("show"),e.ignore=e.normalIgnore=!m.get("show"),e.hoverIgnore=!v.get("show"),e.setStyle({stroke:c,opacity:data.getItemVisual(t,"opacity")}),e.setStyle(m.getModel("lineStyle").getLineStyle()),e.hoverStyle=v.getModel("lineStyle").getLineStyle();var y=m.get("smooth");y&&!0===y&&(y=.4),e.setShape({smooth:y})},o.inherits(d,r.Group);var m=l.extend({type:"pie",init:function(){var t=new r.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var data=t.getData(),l=this._data,c=this.group,f=e.get("animation"),m=!l,v=t.get("animationType"),y=o.curry(h,this.uid,t,f,n),x=t.get("selectedMode");if(data.diff(l).add((function(t){var e=new d(data,t);m&&"scale"!==v&&e.eachChild((function(t){t.stopAnimation(!0)})),x&&e.on("click",y),data.setItemGraphicEl(t,e),c.add(e)})).update((function(t,e){var n=l.getItemGraphicEl(e);n.updateData(data,t),n.off("click"),x&&n.on("click",y),c.add(n),data.setItemGraphicEl(t,n)})).remove((function(t){var e=l.getItemGraphicEl(t);c.remove(e)})).execute(),f&&m&&data.count()>0&&"scale"!==v){var _=data.getItemLayout(0),w=Math.max(n.getWidth(),n.getHeight())/2,S=o.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(_.cx,_.cy,w,_.startAngle,_.clockwise,S,t))}this._data=data}},dispose:function(){},_createClipPath:function(t,e,n,o,l,h,c){var d=new r.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:o,endAngle:o,clockwise:l}});return r.initProps(d,{shape:{endAngle:o+(l?1:-1)*Math.PI*2}},c,h),d},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var o=t[0]-n.cx,r=t[1]-n.cy,l=Math.sqrt(o*o+r*r);return l<=n.r&&l>=n.r0}}});t.exports=m},function(t,e,n){var o=n(222),r=o.parsePercent,l=o.linearMap,h=n(513),c=n(219),d=2*Math.PI,f=Math.PI/180;t.exports=function(t,e,n,o){e.eachSeriesByType(t,(function(t){var e=t.get("center"),o=t.get("radius");c.isArray(o)||(o=[0,o]),c.isArray(e)||(e=[e,e]);var m=n.getWidth(),v=n.getHeight(),y=Math.min(m,v),x=r(e[0],m),_=r(e[1],v),w=r(o[0],y/2),S=r(o[1],y/2),data=t.getData(),M=-t.get("startAngle")*f,I=t.get("minAngle")*f,T=0;data.each("value",(function(t){!isNaN(t)&&T++}));var A=data.getSum("value"),C=Math.PI/(A||T)*2,L=t.get("clockwise"),D=t.get("roseType"),P=t.get("stillShowZeroSum"),k=data.getDataExtent("value");k[0]=0;var O=d,E=0,z=M,N=L?1:-1;if(data.each("value",(function(t,e){var n;if(isNaN(t))data.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:L,cx:x,cy:_,r0:w,r:D?NaN:S});else{(n="area"!==D?0===A&&P?C:t*C:d/T)<I?(n=I,O-=I):E+=t;var o=z+N*n;data.setItemLayout(e,{angle:n,startAngle:z,endAngle:o,clockwise:L,cx:x,cy:_,r0:w,r:D?l(t,k,[w,S]):S}),z=o}}),!0),O<d&&T)if(O<=.001){var R=d/T;data.each("value",(function(t,e){if(!isNaN(t)){var n=data.getItemLayout(e);n.angle=R,n.startAngle=M+N*e*R,n.endAngle=M+N*(e+1)*R}}))}else C=O/E,z=M,data.each("value",(function(t,e){if(!isNaN(t)){var n=data.getItemLayout(e),o=n.angle===I?I:t*C;n.startAngle=z,n.endAngle=z+N*o,z+=N*o}}));h(t,S,m,v)}))}},function(t,e,n){var o=n(240);function r(t,e,n,o,r,l,h){function c(e,n,o,r){for(var l=e;l<n;l++)if(t[l].y+=o,l>e&&l+1<n&&t[l+1].y>t[l].y+t[l].height)return void d(l,o/2);d(n-1,o/2)}function d(e,n){for(var o=e;o>=0&&(t[o].y-=n,!(o>0&&t[o].y>t[o-1].y+t[o-1].height));o--);}function f(t,e,n,o,r,l){for(var h=e?Number.MAX_VALUE:0,i=0,c=t.length;i<c;i++)if("center"!==t[i].position){var d=Math.abs(t[i].y-o),f=t[i].len,m=t[i].len2,v=d<r+f?Math.sqrt((r+f+m)*(r+f+m)-d*d):Math.abs(t[i].x-n);e&&v>=h&&(v=h-10),!e&&v<=h&&(v=h+10),t[i].x=n+v*l,h=v}}t.sort((function(a,b){return a.y-b.y}));for(var m,v=0,y=t.length,x=[],_=[],i=0;i<y;i++)(m=t[i].y-v)<0&&c(i,y,-m),v=t[i].y+t[i].height;h-v<0&&d(y-1,v-h);for(i=0;i<y;i++)t[i].y>=n?_.push(t[i]):x.push(t[i]);f(x,!1,e,n,o,r),f(_,!0,e,n,o,r)}t.exports=function(t,e,n,l){var h,c,data=t.getData(),d=[],f=!1;data.each((function(n){var r,l,m,v,y=data.getItemLayout(n),x=data.getItemModel(n),_=x.getModel("label.normal"),w=_.get("position")||x.get("label.emphasis.position"),S=x.getModel("labelLine.normal"),M=S.get("length"),I=S.get("length2"),T=(y.startAngle+y.endAngle)/2,A=Math.cos(T),C=Math.sin(T);h=y.cx,c=y.cy;var L="inside"===w||"inner"===w;if("center"===w)r=y.cx,l=y.cy,v="center";else{var D=(L?(y.r+y.r0)/2*A:y.r*A)+h,P=(L?(y.r+y.r0)/2*C:y.r*C)+c;if(r=D+3*A,l=P+3*C,!L){var k=D+A*(M+e-y.r),O=P+C*(M+e-y.r),E=k+(A<0?-1:1)*I;r=E+(A<0?-5:5),l=O,m=[[D,P],[k,O],[E,O]]}v=L?"center":A>0?"left":"right"}var z=_.getFont(),N=_.get("rotate")?A<0?-T+Math.PI:-T:0,text=t.getFormattedLabel(n,"normal")||data.getName(n),R=o.getBoundingRect(text,z,v,"top");f=!!N,y.label={x:r,y:l,position:w,height:R.height,len:M,len2:I,linePoints:m,textAlign:v,verticalAlign:"middle",rotation:N,inside:L},L||d.push(y.label)})),!f&&t.get("avoidLabelOverlap")&&function(t,e,n,o,l,h){for(var c=[],d=[],i=0;i<t.length;i++)t[i].x<e?c.push(t[i]):d.push(t[i]);for(r(d,e,n,o,1,0,h),r(c,e,n,o,-1,0,h),i=0;i<t.length;i++){var f=t[i].linePoints;if(f){var m=f[1][0]-f[2][0];t[i].x<e?f[2][0]=t[i].x+3:f[2][0]=t[i].x-3,f[1][1]=f[2][1]=t[i].y,f[1][0]=f[2][0]+m}}}(d,h,c,e,0,l)}},function(t,e,n){var o=n(220),r=n(219);n(515),n(516);var l=n(254),h=n(317);n(269),o.registerVisual(r.curry(l,"scatter","circle",null)),o.registerLayout(r.curry(h,"scatter"))},function(t,e,n){var o=n(247),r=n(234).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(option,t){return o(option.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});t.exports=r},function(t,e,n){var o=n(220),r=n(268),l=n(517);o.extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new r,this._largeSymbolDraw=new l},render:function(t,e,n){var data=t.getData(),o=this._largeSymbolDraw,r=this._normalSymbolDraw,l=this.group,h=t.get("large")&&data.count()>t.get("largeThreshold")?o:r;this._symbolDraw=h,h.updateData(data),l.add(h.group),l.remove(h===o?r.group:o.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)},dispose:function(){}})},function(t,e,n){var o=n(221),r=n(238).createSymbol,l=o.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(path,t){for(var e=t.points,n=t.sizes,o=this.symbolProxy,r=o.shape,i=0;i<e.length;i++){var l=e[i];if(!isNaN(l[0])&&!isNaN(l[1])){var h=n[i];h[0]<4?path.rect(l[0]-h[0]/2,l[1]-h[1]/2,h[0],h[1]):(r.x=l[0]-h[0]/2,r.y=l[1]-h[1]/2,r.width=h[0],r.height=h[1],o.buildPath(path,r,!0))}}},findDataIndex:function(t,e){for(var n=this.shape,o=n.points,r=n.sizes,i=o.length-1;i>=0;i--){var l=o[i],h=r[i],c=l[0]-h[0]/2,d=l[1]-h[1]/2;if(t>=c&&e>=d&&t<=c+h[0]&&e<=d+h[1])return i}return-1}});function h(){this.group=new o.Group,this._symbolEl=new l({})}var c=h.prototype;c.updateData=function(data){this.group.removeAll();var t=this._symbolEl,e=data.hostModel;t.setShape({points:data.mapArray(data.getItemLayout),sizes:data.mapArray((function(t){var e=data.getItemVisual(t,"symbolSize");return e instanceof Array||(e=[e,e]),e}))}),t.symbolProxy=r(data.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor,t.useStyle(e.getModel("itemStyle.normal").getItemStyle(["color"]));var n=data.getVisual("color");n&&t.setColor(n),t.seriesIndex=e.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n)})),this.group.add(t)},c.updateLayout=function(t){var data=t.getData();this._symbolEl.setShape({points:data.mapArray(data.getItemLayout)})},c.remove=function(){this.group.removeAll()};var d=h;t.exports=d},function(t,e,n){var o=n(220),r=n(219);n(519),n(524),n(525);var l=n(321),h=n(254),c=n(526),d=n(286),f=n(527);o.registerVisual(r.curry(l,"radar")),o.registerVisual(r.curry(h,"radar","circle",null)),o.registerLayout(c),o.registerProcessor(r.curry(d,"radar")),o.registerPreprocessor(f)},function(t,e,n){n(520),n(522),n(523)},function(t,e,n){var o=n(219),r=n(521),l=n(282),h=n(222),c=n(237),d=c.getScaleExtent,f=c.niceScaleExtent,m=n(241);function v(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=o.map(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,o=new r(n,new l);return o.name=t.get("name"),o.model=t,t.axis=o,this.dimensions.push(n),o}),this),this.resize(t,n),this.cx,this.cy,this.r,this.startAngle}v.prototype.getIndicatorAxes=function(){return this._indicatorAxes},v.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},v.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},v.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,o=Math.sqrt(e*e+n*n);e/=o,n/=o;for(var r,l=Math.atan2(-n,e),h=1/0,c=-1,i=0;i<this._indicatorAxes.length;i++){var d=this._indicatorAxes[i],f=Math.abs(l-d.angle);f<h&&(r=d,c=i,h=f)}return[c,+(r&&r.coodToData(o))]},v.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),l=e.getHeight(),c=Math.min(r,l)/2;this.cx=h.parsePercent(n[0],r),this.cy=h.parsePercent(n[1],l),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=h.parsePercent(t.get("radius"),c),o.each(this._indicatorAxes,(function(t,e){t.setExtent(0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},v.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;o.each(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,l){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var data=e.getData();o.each(n,(function(t){t.scale.unionExtentFromData(data,t.dim)}))}}),this);var l=r.get("splitNumber");function c(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}o.each(n,(function(t,e){var n=d(t.scale,t.model);f(t.scale,t.model);var o=t.model,r=t.scale,m=o.getMin(),v=o.getMax(),y=r.getInterval();if(null!=m&&null!=v)r.setExtent(+m,+v),r.setInterval((v-m)/l);else if(null!=m){var x;do{x=m+y*l,r.setExtent(+m,x),r.setInterval(y),y=c(y)}while(x<n[1]&&isFinite(x)&&isFinite(n[1]))}else if(null!=v){var _;do{_=v-y*l,r.setExtent(_,+v),r.setInterval(y),y=c(y)}while(_>n[0]&&isFinite(_)&&isFinite(n[0]))}else{r.getTicks().length-1>l&&(y=c(y));var w=Math.round((n[0]+n[1])/2/y)*y,S=Math.round(l/2);r.setExtent(h.round(w-S*y),h.round(w+(l-S)*y)),r.setInterval(y)}}))},v.dimensions=[],v.create=function(t,e){var n=[];return t.eachComponent("radar",(function(o){var r=new v(o,t,e);n.push(r),o.coordinateSystem=r})),t.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},m.register("radar",v);var y=v;t.exports=y},function(t,e,n){var o=n(219),r=n(248);function l(t,e,n){r.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(220),r=n(219),l=n(362),h=n(229),c=n(262),d=l.valueAxis;function f(t,e){return r.defaults({show:e},t)}var m=o.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),o=this.get("axisLine"),l=this.get("axisTick"),d=this.get("axisLabel"),f=this.get("name"),m=this.get("name.show"),v=this.get("name.formatter"),y=this.get("nameGap"),x=this.get("triggerEvent"),_=r.map(this.get("indicator")||[],(function(_){null!=_.max&&_.max>0&&!_.min?_.min=0:null!=_.min&&_.min<0&&!_.max&&(_.max=0);var w=f;if(null!=_.color&&(w=r.defaults({color:_.color},f)),_=r.merge(r.clone(_),{boundaryGap:t,splitNumber:e,scale:n,axisLine:o,axisTick:l,axisLabel:d,name:_.text,nameLocation:"end",nameGap:y,nameTextStyle:w,triggerEvent:x},!1),m||(_.name=""),"string"==typeof v){var S=_.name;_.name=v.replace("{value}",null!=S?S:"")}else"function"==typeof v&&(_.name=v(_.name,_));var M=r.extend(new h(_,null,this.ecModel),c);return M.mainType="radar",M.componentIndex=this.componentIndex,M}),this);this.getIndicatorModels=function(){return _}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},d.axisLine),axisLabel:f(d.axisLabel,!1),axisTick:f(d.axisTick,!1),splitLine:f(d.splitLine,!0),splitArea:f(d.splitArea,!0),indicator:[]}});t.exports=m},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(255),h=n(221),c=["axisLine","axisTickLabel","axisName"],d=o.extendComponentView({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),o=r.map(n,(function(t){return new l(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));r.each(o,(function(t){r.each(c,t.add,t),this.group.add(t.getGroup())}),this)},_buildSplitLineAndArea:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var o=t.get("shape"),l=t.getModel("splitLine"),c=t.getModel("splitArea"),d=l.getModel("lineStyle"),f=c.getModel("areaStyle"),m=l.get("show"),v=c.get("show"),y=d.get("color"),x=f.get("color");y=r.isArray(y)?y:[y],x=r.isArray(x)?x:[x];var _=[],w=[];if("circle"===o)for(var S=n[0].getTicksCoords(),M=e.cx,I=e.cy,i=0;i<S.length;i++){if(m)_[O(_,y,i)].push(new h.Circle({shape:{cx:M,cy:I,r:S[i]}}));if(v&&i<S.length-1)w[O(w,x,i)].push(new h.Ring({shape:{cx:M,cy:I,r0:S[i],r:S[i+1]}}))}else{var T,A=r.map(n,(function(t,n){var o=t.getTicksCoords();return T=null==T?o.length-1:Math.min(o.length-1,T),r.map(o,(function(t){return e.coordToPoint(t,n)}))})),C=[];for(i=0;i<=T;i++){for(var L=[],D=0;D<n.length;D++)L.push(A[D][i]);if(L[0]&&L.push(L[0].slice()),m)_[O(_,y,i)].push(new h.Polyline({shape:{points:L}}));if(v&&C)w[O(w,x,i-1)].push(new h.Polygon({shape:{points:L.concat(C)}}));C=L.slice().reverse()}}var P=d.getLineStyle(),k=f.getAreaStyle();r.each(w,(function(t,e){this.group.add(h.mergePath(t,{style:r.defaults({stroke:"none",fill:x[e%x.length]},k),silent:!0}))}),this),r.each(_,(function(t,e){this.group.add(h.mergePath(t,{style:r.defaults({fill:"none",stroke:y[e%y.length]},P),silent:!0}))}),this)}function O(t,e,n){var o=n%e.length;return t[o]=t[o]||[],o}}});t.exports=d},function(t,e,n){var o=n(234),r=n(233),l=n(239),h=n(219),c=n(227).encodeHTML,d=o.extend({type:"series.radar",dependencies:["radar"],init:function(option){d.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(option,t){var data=option.data||[],e=l([],data,{extraPrefix:"indicator_",extraFromZero:!0}),n=new r(e,this);return n.initData(data),n},formatTooltip:function(t){var e=this.getRawValue(t),n=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(t);return c(""===o?this.name:o)+"<br/>"+h.map(n,(function(t,n){return c(t.name+" : "+e[n])})).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}}),f=d;t.exports=f},function(t,e,n){var o=n(220),r=n(221),l=n(219),h=n(238);var c=o.extendChartView({type:"radar",render:function(t,e,n){var o=t.coordinateSystem,c=this.group,data=t.getData(),d=this._data;function f(data,t){var e=data.getItemVisual(t,"symbol")||"circle",n=data.getItemVisual(t,"color");if("none"!==e){var o=function(t){return l.isArray(t)||(t=[+t,+t]),t}(data.getItemVisual(t,"symbolSize")),r=h.createSymbol(e,-1,-1,2,2,n);return r.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),r}}function m(e,n,o,data,l,h){o.removeAll();for(var i=0;i<n.length-1;i++){var c=f(data,l);c&&(c.__dimIdx=i,e[i]?(c.attr("position",e[i]),r[h?"initProps":"updateProps"](c,{position:n[i]},t,l)):c.attr("position",n[i]),o.add(c))}}function v(t){return l.map(t,(function(t){return[o.cx,o.cy]}))}data.diff(d).add((function(e){var n=data.getItemLayout(e);if(n){var polygon=new r.Polygon,polyline=new r.Polyline,o={shape:{points:n}};polygon.shape.points=v(n),polyline.shape.points=v(n),r.initProps(polygon,o,t,e),r.initProps(polyline,o,t,e);var l=new r.Group,h=new r.Group;l.add(polyline),l.add(polygon),l.add(h),m(polyline.shape.points,n,h,data,e,!0),data.setItemGraphicEl(e,l)}})).update((function(e,n){var o=d.getItemGraphicEl(n),polyline=o.childAt(0),polygon=o.childAt(1),l=o.childAt(2),h={shape:{points:data.getItemLayout(e)}};h.shape.points&&(m(polyline.shape.points,h.shape.points,l,data,e,!1),r.updateProps(polyline,h,t),r.updateProps(polygon,h,t),data.setItemGraphicEl(e,o))})).remove((function(t){c.remove(d.getItemGraphicEl(t))})).execute(),data.eachItemGraphicEl((function(t,e){var n=data.getItemModel(e),polyline=t.childAt(0),polygon=t.childAt(1),o=t.childAt(2),h=data.getItemVisual(e,"color");c.add(t),polyline.useStyle(l.defaults(n.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:h})),polyline.hoverStyle=n.getModel("lineStyle.emphasis").getLineStyle();var d=n.getModel("areaStyle.normal"),f=n.getModel("areaStyle.emphasis"),m=d.isEmpty()&&d.parentModel.isEmpty(),v=f.isEmpty()&&f.parentModel.isEmpty();v=v&&m,polygon.ignore=m,polygon.useStyle(l.defaults(d.getAreaStyle(),{fill:h,opacity:.7})),polygon.hoverStyle=f.getAreaStyle();var y=n.getModel("itemStyle.normal").getItemStyle(["color"]),x=n.getModel("itemStyle.emphasis").getItemStyle(),_=n.getModel("label.normal"),w=n.getModel("label.emphasis");function S(){polygon.attr("ignore",v)}function M(){polygon.attr("ignore",m)}o.eachChild((function(t){t.setStyle(y),t.hoverStyle=l.clone(x),r.setLabelStyle(t.style,t.hoverStyle,_,w,{labelFetcher:data.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:data.get(data.dimensions[t.__dimIdx],e),autoColor:h,isRectText:!0})})),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",S).on("mouseover",S).on("normal",M).on("mouseout",M),r.setHoverStyle(t)})),this._data=data},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=c},function(t,e){t.exports=function(t){t.eachSeriesByType("radar",(function(t){var data=t.getData(),e=[],n=t.coordinateSystem;if(n){for(var i=0;i<n.getIndicatorAxes().length;i++){var o=data.dimensions[i];data.each(o,r)}data.each((function(t){e[t][0]&&e[t].push(e[t][0].slice()),data.setItemLayout(t,e[t])}))}function r(t,o){e[o]=e[o]||[],e[o][i]=n.dataToPoint(t,i)}}))}},function(t,e,n){var o=n(219);t.exports=function(option){var t=option.polar;if(t){o.isArray(t)||(t=[t]);var e=[];o.each(t,(function(t,n){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),option.radar=option.radar||[],o.isArray(option.radar)||(option.radar=[option.radar]),option.radar.push(t)):e.push(t)})),option.polar=e}o.each(option.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}},function(t,e,n){var o=n(220);n(529),n(535),n(371),n(287);var r=n(536),l=n(537),h=n(538),c=n(539),d=n(366);o.registerLayout(r),o.registerVisual(l),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,h),o.registerPreprocessor(c),d("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,n){var o=n(219),r=n(233),l=n(234),h=n(239),c=n(227),d=c.encodeHTML,f=c.addCommas,m=n(320),v=n(287),y=l.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(option){this._fillOption(option,this.getMapType()),y.superApply(this,"init",arguments),this.updateSelectedMap(option.data)},getInitialData:function(option){var t=h(["value"],option.data||[]),e=new r(t,this);return e.initData(option.data),e},mergeOption:function(t){this._fillOption(t,this.getMapType()),y.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(option,t){option.data=v.getFilledRegions(option.data,t,option.nameMap)},getRawValue:function(t){return this.getData().get("value",t)},getRegionModel:function(t){var data=this.getData();return data.getItemModel(data.indexOfName(t))},formatTooltip:function(t){for(var data=this.getData(),e=f(this.getRawValue(t)),n=data.getName(t),o=this.seriesGroup,r=[],i=0;i<o.length;i++){var l=o[i].originalData.indexOfName(n);isNaN(o[i].originalData.get("value",l))||r.push(d(o[i].name))}return r.join(", ")+"<br />"+d(n+" : "+e)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,o=n.getRegion(e);return o&&n.dataToPoint(o.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});o.mixin(y,m);var x=y;t.exports=x},function(t,e,n){var o=n(219),r=n(228),l=n(356),h=n(367),c=[n(531),n(532),n(533),n(534)];function d(t,map,e,n,r){h.call(this,t),this.map=map,this._nameCoordMap=o.createHashMap(),this.loadGeoJson(e,n,r)}function f(t,e,n,o){var r=n.geoModel,l=n.seriesModel,h=r?r.coordinateSystem:l?l.coordinateSystem||(l.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return h===this?h[t](o):null}d.prototype={constructor:d,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,n){try{this.regions=t?l(t):[]}catch(t){throw"Invalid geoJson format\n"+t.message}e=e||{},n=n||{};for(var r=this.regions,h=o.createHashMap(),i=0;i<r.length;i++){var d=r[i].name;d=n.hasOwnProperty(d)?n[d]:d,r[i].name=d,h.set(d,r[i]),this.addGeoCoord(d,r[i].center);var f=e[d];f&&r[i].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=h,this._rect=null,o.each(c,(function(t){t(this)}),this)},transformTo:function(t,e,n,o){var rect=this.getBoundingRect();(rect=rect.clone()).y=-rect.y-rect.height;var l=this._viewTransform;l.transform=rect.calculateTransform(new r(t,e,n,o)),l.decomposeTransform();var h=l.scale;h[1]=-h[1],l.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var rect,t=this.regions,i=0;i<t.length;i++){var e=t[i].getBoundingRect();(rect=rect||e.clone()).union(e)}return this._rect=rect||new r(0,0,0,0)},dataToPoint:function(data){if("string"==typeof data&&(data=this.getGeoCoord(data)),data)return h.prototype.dataToPoint.call(this,data)},convertToPixel:o.curry(f,"dataToPoint"),convertFromPixel:o.curry(f,"pointToData")},o.mixin(d,h);var m=d;t.exports=m},function(t,e,n){for(var o=n(219),r=n(357),l=[126,25],h=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<h.length;i++)for(var c=0;c<h[i].length;c++)h[i][c][0]/=10.5,h[i][c][1]/=-14,h[i][c][0]+=l[0],h[i][c][1]+=l[1];t.exports=function(t){"china"===t.map&&t.regions.push(new r("",o.map(h,(function(t){return{type:"polygon",exterior:t}})),l))}},function(t,e,n){var o=n(219),r={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t){o.each(t.regions,(function(t){var e=r[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}}))}},function(t,e,n){var o=n(219),r={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t){o.each(t.regions,(function(t){var e=r[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}}))}},function(t,e){var n=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=function(t){if("china"===t.map)for(var i=0,e=t.regions.length;i<e;++i)""===t.regions[i].name&&t.regions[i].geometries.push({type:"polygon",exterior:n[0]})}},function(t,e,n){var o=n(220),r=n(219),l=n(221),h=n(368),c=o.extendChartView({type:"map",render:function(t,e,n,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===t.id)(l=this._mapDraw)&&r.add(l.group);else if(t.needsDrawMap){var l=this._mapDraw||new h(n,!0);r.add(l.group),l.draw(t,e,n,this,o),this._mapDraw=l}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var o=t.originalData,h=this.group;o.each("value",(function(e,n){if(!isNaN(e)){var c=o.getItemLayout(n);if(c&&c.point){var d=c.point,f=c.offset,circle=new l.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:d[0]+9*f,cy:d[1],r:3},silent:!0,z2:f?8:10});if(!f){var m=t.mainSeries.getData(),v=o.getName(n),y=m.indexOfName(v),x=o.getItemModel(n),_=x.getModel("label.normal"),w=x.getModel("label.emphasis"),S=m.getItemGraphicEl(y),M=r.retrieve2(t.getFormattedLabel(n,"normal"),v),I=r.retrieve2(t.getFormattedLabel(n,"emphasis"),M),T=function(){var t=l.setTextStyle({},w,{text:w.get("show")?I:null},{isRectText:!0,useInsideStyle:!1},!0);circle.style.extendFrom(t),circle.__mapOriginalZ2=circle.z2,circle.z2+=1},A=function(){l.setTextStyle(circle.style,_,{text:_.get("show")?M:null,textPosition:_.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=circle.__mapOriginalZ2&&(circle.z2=circle.__mapOriginalZ2,circle.__mapOriginalZ2=null)};S.on("mouseover",T).on("mouseout",A).on("emphasis",T).on("normal",A),A()}h.add(circle)}}}))}});t.exports=c},function(t,e,n){var o=n(219);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var l={};o.each(n.seriesGroup,(function(e){var n=e.coordinateSystem,data=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&data.each("value",(function(t,e){var o=data.getName(e),r=n.getRegion(o);if(r&&!isNaN(t)){var h=l[o]||0,c=n.dataToPoint(r.center);l[o]=h+1,data.setItemLayout(e,{point:c,offset:h})}}))}));var data=n.getData();data.each((function(t){var e=data.getName(t),n=data.getItemLayout(t)||{};n.showLabel=!l[e],data.setItemLayout(t,n)})),e[r]=!0}}))}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",(function(t){var e=t.get("color"),n=t.getModel("itemStyle.normal"),o=n.get("areaColor"),r=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:o,color:r})}))}},function(t,e,n){var o=n(219);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),o=n?"o"+n.id:"i"+t.getMapType();(e[o]=e[o]||[]).push(t)})),o.each(e,(function(t,e){for(var n,r,l,h,data=(n=o.map(t,(function(t){return t.getData()})),r=t[0].get("mapValueCalculation"),l={},h=["value"],o.each(n,(function(data){data.each(h,(function(t,e){var n="ec-"+data.getName(e);l[n]=l[n]||[],isNaN(t)||l[n].push(t)}))})),n[0].map(h,(function(t,e){for(var o,h="ec-"+n[0].getName(e),c=0,d=1/0,f=-1/0,m=l[h].length,i=0;i<m;i++)d=Math.min(d,l[h][i]),f=Math.max(f,l[h][i]),c+=l[h][i];return o="min"===r?d:"max"===r?f:"average"===r?c/m:c,0===m?NaN:o}))),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(data.cloneShallow()),t[i].mainSeries=t[0]}))}},function(t,e,n){var o=n(219);t.exports=function(option){var t=[];o.each(option.series,(function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,o.defaults(e,e.mapLocation))}))}},function(t,e,n){var o=n(220),r=n(219);n(541),n(542),n(543);var l=n(254),h=n(544),c=n(546);o.registerVisual(r.curry(l,"tree","circle",null)),o.registerLayout(h),o.registerLayout(c)},function(t,e,n){var o=n(234),r=n(373),l=n(227).encodeHTML,h=o.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(option){var t={name:option.name,children:option.data},e=option.leaves||{},n={};n.leaves=e;var o=r.createTree(t,this,n),l=0;o.eachNode("preorder",(function(t){t.depth>l&&(l=t.depth)}));var h=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:l;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=h})),o.data},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],o=e.getNodeByDataIndex(t),r=o.getValue(),h=o.name;o&&o!==n;)h=o.parentNode.name+"."+h,o=o.parentNode;return l(h+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});t.exports=h},function(t,e,n){var o=n(219),r=n(221),l=n(283),h=n(375).radialCoordinate,c=n(220).extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new r.Group,this.group.add(this._mainGroup)},render:function(t,e,n,o){var data=t.getData(),r=t.layoutInfo,l=this._mainGroup,h=t.get("layout");"radial"===h?l.attr("position",[r.x+r.width/2,r.y+r.height/2]):l.attr("position",[r.x,r.y]);var c=this._data,f={expandAndCollapse:t.get("expandAndCollapse"),layout:h,orient:t.get("orient"),curvature:t.get("lineStyle.normal.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};data.diff(c).add((function(e){d(data,e)&&m(data,e,null,l,t,f)})).update((function(e,n){var o=c.getItemGraphicEl(n);d(data,e)?m(data,e,o,l,t,f):o&&v(data,e,o,l,t,f)})).remove((function(e){var n=c.getItemGraphicEl(e);v(data,e,n,l,t,f)})).execute(),!0===f.expandAndCollapse&&data.eachItemGraphicEl((function(e,o){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:o})}))})),this._data=data},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}});function d(data,t){var e=data.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)&&"none"!==data.getItemVisual(t,"symbol")}function f(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle.normal").getItemStyle(),n.hoverItemStyle=e.getModel("itemStyle.emphasis").getItemStyle(),n.lineStyle=e.getModel("lineStyle.normal").getLineStyle(),n.labelModel=e.getModel("label.normal"),n.hoverLabelModel=e.getModel("label.emphasis"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function m(data,t,e,n,h,c){var d=!e,m=data.tree.getNodeByDataIndex(t),v=m.getModel(),x=(c=f(m,v,c),data.tree.root),source=m.parentNode===x?m:m.parentNode||m,_=data.getItemGraphicEl(source.dataIndex),w=source.getLayout(),S=_?{x:_.position[0],y:_.position[1],rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:w,M=m.getLayout();d?(e=new l(data,t,c)).attr("position",[S.x,S.y]):e.updateData(data,t,c),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=M.rawX,e.__radialRawY=M.rawY,n.add(e),data.setItemGraphicEl(t,e),r.updateProps(e,{position:[M.x,M.y]},h);var I=e.getSymbolPath();if("radial"===c.layout){var T,A,C=x.children[0],L=C.getLayout(),D=C.children.length;if(M.x===L.x&&!0===m.isExpand){var P={};P.x=(C.children[0].getLayout().x+C.children[D-1].getLayout().x)/2,P.y=(C.children[0].getLayout().y+C.children[D-1].getLayout().y)/2,(T=Math.atan2(P.y-L.y,P.x-L.x))<0&&(T=2*Math.PI+T),(A=P.x<L.x)&&(T-=Math.PI)}else(T=Math.atan2(M.y-L.y,M.x-L.x))<0&&(T=2*Math.PI+T),0===m.children.length||0!==m.children.length&&!1===m.isExpand?(A=M.x<L.x)&&(T-=Math.PI):(A=M.x>L.x)||(T-=Math.PI);var k=A?"left":"right";I.setStyle({textPosition:k,textRotation:-T,textOrigin:"center",verticalAlign:"middle"})}if(m.parentNode&&m.parentNode!==x){var O=e.__edge;O||(O=e.__edge=new r.BezierCurve({shape:y(c,S,S),style:o.defaults({opacity:0},c.lineStyle)})),r.updateProps(O,{shape:y(c,w,M),style:{opacity:1}},h),n.add(O)}}function v(data,t,e,n,o,l){for(var h,c=data.tree.getNodeByDataIndex(t),d=data.tree.root,m=c.getModel(),source=(l=f(c,m,l),c.parentNode===d?c:c.parentNode||c);null==(h=source.getLayout());)source=source.parentNode===d?source:source.parentNode||source;r.updateProps(e,{position:[h.x+1,h.y+1]},o,(function(){n.remove(e),data.setItemGraphicEl(t,null)})),e.fadeOut(null,{keepLabel:!0});var v=e.__edge;v&&r.updateProps(v,{shape:y(l,h,h),style:{opacity:0}},o,(function(){n.remove(v)}))}function y(t,e,n){var o,r,l,c,d=t.orient;if("radial"===t.layout){var f=e.rawX,m=e.rawY,v=n.rawX,y=n.rawY,x=h(f,m),_=h(f,m+(y-m)*t.curvature),w=h(v,y+(m-y)*t.curvature),S=h(v,y);return{x1:x.x,y1:x.y,x2:S.x,y2:S.y,cpx1:_.x,cpy1:_.y,cpx2:w.x,cpy2:w.y}}f=e.x,m=e.y,v=n.x,y=n.y;return"horizontal"===d&&(o=f+(v-f)*t.curvature,r=m,l=v+(f-v)*t.curvature,c=y),"vertical"===d&&(o=f,r=m+(y-m)*t.curvature,l=v,c=y+(m-y)*t.curvature),{x1:f,y1:m,x2:v,y2:y,cpx1:o,cpy1:r,cpx2:l,cpy2:c}}t.exports=c},function(t,e,n){n(220).registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,o=e.getData().tree.getNodeByDataIndex(n);o.isExpand=!o.isExpand}))}))},function(t,e,n){var o=n(376);t.exports=function(t,e){t.eachSeriesByType("tree",(function(t){o(t,e)}))}},function(t,e){e.eachAfter=function(t,e,n){for(var o,r=[t],l=[];o=r.pop();)if(l.push(o),o.isExpand){var h=o.children;if(h.length)for(var i=0;i<h.length;i++)r.push(h[i])}for(;o=l.pop();)e(o,n)},e.eachBefore=function(t,e){for(var n,o=[t];n=o.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var i=r.length-1;i>=0;i--)o.push(r[i])}}},function(t,e,n){var o=n(376);t.exports=function(t,e){t.eachSeriesByType("tree",(function(t){o(t,e)}))}},function(t,e,n){var o=n(220);n(548),n(549),n(552);var r=n(553),l=n(554);o.registerVisual(r),o.registerLayout(l)},function(t,e,n){var o=n(219),r=n(234),l=n(373),h=n(229),c=n(227),d=c.encodeHTML,f=c.addCommas,m=n(270).wrapTreePathInfo,v=r.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(option,t){var e={name:option.name,children:option.data};!function t(e){var n=0;o.each(e.children,(function(e){t(e);var r=e.value;o.isArray(r)&&(r=r[0]),n+=r}));var r=e.value;o.isArray(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);o.isArray(e.value)?e.value[0]=r:e.value=r}(e);var n=option.levels||[];n=option.levels=function(t,e){var n,r=e.get("color");if(!r)return;if(t=t||[],o.each(t,(function(t){var e=new h(t),o=e.get("color");(e.get("itemStyle.normal.color")||o&&"none"!==o)&&(n=!0)})),!n){(t[0]||(t[0]={})).color=r.slice()}return t}(n,t);var r={};return r.levels=n,l.createTree(e,this,r).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var data=this.getData(),e=this.getRawValue(t),n=o.isArray(e)?f(e[0]):f(e),r=data.getName(t);return d(r+": "+n)},getDataParams:function(t){var e=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=m(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=v},function(t,e,n){var o=n(220),r=n(219),l=n(221),h=n(261),c=n(270),d=n(550),f=n(288),m=n(228),v=n(236),y=n(551),x=n(259),_=r.bind,w=l.Group,S=l.Rect,M=r.each,I=["label","normal"],T=["label","emphasis"],A=["upperLabel","normal"],C=["upperLabel","emphasis"],L=10,D=1,P=2,k=x([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),O=function(t){var e=k(t);return e.stroke=e.fill=e.lineWidth=null,e},E=o.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,o){var l=e.findComponents({mainType:"series",subType:"treemap",query:o});if(!(r.indexOf(l,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var h=c.retrieveTargetInfo(o,t),d=o&&o.type,f=t.layoutInfo,m=!this._oldTree,v=this._storage,y="treemapRootToNode"===d&&h&&v?{rootNodeGroup:v.nodeGroup[h.node.getRawIndex()],direction:o.direction}:null,x=this._giveContainerGroup(f),_=this._doRender(x,t,y);m||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?_.renderFinally():this._doAnimation(x,_,t,y),this._resetController(n),this._renderBreadcrumb(t,n,h)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new w,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var o=e.getData().tree,l=this._oldTree,c={nodeGroup:[],background:[],content:[]},d={nodeGroup:[],background:[],content:[]},f=this._storage,m=[],v=r.curry(z,e,d,f,n,c,m);!function t(e,n,o,l,c){l?(n=e,M(e,(function(t,e){!t.isRemoved()&&f(e,e)}))):new h(n,e,d,d).add(f).update(f).remove(r.curry(f,null)).execute();function d(t){return t.getId()}function f(r,h){var d=null!=r?e[r]:null,f=null!=h?n[h]:null,m=v(d,f,o,c);m&&t(d&&d.viewChildren||[],f&&f.viewChildren||[],m,l,c+1)}}(o.root?[o.root]:[],l&&l.root?[l.root]:[],t,o===l||!l,0);var y=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&M(t,(function(t,n){var o=e[n];M(t,(function(t){t&&(o.push(t),t.__tmWillDelete=1)}))})),e}(f);return this._oldTree=o,this._storage=d,{lastsForAnimation:c,willDeleteEls:y,renderFinally:function(){M(y,(function(t){M(t,(function(t){t.parent&&t.parent.remove(t)}))})),M(m,(function(t){t.invisible=!0,t.dirty()}))}}},_doAnimation:function(t,e,n,o){if(n.get("animation")){var l=n.get("animationDurationUpdate"),h=n.get("animationEasing"),c=y.createWrap();M(e.willDeleteEls,(function(t,e){M(t,(function(t,n){if(!t.invisible){var r,d=t.parent;if(o&&"drillDown"===o.direction)r=d===o.rootNodeGroup?{shape:{x:0,y:0,width:d.__tmNodeWidth,height:d.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,m=0;d.__tmWillDelete||(f=d.__tmNodeWidth/2,m=d.__tmNodeHeight/2),r="nodeGroup"===e?{position:[f,m],style:{opacity:0}}:{shape:{x:f,y:m,width:0,height:0},style:{opacity:0}}}r&&c.add(t,r,l,h)}}))})),M(this._storage,(function(t,n){M(t,(function(t,o){var d=e.lastsForAnimation[n][o],f={};d&&("nodeGroup"===n?d.old&&(f.position=t.position.slice(),t.attr("position",d.old)):(d.old&&(f.shape=r.extend({},t.shape),t.setShape(d.old)),d.fadein?(t.setStyle("opacity",0),f.style={opacity:1}):1!==t.style.opacity&&(f.style={opacity:1})),c.add(t,f,l,h))}))}),this),this._state="animating",c.done(_((function(){this._state="ready",e.renderFinally()}),this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new f(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",_(this._onPan,this)),e.on("zoom",_(this._onZoom,this)));var rect=new m(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,n){return rect.contain(e,n)}))},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+t,y:o.y+e,width:o.width,height:o.height}})}},_onZoom:function(t,e,n){if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var r=o.getLayout();if(!r)return;var rect=new m(r.x,r.y,r.width,r.height),l=this.seriesModel.layoutInfo;e-=l.x,n-=l.y;var h=v.create();v.translate(h,h,[-e,-n]),v.scale(h,h,[t,t]),v.translate(h,h,[e,n]),rect.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},_initEvents:function(t){t.on("click",(function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var r=o.hostTree.data.getItemModel(o.dataIndex),link=r.get("link",!0),l=r.get("target",!0)||"blank";link&&window.open(link,l)}}}}}),this)},_renderBreadcrumb:function(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new d(this.group))).render(t,e,n.node,_((function(e){"animating"!==this._state&&(c.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(o){var r=this._storage.background[o.getRawIndex()];if(r){var l=r.transformCoordToLocal(t,e),h=r.shape;if(!(h.x<=l[0]&&l[0]<=h.x+h.width&&h.y<=l[1]&&l[1]<=h.y+h.height))return!1;n={node:o,offsetX:l[0],offsetY:l[1]}}}),this),n}});function z(t,e,n,o,h,c,d,f,m,v){if(d){var y=d.getLayout();if(y&&y.isInView){var x=y.width,_=y.height,M=y.borderWidth,L=y.invisible,E=d.getRawIndex(),z=f&&f.getRawIndex(),R=d.viewChildren,V=y.upperHeight,B=R&&R.length,G=d.getModel("itemStyle.normal"),H=d.getModel("itemStyle.emphasis"),W=j("nodeGroup",w);if(W){if(m.add(W),W.attr("position",[y.x||0,y.y||0]),W.__tmNodeWidth=x,W.__tmNodeHeight=_,y.isAboveViewRoot)return W;var F=j("background",S,v,D);if(F&&function(e,n,o){n.dataIndex=d.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:x,height:_});var r=d.getVisual("borderColor",!0),h=H.get("borderColor");Z(n,(function(){var t=O(G);t.fill=r;var e=k(H);if(e.fill=h,o){var c=x-2*M;U(t,e,r,c,V,{x:M,y:0,width:c,height:V})}else t.text=e.text=null;n.setStyle(t),l.setHoverStyle(n,e)})),e.add(n)}(W,F,B&&y.upperHeight),!B){var content=j("content",S,v,P);content&&function(e,content){content.dataIndex=d.dataIndex,content.seriesIndex=t.seriesIndex;var n=Math.max(x-2*M,0),o=Math.max(_-2*M,0);content.culling=!0,content.setShape({x:M,y:M,width:n,height:o});var r=d.getVisual("color",!0);Z(content,(function(){var t=O(G);t.fill=r;var e=k(H);U(t,e,r,n,o),content.setStyle(t),l.setHoverStyle(content,e)})),e.add(content)}(W,content)}return W}}}function Z(element,t){L?!element.invisible&&c.push(element):(t(),element.__tmWillVisible||(element.invisible=!1))}function U(e,n,o,h,c,f){var m=d.getModel(),text=r.retrieve(t.getFormattedLabel(d.dataIndex,"normal",null,null,f?"upperLabel":"label"),m.get("name"));if(!f&&y.isLeafRoot){var v=t.get("drillDownIcon",!0);text=v?v+" "+text:text}var x=m.getModel(f?A:I),_=m.getModel(f?C:T),w=x.getShallow("show");l.setLabelStyle(e,n,x,_,{defaultText:w?text:null,autoColor:o,isRectText:!0}),f&&(e.textRect=r.clone(f)),e.truncate=w&&x.get("ellipsis")?{outerWidth:h,outerHeight:c,minChar:2}:null}function j(t,l,c,f){var element=null!=z&&n[t][z],m=h[t];return element?(n[t][z]=null,function(t,element,e){(t[E]={}).old="nodeGroup"===e?element.position.slice():r.extend({},element.shape)}(m,element,t)):L||((element=new l({z:N(c,f)})).__tmDepth=c,element.__tmStorageName=t,function(t,element,e){var n=t[E]={},r=d.parentNode;if(r&&(!o||"drillDown"===o.direction)){var l=0,c=0,f=h.background[r.getRawIndex()];!o&&f&&f.old&&(l=f.old.width,c=f.old.height),n.old="nodeGroup"===e?[0,c]:{x:l,y:c,width:0,height:0}}n.fadein="nodeGroup"!==e}(m,0,t)),e[t][E]=element}}function N(t,e){var n=t*L+e;return(n-1)/n}t.exports=E},function(t,e,n){var o=n(221),r=n(225),l=n(219),h=n(270).wrapTreePathInfo,c=5;function d(t){this.group=new o.Group,t.add(this.group)}function f(t,e,n,o,head,r){var l=[[head?t:t-c,e],[t+n,e],[t+n,e+o],[head?t:t-c,e+o]];return!r&&l.splice(2,0,[t+n+c,e+o/2]),!head&&l.push([t,e+o/2]),l}function m(t,e,n){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&h(n,e)}}d.prototype={constructor:d,render:function(t,e,n,o){var l=t.getModel("breadcrumb"),h=this.group;if(h.removeAll(),l.get("show")&&n){var c=l.getModel("itemStyle.normal"),d=c.getModel("textStyle"),f={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,f,d),this._renderContent(t,f,c,d,o),r.positionElement(h,f.pos,f.box)}},_prepare:function(t,e,n){for(var o=t;o;o=o.parentNode){var text=o.getModel().get("name"),r=n.getTextRect(text),l=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=l+8,e.renderList.push({node:o,text:text,width:l})}},_renderContent:function(t,e,n,h,c){for(var d=0,v=e.emptyItemWidth,y=t.get("breadcrumb.height"),x=r.getAvailableSize(e.pos,e.box),_=e.totalWidth,w=e.renderList,i=w.length-1;i>=0;i--){var S=w[i],M=S.node,I=S.width,text=S.text;_>x.width&&(_-=I-v,I=v,text=null);var T=new o.Polygon({shape:{points:f(d,0,I,y,i===w.length-1,0===i)},style:l.defaults(n.getItemStyle(),{lineJoin:"bevel",text:text,textFill:h.getTextColor(),textFont:h.getFont()}),z:10,onclick:l.curry(c,M)});this.group.add(T),m(T,t,M),d+=I+8}},remove:function(){this.group.removeAll()}};var v=d;t.exports=v},function(t,e,n){var o=n(219);e.createWrap=function(){var t,e=[],n={};return{add:function(t,r,time,l,h){return o.isString(l)&&(h=l,l=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:r,time:time,delay:l,easing:h}),!0)},done:function(e){return t=e,this},start:function(){for(var o=e.length,i=0,r=e.length;i<r;i++){var l=e[i];l.el.animateTo(l.target,l.time,l.delay,l.easing,h)}return this;function h(){--o||(e.length=0,n={},t&&t())}}}}},function(t,e,n){for(var o=n(220),r=n(270),l=function(){},h=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<h.length;i++)o.registerAction({type:h[i],update:"updateView"},l);o.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var o=r.retrieveTargetInfo(t,e);if(o){var l=e.getViewRoot();l&&(t.direction=r.aboveViewRoot(l,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node)}}))}))},function(t,e,n){var o=n(257),r=n(242),l=n(219),h=l.isArray,c="itemStyle.normal";function d(t){var e=f(t,"color");if(e){var n=f(t,"colorAlpha"),o=f(t,"colorSaturation");return o&&(e=r.modifyHSL(e,null,null,o)),n&&(e=r.modifyAlpha(e,n)),e}}function f(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function m(t,e){var n=t.get(e);return h(n)&&n.length?{name:e,range:n}:null}t.exports=function(t,e,n){var h={mainType:"series",subType:"treemap",query:n};t.eachComponent(h,(function(t){var e=t.getData().tree,n=e.root,h=t.getModel(c);n.isRemoved()||function t(e,n,h,f,v,y){var x=e.getModel();var _=e.getLayout();if(!_||_.invisible||!_.isInView)return;var w=e.getModel(c);var S=h[e.depth];var M=function(t,e,n,o){var r=l.extend({},e);return l.each(["color","colorAlpha","colorSaturation"],(function(l){var h=t.get(l,!0);null==h&&n&&(h=n[l]),null==h&&(h=e[l]),null==h&&(h=o.get(l)),null!=h&&(r[l]=h)})),r}(w,n,S,f);var I=w.get("borderColor");var T=w.get("borderColorSaturation");var A;null!=T&&(A=d(M),I=function(t,e){return null!=e?r.modifyHSL(e,null,null,t):null}(T,A));e.setVisual("borderColor",I);var C=e.viewChildren;if(C&&C.length){var L=function(t,e,n,r,l,h){if(!h||!h.length)return;var c=m(e,"color")||null!=l.color&&"none"!==l.color&&(m(e,"colorAlpha")||m(e,"colorSaturation"));if(!c)return;var d=e.get("visualMin"),f=e.get("visualMax"),v=n.dataExtent.slice();null!=d&&d<v[0]&&(v[0]=d),null!=f&&f>v[1]&&(v[1]=f);var y=e.get("colorMappingBy"),x={type:c.name,dataExtent:v,visual:c.range};"color"!==x.type||"index"!==y&&"id"!==y?x.mappingMethod="linear":(x.mappingMethod="category",x.loop=!0);var _=new o(x);return _.__drColorMappingBy=y,_}(0,x,_,0,M,C);l.each(C,(function(e,n){if(e.depth>=v.length||e===v[e.depth]){var o=function(t,e,n,o,r,h){var c=l.extend({},e);if(r){var d=r.type,f="color"===d&&r.__drColorMappingBy,m="index"===f?o:"id"===f?h.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));c[d]=r.mapValueToVisual(m)}return c}(x,M,e,n,L,y);t(e,o,h,f,v,y)}}))}else A=d(M),e.setVisual("color",A)}(n,{},l.map(e.levelModels,(function(t){return t?t.get(c):null})),h,t.getViewRoot().getAncestors(),t)}))}},function(t,e,n){var o=n(219),r=n(228),l=n(222),h=l.parsePercent,c=l.MAX_SAFE_INTEGER,d=n(225),f=n(270),m=Math.max,v=Math.min,y=o.retrieve,x=o.each,_=["itemStyle","normal","borderWidth"],w=["itemStyle","normal","gapWidth"],S=["upperLabel","normal","show"],M=["upperLabel","normal","height"];function I(t,e,n){for(var area,o=0,r=1/0,i=0,l=t.length;i<l;i++)(area=t[i].getLayout().area)&&(area<r&&(r=area),area>o&&(o=area));var h=t.area*t.area,c=e*e*n;return h?m(c*o/h,h/(c*r)):1/0}function T(t,e,rect,n,o){var r=e===rect.width?0:1,l=1-r,h=["x","y"],c=["width","height"],d=rect[h[r]],f=e?t.area/e:0;(o||f>rect[c[l]])&&(f=rect[c[l]]);for(var i=0,y=t.length;i<y;i++){var x=t[i],_={},w=f?x.getLayout().area/f:0,S=_[c[l]]=m(f-2*n,0),M=rect[h[r]]+rect[c[r]]-d,I=i===y-1||M<w?M:w,T=_[c[r]]=m(I-2*n,0);_[h[l]]=rect[h[l]]+v(n,S/2),_[h[r]]=d+v(n,T/2),d+=I,x.setLayout(_,!0)}rect[h[l]]+=f,rect[c[l]]-=f}function A(t){return t.get(S)?t.get(M):0}t.exports=function(t,e,n){var l={mainType:"series",subType:"treemap",query:n};t.eachComponent(l,(function(t){var l=e.getWidth(),S=e.getHeight(),M=t.option,C=d.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),L=M.size||[],D=h(y(C.width,L[0]),l),P=h(y(C.height,L[1]),S),k=n&&n.type,O=f.retrieveTargetInfo(n,t),E="treemapRender"===k||"treemapMove"===k?n.rootRect:null,z=t.getViewRoot(),N=f.getPathToRoot(z);if("treemapMove"!==k){var R="treemapZoomToNode"===k?function(t,e,n,o,r){var l,h=(e||{}).node,d=[o,r];if(!h||h===n)return d;var f=o*r,area=f*t.option.zoomToNodeRatio;for(;l=h.parentNode;){for(var m=0,v=l.children,i=0,y=v.length;i<y;i++)m+=v[i].getValue();var x=h.getValue();if(0===x)return d;area*=m/x;var w=l.getModel(),S=w.get(_),M=Math.max(S,A(w));(area+=4*S*S+(3*S+M)*Math.pow(area,.5))>c&&(area=c),h=l}area<f&&(area=f);var I=Math.pow(area/f,.5);return[o*I,r*I]}(t,O,z,D,P):E?[E.width,E.height]:[D,P],V=M.sort;V&&"asc"!==V&&"desc"!==V&&(V="desc");var B={squareRatio:M.squareRatio,sort:V,leafDepth:M.leafDepth};z.hostTree.clearLayouts();var G={x:0,y:0,width:R[0],height:R[1],area:R[0]*R[1]};z.setLayout(G),function t(e,n,r,l){var h;var c;if(e.isRemoved())return;var d=e.getLayout();h=d.width;c=d.height;var f=e.getModel();var y=f.get(_);var S=f.get(w)/2;var M=A(f);var C=Math.max(y,M);var L=y-S;var D=C-S;f=e.getModel();e.setLayout({borderWidth:y,upperHeight:C,upperLabelHeight:M},!0);h=m(h-2*L,0);c=m(c-L-D,0);var P=h*c;var k=function(t,e,n,r,l,h){var c=t.children||[],d=r.sort;"asc"!==d&&"desc"!==d&&(d=null);var f=null!=r.leafDepth&&r.leafDepth<=h;if(l&&!f)return t.viewChildren=[];!function(t,e){e&&t.sort((function(a,b){var t="asc"===e?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===t?"asc"===e?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:t}))}(c=o.filter(c,(function(t){return!t.isRemoved()})),d);var m=function(t,e,n){for(var o=0,i=0,r=e.length;i<r;i++)o+=e[i].getValue();var l=t.get("visualDimension");if(e&&e.length)if("value"===l&&n)h=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&h.reverse();else{var h=[1/0,-1/0];x(e,(function(t){var e=t.getValue(l);e<h[0]&&(h[0]=e),e>h[1]&&(h[1]=e)}))}else h=[NaN,NaN];return{sum:o,dataExtent:h}}(e,c,d);if(0===m.sum)return t.viewChildren=[];if(m.sum=function(t,e,n,o,r){if(!o)return n;for(var l=t.get("visibleMin"),h=r.length,c=h,i=h-1;i>=0;i--){var d=r["asc"===o?h-i-1:i].getValue();d/n*e<l&&(c=i,n-=d)}return"asc"===o?r.splice(0,h-c):r.splice(c,h-c),n}(e,n,m.sum,d,c),0===m.sum)return t.viewChildren=[];for(var i=0,v=c.length;i<v;i++){var area=c[i].getValue()/m.sum*n;c[i].setLayout({area:area})}f&&(c.length&&t.setLayout({isLeafRoot:!0},!0),c.length=0);return t.viewChildren=c,t.setLayout({dataExtent:m.dataExtent},!0),c}(e,f,P,n,r,l);if(!k.length)return;var rect={x:L,y:D,width:h,height:c};var O=v(h,c);var E=1/0;var z=[];z.area=0;for(var i=0,N=k.length;i<N;){var R=k[i];z.push(R),z.area+=R.getLayout().area;var V=I(z,O,n.squareRatio);V<=E?(i++,E=V):(z.area-=z.pop().getLayout().area,T(z,O,rect,S,!1),O=v(rect.width,rect.height),z.length=z.area=0,E=1/0)}z.length&&T(z,O,rect,S,!0);if(!r){var B=f.get("childrenVisibleMin");null!=B&&P<B&&(r=!0)}for(i=0,N=k.length;i<N;i++)t(k[i],n,r,l+1)}(z,B,!1,0);G=z.getLayout();x(N,(function(t,e){var n=(N[e+1]||z).getValue();t.setLayout(o.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},G))}))}var H=t.getData().tree.root;H.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var o={x:0,y:0};if(!n)return o;var r=n.node,l=r.getLayout();if(!l)return o;var h=[l.width/2,l.height/2],c=r;for(;c;){var d=c.getLayout();h[0]+=d.x,h[1]+=d.y,c=c.parentNode}return{x:t.width/2-h[0],y:t.height/2-h[1]}}(C,E,O),!0),t.setLayoutInfo(C),function t(e,n,o,l,h){var c=e.getLayout();var d=o[h];var f=d&&d===e;if(d&&!f||h===o.length&&e!==l)return;e.setLayout({isInView:!0,invisible:!f&&!n.intersect(c),isAboveViewRoot:f},!0);var m=new r(n.x-c.x,n.y-c.y,n.width,n.height);x(e.viewChildren||[],(function(e){t(e,m,o,l,h+1)}))}(H,new r(-C.x,-C.y,l,S),N,z,0)}))}},function(t,e,n){var o=n(220),r=n(219);n(556),n(558),n(561);var l=n(562),h=n(254),c=n(563),d=n(564),f=n(565),m=n(566),v=n(567),y=n(569);o.registerProcessor(l),o.registerVisual(r.curry(h,"graph","circle",null)),o.registerVisual(c),o.registerVisual(d),o.registerLayout(f),o.registerLayout(m),o.registerLayout(v),o.registerCoordinateSystem("graphView",{create:y})},function(t,e,n){var o=n(220),r=n(233),l=n(219),h=n(224).defaultEmphasis,c=n(229),d=n(227).encodeHTML,f=n(377),m=o.extendSeriesModel({type:"series.graph",init:function(option){m.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},mergeOption:function(option){m.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(option){m.superApply(this,"mergeDefaultAndTheme",arguments),h(option.edgeLabel,["show"])},getInitialData:function(option,t){var e=option.edges||option.links||[],n=option.data||option.nodes||[],o=this;if(n&&e)return f(n,e,this,!0,(function(e,n){e.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var r=o.getModel("edgeLabel"),l=new c({label:r.option},r.parentModel,t);function h(path){return(path=this.parsePath(path))&&"label"===path[0]?l:this.parentModel}n.wrapMethod("getItemModel",(function(t){return t.customizeGetParent(h),t}))})).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var o=this.getData(),r=this.getDataParams(t,n),l=o.graph.getEdgeByIndex(t),h=o.getName(l.node1.dataIndex),c=o.getName(l.node2.dataIndex),html=[];return null!=h&&html.push(h),null!=c&&html.push(c),html=d(html.join(" > ")),r.value&&(html+=" : "+d(r.value)),html}return m.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=l.map(this.option.categories||[],(function(t){return null!=t.value?t:l.extend({value:0},t)})),e=new r(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return m.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}}),v=m;t.exports=v},function(t,e,n){n(223).__DEV__;var o=n(219);function r(t){return"_EC_"+t}var l=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},h=l.prototype;function c(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function d(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}h.type="graph",h.isDirected=function(){return this._directed},h.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[r(t)]){var o=new c(t,e);return o.hostGraph=this,this.nodes.push(o),n[r(t)]=o,o}},h.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},h.getNodeById=function(t){return this._nodesMap[r(t)]},h.addEdge=function(t,e,n){var o=this._nodesMap,l=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof c||(t=o[r(t)]),e instanceof c||(e=o[r(e)]),t&&e){var h=t.id+"-"+e.id;if(!l[h]){var f=new d(t,e,n);return f.hostGraph=this,this._directed&&(t.outEdges.push(f),e.inEdges.push(f)),t.edges.push(f),t!==e&&e.edges.push(f),this.edges.push(f),l[h]=f,f}}},h.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},h.getEdge=function(t,e){t instanceof c&&(t=t.id),e instanceof c&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},h.eachNode=function(t,e){for(var n=this.nodes,o=n.length,i=0;i<o;i++)n[i].dataIndex>=0&&t.call(e,n[i],i)},h.eachEdge=function(t,e){for(var n=this.edges,o=n.length,i=0;i<o;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&t.call(e,n[i],i)},h.breadthFirstTraverse=function(t,e,n,o){if(e instanceof c||(e=this._nodesMap[r(e)]),e){for(var l="out"===n?"outEdges":"in"===n?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!t.call(o,e,null))for(var h=[e];h.length;){var d=h.shift(),f=d[l];for(i=0;i<f.length;i++){var m=f[i],v=m.node1===d?m.node2:m.node1;if(!v.__visited){if(t.call(o,v,d))return;h.push(v),v.__visited=!0}}}}},h.update=function(){for(var data=this.data,t=this.edgeData,e=this.nodes,n=this.edges,i=0,o=e.length;i<o;i++)e[i].dataIndex=-1;for(i=0,o=data.count();i<o;i++)e[data.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var o=n[t.getRawIndex(e)];return o.node1.dataIndex>=0&&o.node2.dataIndex>=0}));for(i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)n[t.getRawIndex(i)].dataIndex=i},h.clone=function(){for(var t=new l(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var o=n[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},c.prototype={constructor:c,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(path){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(path)}},d.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(path)};var f=function(t,e){return{getValue:function(n){var data=this[t][e];return data.get(data.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,o){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,o)},getVisual:function(n,o){return this[t][e].getItemVisual(this.dataIndex,n,o)},setLayout:function(n,o){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,o)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};o.mixin(c,f("hostGraph","data")),o.mixin(d,f("hostGraph","edgeData")),l.Node=c,l.Edge=d;var m=l;t.exports=m},function(t,e,n){var o=n(220),r=n(219),l=n(268),h=n(323),c=n(288),d=n(370),f=n(322).onIrrelevantElement,m=n(221),v=n(560),y=["itemStyle","normal","opacity"],x=["lineStyle","normal","opacity"];function _(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function w(t,e,n){var o=t.getGraphicEl(),r=_(t,e);null!=n&&(null==r&&(r=1),r*=n),o.downplay&&o.downplay(),o.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",r)}))}function S(t,e){var n=_(t,e),o=t.getGraphicEl();o.highlight&&o.highlight(),o.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",n)}))}var M=o.extendChartView({type:"graph",init:function(t,e){var n=new l,o=new h,r=this.group;this._controller=new c(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(o.group),this._symbolDraw=n,this._lineDraw=o,this._firstRender=!0},render:function(t,e,n){var o=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var r=this._symbolDraw,l=this._lineDraw,h=this.group;if("view"===o.type){var c={position:o.position,scale:o.scale};this._firstRender?h.attr(c):m.updateProps(h,c,t)}v(t.getGraph(),this._getNodeGlobalScale(t));var data=t.getData();r.updateData(data);var d=t.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var f=t.forceLayout,y=t.get("force.layoutAnimation");f&&this._startForceLayoutIteration(f,y),data.eachItemGraphicEl((function(e,o){var r=data.getItemModel(o);e.off("drag").off("dragend");var l=data.getItemModel(o).get("draggable");l&&e.on("drag",(function(){f&&(f.warmUp(),!this._layouting&&this._startForceLayoutIteration(f,y),f.setFixed(o),data.setItemLayout(o,e.position))}),this).on("dragend",(function(){f&&f.setUnfixed(o)}),this),e.setDraggable(l&&f),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),r.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}),this),data.graph.eachEdge((function(e){var o=e.getGraphicEl();o.off("mouseover",o.__focusNodeAdjacency),o.off("mouseout",o.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o.__focusNodeAdjacency=function(){n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),o.on("mouseout",o.__unfocusNodeAdjacency=function(){n.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))}));var x="circular"===t.get("layout")&&t.get("circular.rotateLabel"),_=data.getLayout("cx"),w=data.getLayout("cy");data.eachItemGraphicEl((function(t,e){var n=t.getSymbolPath();if(x){var o=data.getItemLayout(e),r=Math.atan2(o[1]-w,o[0]-_);r<0&&(r=2*Math.PI+r);var l=o[0]<_;l&&(r-=Math.PI);var h=l?"left":"right";n.setStyle({textRotation:-r,textPosition:h,textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=h)}else n.setStyle({textRotation:0})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,n,o){var l=this._model.getData().graph,h=o.dataIndex,c=o.edgeDataIndex,d=l.getNodeByIndex(h),f=l.getEdgeByIndex(c);(d||f)&&(l.eachNode((function(t){w(t,y,.1)})),l.eachEdge((function(t){w(t,x,.1)})),d&&(S(d,y),r.each(d.edges,(function(t){t.dataIndex<0||(S(t,x),S(t.node1,y),S(t.node2,y))}))),f&&(S(f,x),S(f.node1,y),S(f.node2,y)))},unfocusNodeAdjacency:function(t,e,n,o){var r=this._model.getData().graph;r.eachNode((function(t){w(t,y)})),r.eachEdge((function(t){w(t,x)}))},_startForceLayoutIteration:function(t,e){var n=this;!function o(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(o,16):o())}))}()},_updateController:function(t,e,n){var o=this._controller,r=this._controllerHost,l=this.group;o.setPointerChecker((function(e,o,r){var rect=l.getBoundingRect();return rect.applyTransform(l.transform),rect.contain(o,r)&&!f(e,n,t)})),"view"===t.coordinateSystem.type?(o.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e,o){d.updateViewOnPan(r,e,o),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:o})})).on("zoom",(function(e,o,l){d.updateViewOnZoom(r,e,o,l),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:o,originY:l}),this._updateNodeAndLinkScale(),v(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()}),this)):o.disable()},_updateNodeAndLinkScale:function(){var t=this._model,data=t.getData(),e=this._getNodeGlobalScale(t),n=[e,e];data.eachItemGraphicEl((function(t,e){t.attr("scale",n)}))},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,o=e.scale,r=o&&o[0]||1;return((e.getZoom()-1)*n+1)/r},updateLayout:function(t){v(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=M},function(t,e,n){var o=n(221),r=n(226),l=o.Line.prototype,h=o.BezierCurve.prototype;function c(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var d=o.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(c(e)?l:h).buildPath(t,e)},pointAt:function(t){return c(this.shape)?l.pointAt.call(this,t):h.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,p=c(e)?[e.x2-e.x1,e.y2-e.y1]:h.tangentAt.call(this,t);return r.normalize(p,p)}});t.exports=d},function(t,e,n){var o=n(245),r=n(226),l=[],h=[],c=[],d=o.quadraticAt,f=r.distSquare,m=Math.abs;function v(t,e,n){for(var o,r=t[0],v=t[1],y=t[2],x=1/0,_=n*n,w=.1,S=.1;S<=.9;S+=.1){l[0]=d(r[0],v[0],y[0],S),l[1]=d(r[1],v[1],y[1],S),(I=m(f(l,e)-_))<x&&(x=I,o=S)}for(var i=0;i<32;i++){var M=o+w;h[0]=d(r[0],v[0],y[0],o),h[1]=d(r[1],v[1],y[1],o),c[0]=d(r[0],v[0],y[0],M),c[1]=d(r[1],v[1],y[1],M);var I=f(h,e)-_;if(m(I)<.01)break;var T=f(c,e)-_;w/=2,I<0?T>=0?o+=w:o-=w:T>=0?o-=w:o+=w}return o}t.exports=function(t,e){var n=[],l=o.quadraticSubdivide,h=[[],[],[]],c=[[],[]],d=[];function f(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}e/=2,t.eachEdge((function(t,o){var m=t.getLayout(),y=t.getVisual("fromSymbol"),x=t.getVisual("toSymbol");m.__original||(m.__original=[r.clone(m[0]),r.clone(m[1])],m[2]&&m.__original.push(r.clone(m[2])));var _=m.__original;if(null!=m[2]){if(r.copy(h[0],_[0]),r.copy(h[1],_[2]),r.copy(h[2],_[1]),y&&"none"!=y){var w=f(t.node1),S=v(h,_[0],w*e);l(h[0][0],h[1][0],h[2][0],S,n),h[0][0]=n[3],h[1][0]=n[4],l(h[0][1],h[1][1],h[2][1],S,n),h[0][1]=n[3],h[1][1]=n[4]}if(x&&"none"!=x){w=f(t.node2),S=v(h,_[1],w*e);l(h[0][0],h[1][0],h[2][0],S,n),h[1][0]=n[1],h[2][0]=n[2],l(h[0][1],h[1][1],h[2][1],S,n),h[1][1]=n[1],h[2][1]=n[2]}r.copy(m[0],h[0]),r.copy(m[1],h[2]),r.copy(m[2],h[1])}else{if(r.copy(c[0],_[0]),r.copy(c[1],_[1]),r.sub(d,c[1],c[0]),r.normalize(d,d),y&&"none"!=y){w=f(t.node1);r.scaleAndAdd(c[0],c[0],d,w*e)}if(x&&"none"!=x){w=f(t.node2);r.scaleAndAdd(c[1],c[1],d,-w*e)}r.copy(m[0],c[0]),r.copy(m[1],c[1])}}))}},function(t,e,n){var o=n(220),r=n(372).updateCenterAndZoom;o.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,o=r(n,t);e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom)}))})),o.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},(function(){})),o.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},(function(){}))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),data=t.getGraph().data,o=n.mapArray(n.getName);data.filterSelf((function(t){var n=data.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=o[n]);for(var i=0;i<e.length;i++)if(!e[i].isSelected(n))return!1}return!0}))}),this)}},function(t,e){t.exports=function(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),data=t.getData(),o={};n.each((function(r){var l=n.getName(r);o["ec-"+l]=r;var h=n.getItemModel(r).get("itemStyle.normal.color")||t.getColorFromPalette(l,e);n.setItemVisual(r,"color",h)})),n.count()&&data.each((function(t){var e=data.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=o["ec-"+e]),data.getItemVisual(t,"color",!0)||data.setItemVisual(t,"color",n.getItemVisual(e,"color")))}))}))}},function(t,e){function n(a){return a instanceof Array||(a=[a,a]),a}t.exports=function(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),o=t.getEdgeData(),r=n(t.get("edgeSymbol")),l=n(t.get("edgeSymbolSize")),h="lineStyle.normal.color".split("."),c="lineStyle.normal.opacity".split(".");o.setVisual("fromSymbol",r&&r[0]),o.setVisual("toSymbol",r&&r[1]),o.setVisual("fromSymbolSize",l&&l[0]),o.setVisual("toSymbolSize",l&&l[1]),o.setVisual("color",t.get(h)),o.setVisual("opacity",t.get(c)),o.each((function(t){var r=o.getItemModel(t),l=e.getEdgeByIndex(t),d=n(r.getShallow("symbol",!0)),f=n(r.getShallow("symbolSize",!0)),m=r.get(h),v=r.get(c);switch(m){case"source":m=l.node1.getVisual("color");break;case"target":m=l.node2.getVisual("color")}d[0]&&l.setVisual("fromSymbol",d[0]),d[1]&&l.setVisual("toSymbol",d[1]),f[0]&&l.setVisual("fromSymbolSize",f[0]),f[1]&&l.setVisual("toSymbolSize",f[1]),l.setVisual("color",m),l.setVisual("opacity",v)}))}))}},function(t,e,n){var o=n(378),r=o.simpleLayout,l=o.simpleLayoutEdge;t.exports=function(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var data=t.getData(),o=n.dimensions;data.each(o,(function(){for(var t,e=arguments,r=[],i=0;i<o.length;i++)isNaN(e[i])||(t=!0),r.push(e[i]);var l=e[e.length-1];t?data.setItemLayout(l,n.dataToPoint(r)):data.setItemLayout(l,[NaN,NaN])})),l(data.graph)}else e&&"none"!==e||r(t)}))}},function(t,e,n){var o=n(379).circularLayout;t.exports=function(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&o(t)}))}},function(t,e,n){var o=n(568).forceLayout,r=n(378).simpleLayout,l=n(379).circularLayout,h=n(222).linearMap,c=n(226),d=n(219);t.exports=function(t){t.eachSeriesByType("graph",(function(t){if(!(M=t.coordinateSystem)||"view"===M.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},n=t.getGraph(),f=n.data,m=n.edgeData,v=t.getModel("force"),y=v.get("initLayout");t.preservedPoints?f.each((function(t){var n=f.getId(t);f.setItemLayout(t,e[n]||[NaN,NaN])})):y&&"none"!==y?"circular"===y&&l(t):r(t);var x=f.getDataExtent("value"),_=m.getDataExtent("value"),w=v.get("repulsion"),S=v.get("edgeLength");d.isArray(w)||(w=[w,w]),d.isArray(S)||(S=[S,S]),S=[S[1],S[0]];var M,I=f.mapArray("value",(function(t,e){var n=f.getItemLayout(e),o=h(t,x,w);return isNaN(o)&&(o=(w[0]+w[1])/2),{w:o,rep:o,fixed:f.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),T=m.mapArray("value",(function(t,e){var o=n.getEdgeByIndex(e),r=h(t,_,S);return isNaN(r)&&(r=(S[0]+S[1])/2),{n1:I[o.node1.dataIndex],n2:I[o.node2.dataIndex],d:r,curveness:o.getModel().get("lineStyle.normal.curveness")||0}})),rect=(M=t.coordinateSystem).getBoundingRect(),A=o(I,T,{rect:rect,gravity:v.get("gravity")}),C=A.step;A.step=function(t){for(var i=0,o=I.length;i<o;i++)I[i].fixed&&c.copy(I[i].p,n.getNodeByIndex(i).getLayout());C((function(o,r,l){for(var i=0,h=o.length;i<h;i++)o[i].fixed||n.getNodeByIndex(i).setLayout(o[i].p),e[f.getId(i)]=o[i].p;for(i=0,h=r.length;i<h;i++){var d=r[i],m=n.getEdgeByIndex(i),v=d.n1.p,y=d.n2.p,x=m.getLayout();(x=x?x.slice():[])[0]=x[0]||[],x[1]=x[1]||[],c.copy(x[0],v),c.copy(x[1],y),+d.curveness&&(x[2]=[(v[0]+y[0])/2-(v[1]-y[1])*d.curveness,(v[1]+y[1])/2-(y[0]-v[0])*d.curveness]),m.setLayout(x)}t&&t(l)}))},t.forceLayout=A,t.preservedPoints=e,A.step()}else t.forceLayout=null}))}},function(t,e,n){var o=n(226),r=o.scaleAndAdd;e.forceLayout=function(t,e,n){for(var rect=n.rect,l=rect.width,h=rect.height,c=[rect.x+l/2,rect.y+h/2],d=null==n.gravity?.1:n.gravity,i=0;i<t.length;i++){var f=t[i];f.p||(f.p=o.create(l*(Math.random()-.5)+c[0],h*(Math.random()-.5)+c[1])),f.pp=o.clone(f.p),f.edges=null}var m=.6;return{warmUp:function(){m=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var l=[],h=t.length,i=0;i<e.length;i++){var f=e[i],v=f.n1,y=f.n2;o.sub(l,y.p,v.p);var x=o.len(l)-f.d,_=y.w/(v.w+y.w);isNaN(_)&&(_=0),o.normalize(l,l),!v.fixed&&r(v.p,v.p,l,_*x*m),!y.fixed&&r(y.p,y.p,l,-(1-_)*x*m)}for(i=0;i<h;i++){(I=t[i]).fixed||(o.sub(l,c,I.p),r(I.p,I.p,l,d*m))}for(i=0;i<h;i++){v=t[i];for(var w=i+1;w<h;w++){y=t[w];o.sub(l,y.p,v.p),0===(x=o.len(l))&&(o.set(l,Math.random()-.5,Math.random()-.5),x=1);var S=(v.rep+y.rep)/x/x;!v.fixed&&r(v.pp,v.pp,l,S),!y.fixed&&r(y.pp,y.pp,l,-S)}}var M=[];for(i=0;i<h;i++){var I;(I=t[i]).fixed||(o.sub(M,I.p,I.pp),r(I.p,I.p,M,m),o.copy(I.pp,I.p))}m*=.992,n&&n(t,e,m<.01)}}}},function(t,e,n){var o=n(367),r=n(225).getLayoutRect,l=n(314);t.exports=function(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var h=t.get("coordinateSystem");if(!h||"view"===h){var data=t.getData(),c=data.mapArray((function(t){var e=data.getItemModel(t);return[+e.get("x"),+e.get("y")]})),d=[],f=[];l.fromPoints(c,d,f),f[0]-d[0]==0&&(f[0]+=1,d[0]-=1),f[1]-d[1]==0&&(f[1]+=1,d[1]-=1);var m=(f[0]-d[0])/(f[1]-d[1]),v=function(t,e,n){var option=t.getBoxLayoutParams();return option.aspect=n,r(option,{width:e.getWidth(),height:e.getHeight()})}(t,e,m);isNaN(m)&&(d=[v.x,v.y],f=[v.x+v.width,v.y+v.height]);var y=f[0]-d[0],x=f[1]-d[1],_=v.width,w=v.height,S=t.coordinateSystem=new o;S.zoomLimit=t.get("scaleLimit"),S.setBoundingRect(d[0],d[1],y,x),S.setViewRect(v.x,v.y,_,w),S.setCenter(t.get("center")),S.setZoom(t.get("zoom")),n.push(S)}})),n}},function(t,e,n){n(571),n(572)},function(t,e,n){var o=n(233),r=n(234),l=n(219),h=r.extend({type:"series.gauge",getInitialData:function(option,t){var e=new o(["value"],this),n=option.data||[];return l.isArray(n)||(n=[n]),e.initData(n),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});t.exports=h},function(t,e,n){var o=n(573),r=n(221),l=n(246),h=n(222),c=h.parsePercent,d=h.round,f=h.linearMap;function m(label,t){return t&&("string"==typeof t?label=t.replace("{value}",null!=label?label:""):"function"==typeof t&&(label=t(label))),label}var v=2*Math.PI,y=l.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var o=t.get("axisLine.lineStyle.color"),r=function(t,e){var n=t.get("center"),o=e.getWidth(),r=e.getHeight(),l=Math.min(o,r);return{cx:c(n[0],e.getWidth()),cy:c(n[1],e.getHeight()),r:c(t.get("radius"),l/2)}}(t,n);this._renderMain(t,e,n,o,r)},dispose:function(){},_renderMain:function(t,e,n,o,l){for(var h=this.group,c=t.getModel("axisLine").getModel("lineStyle"),d=t.get("clockwise"),f=-t.get("startAngle")/180*Math.PI,m=((_=-t.get("endAngle")/180*Math.PI)-f)%v,y=f,x=c.get("width"),i=0;i<o.length;i++){var _=f+m*Math.min(Math.max(o[i][0],0),1),w=new r.Sector({shape:{startAngle:y,endAngle:_,cx:l.cx,cy:l.cy,clockwise:d,r0:l.r-x,r:l.r},silent:!0});w.setStyle({fill:o[i][1]}),w.setStyle(c.getLineStyle(["color","borderWidth","borderColor"])),h.add(w),y=_}var S=function(t){if(t<=0)return o[0][1];for(var i=0;i<o.length;i++)if(o[i][0]>=t&&(0===i?0:o[i-1][0])<t)return o[i][1];return o[i-1][1]};if(!d){var M=f;f=_,_=M}this._renderTicks(t,e,n,S,l,f,_,d),this._renderPointer(t,e,n,S,l,f,_,d),this._renderTitle(t,e,n,S,l),this._renderDetail(t,e,n,S,l)},_renderTicks:function(t,e,n,o,l,h,f,v){for(var y=this.group,x=l.cx,_=l.cy,w=l.r,S=+t.get("min"),M=+t.get("max"),I=t.getModel("splitLine"),T=t.getModel("axisTick"),A=t.getModel("axisLabel"),C=t.get("splitNumber"),L=T.get("splitNumber"),D=c(I.get("length"),w),P=c(T.get("length"),w),k=h,O=(f-h)/C,E=O/L,z=I.getModel("lineStyle").getLineStyle(),N=T.getModel("lineStyle").getLineStyle(),i=0;i<=C;i++){var R=Math.cos(k),V=Math.sin(k);if(I.get("show")){var B=new r.Line({shape:{x1:R*w+x,y1:V*w+_,x2:R*(w-D)+x,y2:V*(w-D)+_},style:z,silent:!0});"auto"===z.stroke&&B.setStyle({stroke:o(i/C)}),y.add(B)}if(A.get("show")){var label=m(d(i/C*(M-S)+S),A.get("formatter")),G=A.get("distance"),H=o(i/C);y.add(new r.Text({style:r.setTextStyle({},A,{text:label,x:R*(w-D-G)+x,y:V*(w-D-G)+_,textVerticalAlign:V<-.4?"top":V>.4?"bottom":"middle",textAlign:R<-.4?"left":R>.4?"right":"center"},{autoColor:H}),silent:!0}))}if(T.get("show")&&i!==C){for(var W=0;W<=L;W++){R=Math.cos(k),V=Math.sin(k);var F=new r.Line({shape:{x1:R*w+x,y1:V*w+_,x2:R*(w-P)+x,y2:V*(w-P)+_},silent:!0,style:N});"auto"===N.stroke&&F.setStyle({stroke:o((i+W/L)/C)}),y.add(F),k+=E}k-=E}else k+=O}},_renderPointer:function(t,e,n,l,h,d,m,v){var y=this.group,x=this._data;if(t.get("pointer.show")){var _=[+t.get("min"),+t.get("max")],w=[d,m],data=t.getData();data.diff(x).add((function(e){var n=new o({shape:{angle:d}});r.initProps(n,{shape:{angle:f(data.get("value",e),_,w,!0)}},t),y.add(n),data.setItemGraphicEl(e,n)})).update((function(e,n){var o=x.getItemGraphicEl(n);r.updateProps(o,{shape:{angle:f(data.get("value",e),_,w,!0)}},t),y.add(o),data.setItemGraphicEl(e,o)})).remove((function(t){var e=x.getItemGraphicEl(t);y.remove(e)})).execute(),data.eachItemGraphicEl((function(t,e){var n=data.getItemModel(e),o=n.getModel("pointer");t.setShape({x:h.cx,y:h.cy,width:c(o.get("width"),h.r),r:c(o.get("length"),h.r)}),t.useStyle(n.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",l(f(data.get("value",e),_,[0,1],!0))),r.setHoverStyle(t,n.getModel("itemStyle.emphasis").getItemStyle())})),this._data=data}else x&&x.eachItemGraphicEl((function(t){y.remove(t)}))},_renderTitle:function(t,e,n,o,l){var h=t.getModel("title");if(h.get("show")){var d=h.get("offsetCenter"),m=l.cx+c(d[0],l.r),v=l.cy+c(d[1],l.r),y=+t.get("min"),x=+t.get("max"),_=t.getData().get("value",0),w=o(f(_,[y,x],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},h,{x:m,y:v,text:t.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:w,forceRich:!0})}))}},_renderDetail:function(t,e,n,o,l){var h=t.getModel("detail"),d=+t.get("min"),v=+t.get("max");if(h.get("show")){var y=h.get("offsetCenter"),x=l.cx+c(y[0],l.r),_=l.cy+c(y[1],l.r),w=c(h.get("width"),l.r),S=c(h.get("height"),l.r),M=t.getData().get("value",0),I=o(f(M,[d,v],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},h,{x:x,y:_,text:m(M,h.get("formatter")),textWidth:isNaN(w)?null:w,textHeight:isNaN(S)?null:S,textAlign:"center",textVerticalAlign:"middle"},{autoColor:I,forceRich:!0})}))}}});t.exports=y},function(t,e,n){var o=n(231).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,o=Math.sin,r=e.r,l=e.width,h=e.angle,c=e.x-n(h)*l*(l>=r/3?1:2),d=e.y-o(h)*l*(l>=r/3?1:2);h=e.angle-Math.PI/2,t.moveTo(c,d),t.lineTo(e.x+n(h)*l,e.y+o(h)*l),t.lineTo(e.x+n(e.angle)*r,e.y+o(e.angle)*r),t.lineTo(e.x-n(h)*l,e.y-o(h)*l),t.lineTo(c,d)}});t.exports=o},function(t,e,n){var o=n(220),r=n(219);n(575),n(576);var l=n(321),h=n(577),c=n(286);o.registerVisual(r.curry(l,"funnel")),o.registerLayout(h),o.registerProcessor(r.curry(c,"funnel"))},function(t,e,n){var o=n(220),r=n(233),l=n(224).defaultEmphasis,h=n(239),c=o.extendSeriesModel({type:"series.funnel",init:function(option){c.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(option)},getInitialData:function(option,t){var e=h(["value"],option.data),n=new r(e,this);return n.initData(option.data),n},_defaultLabelLine:function(option){l(option.labelLine,["show"]);var t=option.labelLine.normal,e=option.labelLine.emphasis;t.show=t.show&&option.label.normal.show,e.show=e.show&&option.label.emphasis.show},getDataParams:function(t){var data=this.getData(),e=c.superCall(this,"getDataParams",t),n=data.getSum("value");return e.percent=n?+(data.get("value",t)/n*100).toFixed(2):0,e.$vars.push("percent"),e},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}}),d=c;t.exports=d},function(t,e,n){var o=n(221),r=n(219),l=n(246);function h(data,t){o.Group.call(this);var polygon=new o.Polygon,e=new o.Polyline,text=new o.Text;function n(){e.ignore=e.hoverIgnore,text.ignore=text.hoverIgnore}function r(){e.ignore=e.normalIgnore,text.ignore=text.normalIgnore}this.add(polygon),this.add(e),this.add(text),this.updateData(data,t,!0),this.on("emphasis",n).on("normal",r).on("mouseover",n).on("mouseout",r)}var c=h.prototype,d=["itemStyle","normal","opacity"];c.updateData=function(data,t,e){var polygon=this.childAt(0),n=data.hostModel,l=data.getItemModel(t),h=data.getItemLayout(t),c=data.getItemModel(t).get(d);c=null==c?1:c,polygon.useStyle({}),e?(polygon.setShape({points:h.points}),polygon.setStyle({opacity:0}),o.initProps(polygon,{style:{opacity:c}},n,t)):o.updateProps(polygon,{style:{opacity:c},shape:{points:h.points}},n,t);var f=l.getModel("itemStyle"),m=data.getItemVisual(t,"color");polygon.setStyle(r.defaults({lineJoin:"round",fill:m},f.getModel("normal").getItemStyle(["opacity"]))),polygon.hoverStyle=f.getModel("emphasis").getItemStyle(),this._updateLabel(data,t),o.setHoverStyle(this)},c._updateLabel=function(data,t){var e=this.childAt(1),n=this.childAt(2),r=data.hostModel,l=data.getItemModel(t),h=data.getItemLayout(t).label,c=data.getItemVisual(t,"color");o.updateProps(e,{shape:{points:h.linePoints||h.linePoints}},r,t),o.updateProps(n,{style:{x:h.x,y:h.y}},r,t),n.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10});var d=l.getModel("label.normal"),f=l.getModel("label.emphasis"),m=l.getModel("labelLine.normal"),v=l.getModel("labelLine.emphasis");c=data.getItemVisual(t,"color");o.setLabelStyle(n.style,n.hoverStyle={},d,f,{labelFetcher:data.hostModel,labelDataIndex:t,defaultText:data.getName(t),autoColor:c,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign}),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!f.get("show"),e.ignore=e.normalIgnore=!m.get("show"),e.hoverIgnore=!v.get("show"),e.setStyle({stroke:c}),e.setStyle(m.getModel("lineStyle").getLineStyle()),e.hoverStyle=v.getModel("lineStyle").getLineStyle()},r.inherits(h,o.Group);var f=l.extend({type:"funnel",render:function(t,e,n){var data=t.getData(),o=this._data,r=this.group;data.diff(o).add((function(t){var e=new h(data,t);data.setItemGraphicEl(t,e),r.add(e)})).update((function(t,e){var n=o.getItemGraphicEl(e);n.updateData(data,t),r.add(n),data.setItemGraphicEl(t,n)})).remove((function(t){var e=o.getItemGraphicEl(t);r.remove(e)})).execute(),this._data=data},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=f},function(t,e,n){var o=n(225),r=n(222),l=r.parsePercent,h=r.linearMap;t.exports=function(t,e,n){t.eachSeriesByType("funnel",(function(t){var data=t.getData(),n=t.get("sort"),r=function(t,e){return o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),c=function(data,t){for(var e=data.mapArray("value",(function(t){return t})),n=[],o="ascending"===t,i=0,r=data.count();i<r;i++)n[i]=i;return"function"==typeof t?n.sort(t):"none"!==t&&n.sort((function(a,b){return o?e[a]-e[b]:e[b]-e[a]})),n}(data,n),d=[l(t.get("minSize"),r.width),l(t.get("maxSize"),r.width)],f=data.getDataExtent("value"),m=t.get("min"),v=t.get("max");null==m&&(m=Math.min(f[0],0)),null==v&&(v=f[1]);var y=t.get("funnelAlign"),x=t.get("gap"),_=(r.height-x*(data.count()-1))/data.count(),w=r.y,S=function(t,e){var n,o=data.get("value",t)||0,l=h(o,[m,v],d,!0);switch(y){case"left":n=r.x;break;case"center":n=r.x+(r.width-l)/2;break;case"right":n=r.x+r.width-l}return[[n,e],[n+l,e]]};"ascending"===n&&(_=-_,x=-x,w+=r.height,c=c.reverse());for(var i=0;i<c.length;i++){var M=c[i],I=c[i+1],T=S(M,w),A=S(I,w+_);w+=_+x,data.setItemLayout(M,{points:T.concat(A.slice().reverse())})}!function(data){data.each((function(t){var e,n,o,r,l=data.getItemModel(t),h=l.getModel("label.normal").get("position"),c=l.getModel("labelLine.normal"),d=data.getItemLayout(t),f=d.points,m="inner"===h||"inside"===h||"center"===h;if(m)e="center",r=[[n=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,o=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4],[n,o]];else{var v,y,x,_=c.get("length");"left"===h?(v=(f[3][0]+f[0][0])/2,y=(f[3][1]+f[0][1])/2,n=(x=v-_)-5,e="right"):(v=(f[1][0]+f[2][0])/2,y=(f[1][1]+f[2][1])/2,n=(x=v+_)+5,e="left");r=[[v,y],[x,y]],o=y}d.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:e,inside:m}}))}(data)}))}},function(t,e,n){var o=n(220);n(380),n(587),n(588);var r=n(589);o.registerVisual(r)},function(t,e,n){var o=n(219),r=n(224);t.exports=function(option){!function(option){if(option.parallel)return;var t=!1;o.each(option.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(option.parallel=[{}])}(option),function(option){var t=r.normalizeToArray(option.parallelAxis);o.each(t,(function(t){if(o.isObject(t)){var e=t.parallelIndex||0,n=r.normalizeToArray(option.parallel)[e];n&&n.parallelAxisDefault&&o.merge(t,n.parallelAxisDefault,!1)}}))}(option)}},function(t,e,n){var o=n(219),r=n(236),l=n(225),h=n(237),c=n(581),d=n(221),f=n(222),m=n(271),v=o.each,y=Math.min,x=Math.max,_=Math.floor,w=Math.ceil,S=f.round,M=Math.PI;function I(t,e,n){this._axesMap=o.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function T(t,e){return y(x(t,e[0]),e[1])}function A(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function C(t,e){var n,o,r=e.layoutLength,l=e.axisExpandWidth,h=e.axisCount,c=e.axisCollapseWidth,d=e.winInnerIndices,f=c,m=!1;return t<d[0]?(n=t*c,o=c):t<=d[1]?(n=e.axisExpandWindow0Pos+t*l-e.axisExpandWindow[0],f=l,m=!0):(n=r-(h-1-t)*c,o=c),{position:n,axisNameAvailableWidth:f,axisLabelShow:m,nameTruncateMaxWidth:o}}I.prototype={type:"parallel",constructor:I,_init:function(t,e,n){var o=t.dimensions,r=t.parallelAxisIndex;v(o,(function(t,n){var o=r[n],l=e.getComponent("parallelAxis",o),d=this._axesMap.set(t,new c(t,h.createScaleByModel(l),[0,0],l.get("type"),o)),f="category"===d.type;d.onBand=f&&l.get("boundaryGap"),d.inverse=l.get("inverse"),l.axis=d,d.model=l,d.coordinateSystem=l.coordinateSystem=this}),this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,o=e.layoutBase,r=e.pixelDimIndex,l=t[1-r],h=t[r];return l>=n&&l<=n+e.axisLength&&h>=o&&h<=o+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var data=n.getData();v(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(data,t),h.niceScaleExtent(e.scale,e.model)}),this)}}),this)},resize:function(t,e){this._rect=l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,rect=this._rect,n=["x","y"],o=["width","height"],r=e.get("layout"),l="horizontal"===r?0:1,h=rect[o[l]],c=[0,h],d=this.dimensions.length,f=T(e.get("axisExpandWidth"),c),m=T(e.get("axisExpandCount")||0,[0,d]),v=e.get("axisExpandable")&&d>3&&d>m&&m>1&&f>0&&h>0,y=e.get("axisExpandWindow");y?(t=T(y[1]-y[0],c),y[1]=y[0]+t):(t=T(f*(m-1),c),(y=[f*(e.get("axisExpandCenter")||_(d/2))-t/2])[1]=y[0]+t);var x=(h-t)/(d-m);x<3&&(x=0);var M=[_(S(y[0]/f,1))+1,w(S(y[1]/f,1))-1],I=x/f*y[0];return{layout:r,pixelDimIndex:l,layoutBase:rect[n[l]],layoutLength:h,axisBase:rect[n[1-l]],axisLength:rect[o[1-l]],axisExpandable:v,axisExpandWidth:f,axisCollapseWidth:x,axisExpandWindow:y,axisCount:d,winInnerIndices:M,axisExpandWindow0Pos:I}},_layoutAxes:function(){var rect=this._rect,t=this._axesMap,e=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;t.each((function(t){var e=[0,n.axisLength],o=t.inverse?1:0;t.setExtent(e[o],e[1-o])})),v(e,(function(e,l){var h=(n.axisExpandable?C:A)(l,n),c={horizontal:{x:h.position,y:n.axisLength},vertical:{x:0,y:h.position}},d={horizontal:M/2,vertical:0},f=[c[o].x+rect.x,c[o].y+rect.y],m=d[o],v=r.create();r.rotate(v,v,m),r.translate(v,v,f),this._axesLayout[e]={position:f,rotation:m,transform:v,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:t.get(e).getLabelInterval()}}),this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(data,t,e){for(var n=this.dimensions,o=this._axesMap,r=this.hasAxisBrushed(),i=0,l=data.count();i<l;i++){var h,c=data.getValues(n,i);if(r){h="active";for(var d=0,f=n.length;d<f;d++){var m=n[d];if("inactive"===o.get(m).model.getActiveState(c[d],d)){h="inactive";break}}}else h="normal";t.call(e,h,i)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,o=0,r=t.length;o<r;o++)"normal"!==e.get(t[o]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return d.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return o.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,o=e.axisExpandWindow.slice(),r=o[1]-o[0],l=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:o};var h,c=t[n]-e.layoutBase-e.axisExpandWindow0Pos,d="slide",f=e.axisCollapseWidth,v=this._model.get("axisExpandSlideTriggerArea"),_=null!=v[0];if(f)_&&f&&c<r*v[0]?(d="jump",h=c-r*v[2]):_&&f&&c>r*(1-v[0])?(d="jump",h=c-r*(1-v[2])):(h=c-r*v[1])>=0&&(h=c-r*(1-v[1]))<=0&&(h=0),(h*=e.axisExpandWidth/f)?m(h,o,l,"all"):d="none";else{r=o[1]-o[0];(o=[x(0,l[1]*c/r-r/2)])[1]=y(l[1],o[0]+r),o[0]=o[1]-r}return{axisExpandWindow:o,behavior:d}}};var L=I;t.exports=L},function(t,e,n){var o=n(219),r=n(248),l=function(t,e,n,o,l){r.call(this,t,e,n),this.type=o||"value",this.axisIndex=l};l.prototype={constructor:l,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(219),r=n(232);n(583);var l=r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&o.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){o.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=o.filter(this.dependentModels.parallelAxis,(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);o.each(n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))}});t.exports=l},function(t,e,n){var o=n(219),r=n(232),l=n(259),h=n(284),c=n(222),d=n(262),f=r.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return l([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=o.clone(t);if(e)for(var i=e.length-1;i>=0;i--)c.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;i<n;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});o.merge(f.prototype,d),h("parallel",f,(function(t,option){return option.type||(option.data?"category":"value")}),{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var m=f;t.exports=m},function(t,e,n){n(381),n(585),n(586)},function(t,e,n){var o=n(220);o.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),o.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))},function(t,e,n){var o=n(220),r=n(219),l=n(255),h=n(325),c=n(382),d=n(221),f=["axisLine","axisTickLabel","axisName"],m=o.extendComponentView({type:"parallelAxis",init:function(t,e){m.superApply(this,"init",arguments),(this._brushController=new h(e.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(t,e,n,o){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,o)){this.axisModel=t,this.api=n,this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new d.Group,this.group.add(this._axisGroup),t.get("show")){var c=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),m=c.coordinateSystem,v=t.getAreaSelectStyle(),y=v.width,x=t.axis.dim,_=m.getAxisLayout(x),w=r.extend({strokeContainThreshold:y},_),S=new l(t,w);r.each(f,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(w,v,t,c,y,n);var M=o&&!1===o.animation?null:t;d.groupTransition(h,this._axisGroup,M)}}},updateVisual:function(t,e,n,o){this._brushController&&this._brushController.updateCovers(v(t))},_refreshBrushController:function(t,e,n,o,r,l){var h=n.axis.getExtent(),f=h[1]-h[0],m=Math.min(30,.1*Math.abs(f)),rect=d.BoundingRect.create({x:h[0],y:-r/2,width:f,height:r});rect.x-=m,rect.width+=2*m,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:c.makeRectPanelClipPath(rect),isTargetByCursor:c.makeRectIsTargetByCursor(rect,l,o),getLinearBrushOtherExtent:c.makeLinearBrushOtherExtent(rect,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(v(n))},_onBrush:function(t,e){var n=this.axisModel,o=n.axis,l=r.map(t,(function(t){return[o.coordToData(t.range[0],!0),o.coordToData(t.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:l})},dispose:function(){this._brushController.dispose()}});function v(t){var e=t.axis;return r.map(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}var y=m;t.exports=y},function(t,e,n){var o=n(233),r=n(219),l=n(234),h=n(239),c=l.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(option,t){var e=t.getComponent("parallel",this.get("parallelIndex")),n=e.parallelAxisIndex,l=option.data,c=e.dimensions,f=function(t,e){var n=0;r.each(t,(function(t){var e=d(t);e>n&&(n=e)}));var o=e[0];o&&o.length-1>n&&(n=o.length-1);for(var l=[],i=0;i<=n;i++)l.push("dim"+i);return l}(c,l),m=r.map(f,(function(e,o){var f=r.indexOf(c,e),m=f>=0&&t.getComponent("parallelAxis",n[f]);return m&&"category"===m.get("type")?(function(t,e,n){var o=t.get("data"),l=d(e);o&&o.length&&r.each(n,(function(t){if(t){var e=r.indexOf(o,t[l]);t[l]=e>=0?e:NaN}}))}(m,e,l),{name:e,type:"ordinal"}):f<0&&h.guessOrdinal(l,o)?{name:e,type:"ordinal"}:e})),v=new o(m,this);return v.initData(l),this.option.progressive&&(this.option.animation=!1),v},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,data=this.getData(),n=[];return e.eachActiveState(data,(function(e,o){t===e&&n.push(data.getRawIndex(o))})),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});function d(t){return+t.replace("dim","")}t.exports=c},function(t,e,n){var o=n(221),r=n(219),l=n(246);function h(data,t,e,n){for(var o,r=[],i=0;i<e.length;i++){var l=e[i],h=data.get(l,t);o=h,("category"===n.getAxis(l).type?null==o:null==o||isNaN(o))||r.push(n.dataToPoint(h,l))}return r}var c=l.extend({type:"parallel",init:function(){this._dataGroup=new o.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,n,o){this._renderForNormal(t,o)},dispose:function(){},_renderForNormal:function(t,e){var n=this._dataGroup,data=t.getData(),l=this._data,c=t.coordinateSystem,d=c.dimensions,f=t.option.smooth?.3:null;if(data.diff(l).add((function(t){!function(data,t,e,n,r){var l=h(data,e,n,r),line=new o.Polyline({shape:{points:l},silent:!0,z2:10});t.add(line),data.setItemGraphicEl(e,line)}(data,n,t,d,c)})).update((function(n,r){var line=l.getItemGraphicEl(r),f=h(data,n,d,c);data.setItemGraphicEl(n,line);var m=e&&!1===e.animation?null:t;o.updateProps(line,{shape:{points:f}},m,n)})).remove((function(t){var line=l.getItemGraphicEl(t);n.remove(line)})).execute(),function(data,t){var e=data.hostModel.getModel("lineStyle.normal"),n=e.getLineStyle();data.eachItemGraphicEl((function(line,o){if(data.hasItemOption){var l=data.getItemModel(o).getModel("lineStyle.normal",e);n=l.getLineStyle(["color","stroke"])}line.useStyle(r.extend(n,{fill:null,stroke:data.getItemVisual(o,"color"),opacity:data.getItemVisual(o,"opacity")})),line.shape.smooth=t}))}(data,f),!this._data){var m=function(t,e,n){var r=t.model,rect=t.getRect(),l=new o.Rect({shape:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}}),h="horizontal"===r.get("layout")?"width":"height";return l.setShape(h,0),o.initProps(l,{shape:{width:rect.width,height:rect.height}},e,n),l}(c,t,(function(){setTimeout((function(){n.removeClipPath()}))}));n.setClipPath(m)}this._data=data},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=c},function(t,e){var n=["lineStyle","normal","opacity"];t.exports=function(t){t.eachSeriesByType("parallel",(function(e){var o=e.getModel("itemStyle.normal"),r=e.getModel("lineStyle.normal"),l=t.get("color"),h=r.get("color")||o.get("color")||l[e.seriesIndex%l.length],c=e.get("inactiveOpacity"),d=e.get("activeOpacity"),f=e.getModel("lineStyle.normal").getLineStyle(),m=e.coordinateSystem,data=e.getData(),v={normal:f.opacity,active:d,inactive:c};m.eachActiveState(data,(function(t,e){var o=data.getItemModel(e),r=v[t];if("normal"===t){var l=o.get(n,!0);null!=l&&(r=l)}data.setItemVisual(e,"opacity",r)})),data.setVisual("color",h)}))}},function(t,e,n){var o=n(220);n(591),n(592);var r=n(593),l=n(594);o.registerLayout(r),o.registerVisual(l)},function(t,e,n){var o=n(234),r=n(377),l=n(227).encodeHTML,h=o.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(option){var t=option.edges||option.links,e=option.data||option.nodes;if(e&&t)return r(e,t,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var o=this.getDataParams(t,n),r=o.data,html=r.source+" -- "+r.target;return o.value&&(html+=" : "+o.value),l(html)}return h.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),c=h;t.exports=c},function(t,e,n){var o=n(221),r=n(220),l=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var n=e.extent/2;t.moveTo(e.x1,e.y1-n),t.bezierCurveTo(e.cpx1,e.cpy1-n,e.cpx2,e.cpy2-n,e.x2,e.y2-n),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n),t.closePath()}}),h=r.extendChartView({type:"sankey",_model:null,render:function(t,e,n){var r=t.getGraph(),h=this.group,c=t.layoutInfo,d=t.getData(),f=t.getData("edge");this._model=t,h.removeAll(),h.attr("position",[c.x,c.y]),r.eachEdge((function(e){var n=new l;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var r=e.getModel("lineStyle.normal"),c=r.get("curveness"),d=e.node1.getLayout(),m=e.node2.getLayout(),v=e.getLayout();n.shape.extent=Math.max(1,v.dy);var y=d.x+d.dx,x=d.y+v.sy+v.dy/2,_=m.x,w=m.y+v.ty+v.dy/2,S=y*(1-c)+_*c,M=x,I=y*c+_*(1-c),T=w;switch(n.setShape({x1:y,y1:x,x2:_,y2:w,cpx1:S,cpy1:M,cpx2:I,cpy2:T}),n.setStyle(r.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}o.setHoverStyle(n,e.getModel("lineStyle.emphasis").getItemStyle()),h.add(n),f.setItemGraphicEl(e.dataIndex,n)})),r.eachNode((function(e){var n=e.getLayout(),r=e.getModel(),l=r.getModel("label.normal"),c=r.getModel("label.emphasis"),rect=new o.Rect({shape:{x:n.x,y:n.y,width:e.getLayout().dx,height:e.getLayout().dy},style:r.getModel("itemStyle.normal").getItemStyle()}),f=e.getModel("itemStyle.emphasis").getItemStyle();o.setLabelStyle(rect.style,f,l,c,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),rect.setStyle("fill",e.getVisual("color")),o.setHoverStyle(rect,f),h.add(rect),d.setItemGraphicEl(e.dataIndex,rect),rect.dataType="node"})),!this._data&&t.get("animation")&&h.setClipPath(function(rect,t,e){var n=new o.Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return o.initProps(n,{shape:{width:rect.width+20,height:rect.height+20}},t,e),n}(h.getBoundingRect(),t,(function(){h.removeClipPath()}))),this._data=t.getData()},dispose:function(){}});t.exports=h},function(t,e,n){var o=n(225),r=n(383),l=n(219);function h(t,e,n){l.each(t,(function(t){var o,r,i,l=0,h=t.length;for(t.sort(w),i=0;i<h;i++){if((r=l-(o=t[i]).getLayout().y)>0){var c=o.getLayout().y+r;o.setLayout({y:c},!0)}l=o.getLayout().y+o.getLayout().dy+e}if((r=l-e-n)>0){c=o.getLayout().y-r;for(o.setLayout({y:c},!0),l=o.getLayout().y,i=h-2;i>=0;--i)(r=(o=t[i]).getLayout().y+o.getLayout().dy+e-l)>0&&(c=o.getLayout().y-r,o.setLayout({y:c},!0)),l=o.getLayout().y}}))}function c(t,e){l.each(t.slice().reverse(),(function(t){l.each(t,(function(t){if(t.outEdges.length){var n=x(t.outEdges,d)/x(t.outEdges,M),o=t.getLayout().y+(n-_(t))*e;t.setLayout({y:o},!0)}}))}))}function d(t){return _(t.node2)*t.getValue()}function f(t,e){l.each(t,(function(t){l.each(t,(function(t){if(t.inEdges.length){var n=x(t.inEdges,m)/x(t.inEdges,M),o=t.getLayout().y+(n-_(t))*e;t.setLayout({y:o},!0)}}))}))}function m(t){return _(t.node1)*t.getValue()}function v(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function y(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function x(t,e){for(var n=0,o=t.length,i=-1;++i<o;){var r=+e.call(t,t[i],i);isNaN(r)||(n+=r)}return n}function _(t){return t.getLayout().y+t.getLayout().dy/2}function w(a,b){return a.getLayout().y-b.getLayout().y}function S(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function M(t){return t.getValue()}t.exports=function(t,e,n){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),d=t.get("nodeGap"),m=function(t,e){return o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=m;var _=m.width,w=m.height,I=t.getGraph(),T=I.nodes,A=I.edges;!function(t){l.each(t,(function(t){var e=x(t.outEdges,M),n=x(t.inEdges,M),o=Math.max(e,n);t.setLayout({value:o},!0)}))}(T),function(t,e,n,o,d,m,x){(function(t,e,n){var o=t,r=null,h=0;for(;o.length;){r=[];for(var i=0,c=o.length;i<c;i++){var d=o[i];d.setLayout({x:h},!0),d.setLayout({dx:e},!0);for(var f=0,m=d.outEdges.length;f<m;f++)r.push(d.outEdges[f].node2)}o=r,++h}(function(t,e){l.each(t,(function(t){t.outEdges.length||t.setLayout({x:e-1},!0)}))})(t,h),function(t,e){l.each(t,(function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)}))}(t,(n-e)/(h-1))})(t,n,d),function(t,e,n,o,d){var m=r().key((function(t){return t.getLayout().x})).sortKeys(S).entries(t).map((function(t){return t.values}));(function(t,e,n,o,r){var h=[];l.each(e,(function(t){var e=t.length,n=0;l.each(t,(function(t){n+=t.getLayout().value}));var c=(o-(e-1)*r)/n;h.push(c)})),h.sort((function(a,b){return a-b}));var c=h[0];l.each(e,(function(t){l.each(t,(function(t,i){t.setLayout({y:i},!0);var e=t.getLayout().value*c;t.setLayout({dy:e},!0)}))})),l.each(n,(function(t){var e=+t.getValue()*c;t.setLayout({dy:e},!0)}))})(0,m,e,n,o),h(m,o,n);for(var v=1;d>0;d--)c(m,v*=.99),h(m,o,n),f(m,v),h(m,o,n)}(t,e,m,o,x),function(t){l.each(t,(function(t){t.outEdges.sort(v),t.inEdges.sort(y)})),l.each(t,(function(t){var e=0,n=0;l.each(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),l.each(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t)}(T,A,n,d,_,w,0!==l.filter(T,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"))}))}},function(t,e,n){var o=n(257),r=n(219);t.exports=function(t,e){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph().nodes;e.sort((function(a,b){return a.getLayout().value-b.getLayout().value}));var n=e[0].getLayout().value,l=e[e.length-1].getLayout().value;r.each(e,(function(e){var r=new o({type:"color",mappingMethod:"linear",dataExtent:[n,l],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",r);var h=e.getModel().get("itemStyle.normal.color");null!=h&&e.setVisual("color",h)}))}))}},function(t,e,n){var o=n(220);n(596),n(598);var r=n(599),l=n(600);o.registerVisual(r),o.registerLayout(l)},function(t,e,n){var o=n(219),r=n(234),l=n(289).seriesModelMixin,h=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});o.mixin(h,l,!0);var c=h;t.exports=c},function(t,e,n){var o=n(219),r=n(221),l=n(231).extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(e.hasOwnProperty(i)&&0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}});function h(data,t,e,n){r.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=e,this._createContent(data,t,n),this.updateData(data,t,n),this._seriesModel}var c=h.prototype;function d(t,e,n){return o.map(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}function f(t){var e={};return o.each(t,(function(t,i){e["ends"+i]=t})),e}function m(t){this.group=new r.Group,this.styleUpdater=t}c._createContent=function(data,t,e){var n=data.getItemLayout(t),h="horizontal"===n.chartLayout?1:0,c=0;this.add(new r.Polygon({shape:{points:e?d(n.bodyEnds,h,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=c++;var m=o.map(n.whiskerEnds,(function(t){return e?d(t,h,n):t}));this.add(new l({shape:f(m),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=c++},c.updateData=function(data,t,e){var n=this._seriesModel=data.hostModel,o=data.getItemLayout(t),l=r[e?"initProps":"updateProps"];l(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},n,t),l(this.childAt(this.whiskerIndex),{shape:f(o.whiskerEnds)},n,t),this.styleUpdater.call(null,this,data,t)},o.inherits(h,r.Group);var v=m.prototype;v.updateData=function(data){var t=this.group,e=this._data,n=this.styleUpdater;data.diff(e).add((function(e){if(data.hasValue(e)){var o=new h(data,e,n,!0);data.setItemGraphicEl(e,o),t.add(o)}})).update((function(o,r){var l=e.getItemGraphicEl(r);data.hasValue(o)?(l?l.updateData(data,o):l=new h(data,o,n),t.add(l),data.setItemGraphicEl(o,l)):t.remove(l)})).remove((function(n){var o=e.getItemGraphicEl(n);o&&t.remove(o)})).execute(),this._data=data},v.remove=function(){var t=this.group,data=this._data;this._data=null,data&&data.eachItemGraphicEl((function(e){e&&t.remove(e)}))};var y=m;t.exports=y},function(t,e,n){var o=n(219),r=n(246),l=n(221),h=n(289).viewMixin,c=r.extend({type:"boxplot",getStyleUpdater:function(){return m},dispose:o.noop});o.mixin(c,h,!0);var d=["itemStyle","normal"],f=["itemStyle","emphasis"];function m(t,data,e){var n=data.getItemModel(e),o=n.getModel(d),r=data.getItemVisual(e,"color"),h=o.getItemStyle(["borderColor"]),c=t.childAt(t.whiskerIndex);c.style.set(h),c.style.stroke=r,c.dirty();var m=t.childAt(t.bodyIndex);m.style.set(h),m.style.stroke=r,m.dirty();var v=n.getModel(f).getItemStyle();l.setHoverStyle(t,v)}var v=c;t.exports=v},function(t,e){var n=["itemStyle","normal","borderColor"];t.exports=function(t,e){var o=t.get("color");t.eachRawSeriesByType("boxplot",(function(e){var r=o[e.seriesIndex%o.length],data=e.getData();data.setVisual({legendSymbol:"roundRect",color:e.get(n)||r}),t.isSeriesFiltered(e)||data.each((function(t){var e=data.getItemModel(t);data.setItemVisual(t,{color:e.get(n,!0)})}))}))}},function(t,e,n){var o=n(219),r=n(222).parsePercent,l=o.each;t.exports=function(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var r=t.getBaseAxis(),l=o.indexOf(n,r);l<0&&(l=n.length,n[l]=r,e[l]={axis:r,seriesModels:[]}),e[l].seriesModels.push(t)})),e}(t);l(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n,h=t.axis,c=t.seriesModels,d=c.length,f=t.boxWidthList=[],m=t.boxOffsetList=[],v=[];if("category"===h.type)n=h.getBandWidth();else{var y=0;l(c,(function(t){y=Math.max(y,t.getData().count())})),e=h.getExtent(),Math.abs(e[1]-e[0])}l(c,(function(t){var e=t.get("boxWidth");o.isArray(e)||(e=[e,e]),v.push([r(e[0],n)||0,r(e[1],n)||0])}));var x=.8*n-2,_=x/d*.3,w=(x-_*(d-1))/d,base=w/2-x/2;l(c,(function(t,e){m.push(base),base+=_+w,f.push(Math.min(Math.max(w,v[e][0]),v[e][1]))}))}(t),l(e,(function(e,n){!function(t,e,n){var r,l=t.coordinateSystem,data=t.getData(),h=n/2,c=t.get("layout"),d="horizontal"===c?0:1,f=1-d,m=["x","y"],v=[];if(o.each(data.dimensions,(function(t){var e=data.getDimensionInfo(t).coordDim;e===m[f]?v.push(t):e===m[d]&&(r=t)})),null==r||v.length<5)return;data.each([r].concat(v),(function(){var t=arguments,n=t[0],o=t[v.length+1],r=w(t[3]),m=w(t[1]),y=w(t[5]),x=[[m,w(t[2])],[y,w(t[4])]];M(m),M(y),M(r);var _=[];function w(t){var o,p=[];return p[d]=n,p[f]=t,isNaN(n)||isNaN(t)?o=[NaN,NaN]:(o=l.dataToPoint(p))[d]+=e,o}function S(t,e){var n=t.slice(),o=t.slice();n[d]+=h,o[d]-=h,e?_.push(n,o):_.push(o,n)}function M(t){var line=[t.slice(),t.slice()];line[0][d]-=h,line[1][d]+=h,x.push(line)}S(x[0][1],0),S(x[1][1],1),data.setItemLayout(o,{chartLayout:c,initBaseline:r[f],median:r,bodyEnds:_,whiskerEnds:x})}))}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}},function(t,e,n){var o=n(220);n(602),n(603);var r=n(604),l=n(605),h=n(606);o.registerPreprocessor(r),o.registerVisual(l),o.registerLayout(h)},function(t,e,n){var o=n(219),r=n(234),l=n(289).seriesModelMixin,h=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,data,e){var n=data.getItemLayout(t);return e.rect(n.brushRect)}});o.mixin(h,l,!0);var c=h;t.exports=c},function(t,e,n){var o=n(219),r=n(246),l=n(221),h=n(289).viewMixin,c=r.extend({type:"candlestick",getStyleUpdater:function(){return m},dispose:o.noop});o.mixin(c,h,!0);var d=["itemStyle","normal"],f=["itemStyle","emphasis"];function m(t,data,e){var n=data.getItemModel(e),o=n.getModel(d),r=data.getItemVisual(e,"color"),h=data.getItemVisual(e,"borderColor")||r,c=o.getItemStyle(["color","color0","borderColor","borderColor0"]),m=t.childAt(t.whiskerIndex);m.useStyle(c),m.style.stroke=h;var v=t.childAt(t.bodyIndex);v.useStyle(c),v.style.fill=r,v.style.stroke=h;var y=n.getModel(f).getItemStyle();l.setHoverStyle(t,y)}var v=c;t.exports=v},function(t,e,n){var o=n(219);t.exports=function(option){option&&o.isArray(option.series)&&o.each(option.series,(function(t){o.isObject(t)&&"k"===t.type&&(t.type="candlestick")}))}},function(t,e){var n=["itemStyle","normal","borderColor"],o=["itemStyle","normal","borderColor0"],r=["itemStyle","normal","color"],l=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",(function(e){var data=e.getData();data.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||data.each((function(t){var e=data.getItemModel(t),h=data.getItemLayout(t).sign;data.setItemVisual(t,{color:e.get(h>0?r:l),borderColor:e.get(h>0?n:o)})}))}))}},function(t,e,n){var o=n(219),r=n(222).parsePercent,l=n(221).subPixelOptimize,h=o.retrieve2;t.exports=function(t){t.eachSeriesByType("candlestick",(function(t){var e,n=t.coordinateSystem,data=t.getData(),c=function(t,data){var e,n=t.getBaseAxis(),o="category"===n.type?n.getBandWidth():(e=n.getExtent(),Math.abs(e[1]-e[0])/data.count()),l=r(h(t.get("barMaxWidth"),o),o),c=r(h(t.get("barMinWidth"),1),o),d=t.get("barWidth");return null!=d?r(d,o):Math.max(Math.min(o/2,l),c)}(t,data),d=t.get("layout"),f="horizontal"===d?0:1,m=1-f,v=["x","y"],y=[];if(o.each(data.dimensions,(function(t){var n=data.getDimensionInfo(t).coordDim;n===v[m]?y.push(t):n===v[f]&&(e=t)})),!(null==e||y.length<4)){var x=0;data.each([e].concat(y),(function(){var t,e=arguments,o=e[0],r=e[y.length+1],h=e[1],v=e[2],_=e[3],w=e[4],S=Math.min(h,v),M=Math.max(h,v),I=P(S),T=P(M),A=P(_),C=P(w),L=[[E(C),E(T)],[E(A),E(I)]],D=[];function P(t){var p=[];return p[f]=o,p[m]=t,isNaN(o)||isNaN(t)?[NaN,NaN]:n.dataToPoint(p)}function k(t,e){var n=t.slice(),o=t.slice();n[f]=l(n[f]+c/2,1,!1),o[f]=l(o[f]-c/2,1,!0),e?D.push(n,o):D.push(o,n)}function O(){var t=P(Math.min(h,v,_,w)),e=P(Math.max(h,v,_,w));return t[f]-=c/2,e[f]-=c/2,{x:t[0],y:t[1],width:m?c:e[0]-t[0],height:m?e[1]-t[1]:c}}function E(t){return t[f]=l(t[f],1),t}k(T,0),k(I,1),t=h>v?-1:h<v?1:x>0?data.getItemModel(x-1).get()[2]<=v?1:-1:1,data.setItemLayout(r,{chartLayout:d,sign:t,initBaseline:h>v?T[m]:I[m],bodyEnds:D,whiskerEnds:L,brushRect:O()}),++x}),!0)}}))}},function(t,e,n){var o=n(220),r=n(219);n(608),n(609);var l=n(254),h=n(317);o.registerVisual(r.curry(l,"effectScatter","circle",null)),o.registerLayout(r.curry(h,"effectScatter"))},function(t,e,n){var o=n(247),r=n(234).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(option,t){return o(option.data,this,t)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});t.exports=r},function(t,e,n){var o=n(220),r=n(268),l=n(610),h=o.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(l)},render:function(t,e,n){var data=t.getData(),o=this._symbolDraw;o.updateData(data),this.group.add(o.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=h},function(t,e,n){var o=n(219),r=n(238).createSymbol,l=n(221).Group,h=n(222).parsePercent,c=n(283);function d(t,e){t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})}))}function f(data,t){l.call(this);var symbol=new c(data,t),e=new l;this.add(symbol),this.add(e),e.beforeUpdate=function(){this.attr(symbol.getScale())},this.updateData(data,t)}var m=f.prototype;m.stopEffectAnimation=function(){this.childAt(1).removeAll()},m.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,o=this.childAt(1),i=0;i<3;i++){var l=r(e,-1,-1,2,2,n);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var h=-i/3*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(h).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(h).start(),o.add(l)}d(o,t)},m.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),o=["symbolType","period","rippleScale"],i=0;i<o.length;i++){var r=o[i];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}d(n,t)},m.highlight=function(){this.trigger("emphasis")},m.downplay=function(){this.trigger("normal")},m.updateData=function(data,t){var e=data.hostModel;this.childAt(0).updateData(data,t);var n=this.childAt(1),r=data.getItemModel(t),l=data.getItemVisual(t,"symbol"),c=function(t){return o.isArray(t)||(t=[+t,+t]),t}(data.getItemVisual(t,"symbolSize")),d=data.getItemVisual(t,"color");n.attr("scale",c),n.traverse((function(t){t.attr({fill:d})}));var f=r.getShallow("symbolOffset");if(f){var m=n.position;m[0]=h(f[0],c[0]),m[1]=h(f[1],c[1])}n.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var v={};if(v.showEffectOn=e.get("showEffectOn"),v.rippleScale=r.get("rippleEffect.scale"),v.brushType=r.get("rippleEffect.brushType"),v.period=1e3*r.get("rippleEffect.period"),v.effectOffset=t/data.count(),v.z=r.getShallow("z")||0,v.zlevel=r.getShallow("zlevel")||0,v.symbolType=l,v.color=d,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===v.showEffectOn)this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v;else{this._effectCfg=null,this.stopEffectAnimation();var symbol=this.childAt(0),y=function(){symbol.highlight(),"render"!==v.showEffectOn&&this.startEffectAnimation(v)},x=function(){symbol.downplay(),"render"!==v.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",y,this).on("mouseout",x,this).on("emphasis",y,this).on("normal",x,this)}this._effectCfg=v},m.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},o.inherits(f,l);var v=f;t.exports=v},function(t,e,n){var o=n(220);n(612),n(613);var r=n(616),l=n(617);o.registerLayout(r),o.registerVisual(l)},function(t,e,n){n(223).__DEV__;var o=n(234),r=n(233),l=n(219),h=n(227).encodeHTML;n(241);function c(t){var data=t.data;data&&data[0]&&data[0][0]&&data[0][0].coord&&(t.data=l.map(data,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),l.mergeAll([e,t[0],t[1]])})))}var d=o.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(option){c(option),d.superApply(this,"init",arguments)},mergeOption:function(option){c(option),d.superApply(this,"mergeOption",arguments)},getInitialData:function(option,t){var e=new r(["value"],this);return e.hasItemOption=!1,e.initData(option.data,[],(function(t,n,o,r){if(t instanceof Array)return NaN;e.hasItemOption=!0;var l=t.value;return null!=l?l instanceof Array?l[r]:l:void 0})),e},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var o=e.get("fromName"),r=e.get("toName"),html=[];return null!=o&&html.push(o),null!=r&&html.push(r),h(html.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}),f=d;t.exports=f},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(323),l=n(384),h=n(324),c=n(385),d=n(614),f=n(615),m=o.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var data=t.getData(),o=this._lineDraw,m=t.get("effect.show"),v=t.get("polyline"),y=t.get("large")&&data.count()>=t.get("largeThreshold");m===this._hasEffet&&v===this._isPolyline&&y===this._isLarge||(o&&o.remove(),o=this._lineDraw=y?new f:new r(v?m?d:c:m?l:h),this._hasEffet=m,this._isPolyline=v,this._isLarge=y);var x=t.get("zlevel"),_=t.get("effect.trailLength"),w=n.getZr(),S="svg"===w.painter.getType();S||w.painter.getLayer(x).clear(!0),null==this._lastZlevel||S||w.configLayer(this._lastZlevel,{motionBlur:!1}),m&&_&&(S||w.configLayer(x,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(_/10+.9,1),0)})),this.group.add(o.group),o.updateData(data),this._lastZlevel=x},updateLayout:function(t,e,n){this._lineDraw.updateLayout(t);var o=n.getZr();"svg"===o.painter.getType()||o.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0);var n=e.getZr();"svg"===n.painter.getType()||n.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});t.exports=m},function(t,e,n){var o=n(385),r=n(219),l=n(384),h=n(226);function c(t,e,n){l.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var d=c.prototype;d.createLine=function(t,e,n){return new o(t,e,n)},d.updateAnimationPoints=function(symbol,t){this._points=t;for(var e=[0],n=0,i=1;i<t.length;i++){var o=t[i-1],r=t[i];n+=h.dist(o,r),e.push(n)}if(0!==n){for(i=0;i<e.length;i++)e[i]/=n;this._offsets=e,this._length=n}},d.getLineLength=function(symbol){return this._length},d.updateSymbolPosition=function(symbol){var t=symbol.__t,e=this._points,n=this._offsets,o=e.length;if(n){var r=this._lastFrame;if(t<this._lastFramePercent){for(l=Math.min(r+1,o-1);l>=0&&!(n[l]<=t);l--);l=Math.min(l,o-2)}else{for(var l=r;l<o&&!(n[l]>t);l++);l=Math.min(l-1,o-2)}h.lerp(symbol.position,e[l],e[l+1],(t-n[l])/(n[l+1]-n[l]));var c=e[l+1][0]-e[l][0],d=e[l+1][1]-e[l][1];symbol.rotation=-Math.atan2(d,c)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=t,symbol.ignore=!1}},r.inherits(c,l);var f=c;t.exports=f},function(t,e,n){var o=n(221),r=n(346),l=n(347),h=o.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(path,t){for(var e=t.segs,n=t.polyline,i=0;i<e.length;i++){var o=e[i];if(n){path.moveTo(o[0][0],o[0][1]);for(var r=1;r<o.length;r++)path.lineTo(o[r][0],o[r][1])}else path.moveTo(o[0][0],o[0][1]),o.length>2?path.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]):path.lineTo(o[1][0],o[1][1])}},findDataIndex:function(t,e){for(var n=this.shape,o=n.segs,h=n.polyline,c=Math.max(this.style.lineWidth,1),i=0;i<o.length;i++){var d=o[i];if(h){for(var f=1;f<d.length;f++)if(r.containStroke(d[f-1][0],d[f-1][1],d[f][0],d[f][1],c,t,e))return i}else if(d.length>2){if(l.containStroke(d[0][0],d[0][1],d[2][0],d[2][1],d[1][0],d[1][1],c,t,e))return i}else if(r.containStroke(d[0][0],d[0][1],d[1][0],d[1][1],c,t,e))return i}return-1}});function c(){this.group=new o.Group,this._lineEl=new h}var d=c.prototype;d.updateData=function(data){this.group.removeAll();var t=this._lineEl,e=data.hostModel;t.setShape({segs:data.mapArray(data.getItemLayout),polyline:e.get("polyline")}),t.useStyle(e.getModel("lineStyle.normal").getLineStyle());var n=data.getVisual("color");n&&t.setStyle("stroke",n),t.setStyle("fill"),t.seriesIndex=e.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n)})),this.group.add(t)},d.updateLayout=function(t){var data=t.getData();this._lineEl.setShape({segs:data.mapArray(data.getItemLayout)})},d.remove=function(){this.group.removeAll()};var f=c;t.exports=f},function(t,e,n){n(223).__DEV__;t.exports=function(t){t.eachSeriesByType("lines",(function(t){var e=t.coordinateSystem,n=t.getData();n.each((function(o){var r=n.getItemModel(o),l=r.option instanceof Array?r.option:r.get("coords"),h=[];if(t.get("polyline"))for(var i=0;i<l.length;i++)h.push(e.dataToPoint(l[i]));else{h[0]=e.dataToPoint(l[0]),h[1]=e.dataToPoint(l[1]);var c=r.get("lineStyle.normal.curveness");+c&&(h[2]=[(h[0][0]+h[1][0])/2-(h[0][1]-h[1][1])*c,(h[0][1]+h[1][1])/2-(h[1][0]-h[0][0])*c])}n.setItemLayout(o,h)}))}))}},function(t,e){function n(a){return a instanceof Array||(a=[a,a]),a}t.exports=function(t){t.eachSeriesByType("lines",(function(t){var data=t.getData(),e=n(t.get("symbol")),o=n(t.get("symbolSize")),r="lineStyle.normal.opacity".split(".");data.setVisual("fromSymbol",e&&e[0]),data.setVisual("toSymbol",e&&e[1]),data.setVisual("fromSymbolSize",o&&o[0]),data.setVisual("toSymbolSize",o&&o[1]),data.setVisual("opacity",t.get(r)),data.each((function(t){var e=data.getItemModel(t),o=n(e.getShallow("symbol",!0)),l=n(e.getShallow("symbolSize",!0)),h=e.get(r);o[0]&&data.setItemVisual(t,"fromSymbol",o[0]),o[1]&&data.setItemVisual(t,"toSymbol",o[1]),l[0]&&data.setItemVisual(t,"fromSymbolSize",l[0]),l[1]&&data.setItemVisual(t,"toSymbolSize",l[1]),data.setItemVisual(t,"opacity",h)}))}))}},function(t,e,n){n(619),n(620)},function(t,e,n){var o=n(234),r=n(247),l=o.extend({type:"series.heatmap",getInitialData:function(option,t){return r(option.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=l},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(221),l=n(621),h=n(219);var c=o.extendChartView({type:"heatmap",render:function(t,e,n){var o;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(o=e)}))})),this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(r,t,n):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(r)&&this._renderOnGeo(r,t,o,n)},dispose:function(){},_renderOnCartesianAndCalendar:function(t,e,n){if("cartesian2d"===t.type)var o=t.getAxis("x"),l=t.getAxis("y"),c=o.getBandWidth(),d=l.getBandWidth();var f=this.group,data=e.getData(),style=e.getModel("itemStyle.normal").getItemStyle(["color"]),m=e.getModel("itemStyle.emphasis").getItemStyle(),v=e.getModel("label.normal"),y=e.getModel("label.emphasis"),x=t.type,_="cartesian2d"===x?[e.coordDimToDataDim("x")[0],e.coordDimToDataDim("y")[0],e.coordDimToDataDim("value")[0]]:[e.coordDimToDataDim("time")[0],e.coordDimToDataDim("value")[0]];data.each((function(n){var rect;if("cartesian2d"===x){if(isNaN(data.get(_[2],n)))return;var o=t.dataToPoint([data.get(_[0],n),data.get(_[1],n)]);rect=new r.Rect({shape:{x:o[0]-c/2,y:o[1]-d/2,width:c,height:d},style:{fill:data.getItemVisual(n,"color"),opacity:data.getItemVisual(n,"opacity")}})}else{if(isNaN(data.get(_[1],n)))return;rect=new r.Rect({z2:1,shape:t.dataToRect([data.get(_[0],n)]).contentShape,style:{fill:data.getItemVisual(n,"color"),opacity:data.getItemVisual(n,"opacity")}})}var l=data.getItemModel(n);data.hasItemOption&&(style=l.getModel("itemStyle.normal").getItemStyle(["color"]),m=l.getModel("itemStyle.emphasis").getItemStyle(),v=l.getModel("label.normal"),y=l.getModel("label.emphasis"));var w=e.getRawValue(n),S="-";w&&null!=w[2]&&(S=w[2]),r.setLabelStyle(style,m,v,y,{labelFetcher:e,labelDataIndex:n,defaultText:S,isRectText:!0}),rect.setStyle(style),r.setHoverStyle(rect,data.hasItemOption?m:h.extend({},m)),f.add(rect),data.setItemGraphicEl(n,rect)}))},_renderOnGeo:function(t,e,n,o){var c=n.targetVisuals.inRange,d=n.targetVisuals.outOfRange,data=e.getData(),f=this._hmLayer||this._hmLayer||new l;f.blurSize=e.get("blurSize"),f.pointSize=e.get("pointSize"),f.minOpacity=e.get("minOpacity"),f.maxOpacity=e.get("maxOpacity");var rect=t.getViewRect().clone(),m=t.getRoamTransform().transform;rect.applyTransform(m);var v=Math.max(rect.x,0),y=Math.max(rect.y,0),x=Math.min(rect.width+rect.x,o.getWidth()),_=Math.min(rect.height+rect.y,o.getHeight()),w=x-v,S=_-y,M=data.mapArray(["lng","lat","value"],(function(e,n,o){var r=t.dataToPoint([e,n]);return r[0]-=v,r[1]-=y,r.push(o),r})),I=n.getExtent(),T="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(I,n.option.range):function(t,e,n){var o=t[1]-t[0],r=(e=h.map(e,(function(e){return{interval:[(e.interval[0]-t[0])/o,(e.interval[1]-t[0])/o]}}))).length,l=0;return function(t){for(var i=l;i<r;i++){if((o=e[i].interval)[0]<=t&&t<=o[1]){l=i;break}}if(i===r)for(i=l-1;i>=0;i--){var o;if((o=e[i].interval)[0]<=t&&t<=o[1]){l=i;break}}return i>=0&&i<r&&n[i]}}(I,n.getPieceList(),n.option.selected);f.update(M,w,S,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:d.color.getColorMapper()},T);var img=new r.Image({style:{width:w,height:S,x:v,y:y,image:f.canvas},silent:!0});this.group.add(img)}});t.exports=c},function(t,e,n){var o=n(219);function r(){var canvas=o.createCanvas();this.canvas=canvas,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(data,t,e,n,o,r){var l=this._getBrush(),h=this._getGradient(data,o,"inRange"),c=this._getGradient(data,o,"outOfRange"),d=this.pointSize+this.blurSize,canvas=this.canvas,f=canvas.getContext("2d"),m=data.length;canvas.width=t,canvas.height=e;for(var i=0;i<m;++i){var p=data[i],v=p[0],y=p[1],x=n(p[2]);f.globalAlpha=x,f.drawImage(l,v-d,y-d)}if(!canvas.width||!canvas.height)return canvas;for(var _=f.getImageData(0,0,canvas.width,canvas.height),w=_.data,S=0,M=w.length,I=this.minOpacity,T=this.maxOpacity-I;S<M;){x=w[S+3]/256;var A=4*Math.floor(255*x);if(x>0){var C=r(x)?h:c;x>0&&(x=x*T+I),w[S++]=C[A],w[S++]=C[A+1],w[S++]=C[A+2],w[S++]=C[A+3]*x*256}else S+=4}return f.putImageData(_,0,0),canvas},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=o.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(data,t,e){for(var n=this._gradientPixels,o=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],l=0,i=0;i<256;i++)t[e](i/255,!0,r),o[l++]=r[0],o[l++]=r[1],o[l++]=r[2],o[l++]=r[3];return o}};var l=r;t.exports=l},function(t,e,n){var o=n(220),r=n(219);n(318),n(623),n(624);var l=n(319),h=n(254);n(269),o.registerLayout(r.curry(l,"pictorialBar")),o.registerVisual(r.curry(h,"pictorialBar","roundRect",null))},function(t,e,n){var o=n(364).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(option){return option.stack=null,o.superApply(this,"getInitialData",arguments)}}),r=o;t.exports=r},function(t,e,n){var o=n(220),r=n(219),l=n(221),h=n(238).createSymbol,c=n(222),d=c.parsePercent,f=c.isNumeric,m=n(365).setLabel,v=["itemStyle","normal","borderWidth"],y=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],x=new l.Circle;function _(data,t,e,n){var o=data.getItemLayout(t),l=e.get("symbolRepeat"),h=e.get("symbolClip"),c=e.get("symbolPosition")||"start",m=(e.get("symbolRotate")||0)*Math.PI/180||0,y=e.get("symbolPatternSize")||2,_=e.isAnimationEnabled(),S={dataIndex:t,layout:o,itemModel:e,symbolType:data.getItemVisual(t,"symbol")||"circle",color:data.getItemVisual(t,"color"),symbolClip:h,symbolRepeat:l,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:y,rotation:m,animationModel:_?e:null,hoverAnimation:_&&e.get("hoverAnimation"),z2:e.getShallow("z",!0)||0};!function(t,e,n,o,output){var l,h=o.valueDim,c=t.get("symbolBoundingData"),d=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),f=d.toGlobalCoord(d.dataToCoord(0)),m=1-+(n[h.wh]<=0);if(r.isArray(c)){var v=[w(d,c[0])-f,w(d,c[1])-f];v[1]<v[0]&&v.reverse(),l=v[m]}else l=null!=c?w(d,c)-f:e?o.coordSysExtent[h.index][m]-f:n[h.wh];output.boundingLength=l,e&&(output.repeatCutLength=n[h.wh]);output.pxSign=l>0?1:l<0?-1:0}(e,l,o,n,S),function(data,t,e,n,o,l,h,c,f,output){var m=f.valueDim,v=f.categoryDim,y=Math.abs(e[v.wh]),x=data.getItemVisual(t,"symbolSize");r.isArray(x)?x=x.slice():(null==x&&(x="100%"),x=[x,x]);x[v.index]=d(x[v.index],y),x[m.index]=d(x[m.index],n?y:Math.abs(l)),output.symbolSize=x,(output.symbolScale=[x[0]/c,x[1]/c])[m.index]*=(f.isHorizontal?-1:1)*h}(data,t,o,l,0,S.boundingLength,S.pxSign,y,n,S),function(t,e,n,o,output){var r=t.get(v)||0;r&&(x.attr({scale:e.slice(),rotation:n}),x.updateTransform(),r/=x.getLineScale(),r*=e[o.valueDim.index]);output.valueLineWidth=r}(e,S.symbolScale,m,n,S);var M=S.symbolSize,I=e.get("symbolOffset");return r.isArray(I)&&(I=[d(I[0],M[0]),d(I[1],M[1])]),function(t,e,n,o,l,h,c,m,v,y,x,output){var _=x.categoryDim,w=x.valueDim,S=output.pxSign,M=Math.max(e[w.index]+m,0),I=M;if(o){var T=Math.abs(v),A=r.retrieve(t.get("symbolMargin"),"15%")+"",C=!1;A.lastIndexOf("!")===A.length-1&&(C=!0,A=A.slice(0,A.length-1)),A=d(A,e[w.index]);var L=Math.max(M+2*A,0),D=C?0:2*A,P=f(o),k=P?o:V((T+D)/L);L=M+2*(A=(T-k*M)/2/(C?k:k-1)),D=C?0:2*A,P||"fixed"===o||(k=y?V((Math.abs(y)+D)/L):0),I=k*L-D,output.repeatTimes=k,output.symbolMargin=A}var O=S*(I/2),E=output.pathPosition=[];E[_.index]=n[_.wh]/2,E[w.index]="start"===c?O:"end"===c?v-O:v/2,h&&(E[0]+=h[0],E[1]+=h[1]);var z=output.bundlePosition=[];z[_.index]=n[_.xy],z[w.index]=n[w.xy];var N=output.barRectShape=r.extend({},n);N[w.wh]=S*Math.max(Math.abs(n[w.wh]),Math.abs(E[w.index]+O)),N[_.wh]=n[_.wh];var R=output.clipShape={};R[_.xy]=-n[_.xy],R[_.wh]=x.ecSize[_.wh],R[w.xy]=0,R[w.wh]=n[w.wh]}(e,M,o,l,0,I,c,S.valueLineWidth,S.boundingLength,S.repeatCutLength,n,S),S}function w(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function S(t){var e=t.symbolPatternSize,path=h(t.symbolType,-e/2,-e/2,e,e,t.color);return path.attr({culling:!0}),"image"!==path.type&&path.setStyle({strokeNoScale:!0}),path}function M(t,e,n,o){var r=t.__pictorialBundle,l=n.symbolSize,h=n.valueLineWidth,c=n.pathPosition,d=e.valueDim,f=n.repeatTimes||0,m=0,v=l[e.valueDim.index]+h+2*n.symbolMargin;for(z(t,(function(path){path.__pictorialAnimationIndex=m,path.__pictorialRepeatTimes=f,m<f?N(path,null,x(m),n,o):N(path,null,{scale:[0,0]},n,o,(function(){r.remove(path)})),P(path,n),m++}));m<f;m++){var path=S(n);path.__pictorialAnimationIndex=m,path.__pictorialRepeatTimes=f,r.add(path);var y=x(m);N(path,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},n,o),path.on("mouseover",_).on("mouseout",w),P(path,n)}function x(t){var e=c.slice(),o=n.pxSign,i=t;return("start"===n.symbolRepeatDirection?o>0:o<0)&&(i=f-1-t),e[d.index]=v*(i-f/2+.5)+c[d.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}function _(){z(t,(function(path){path.trigger("emphasis")}))}function w(){z(t,(function(path){path.trigger("normal")}))}}function I(t,e,n,o){var r=t.__pictorialBundle,l=t.__pictorialMainPath;l?N(l,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,o):(l=t.__pictorialMainPath=S(n),r.add(l),N(l,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,o),l.on("mouseover",(function(){this.trigger("emphasis")})).on("mouseout",(function(){this.trigger("normal")}))),P(l,n)}function T(t,e,n){var o=r.extend({},e.barRectShape),h=t.__pictorialBarRect;h?N(h,null,{shape:o},e,n):(h=t.__pictorialBarRect=new l.Rect({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(h))}function A(t,e,n,o){if(n.symbolClip){var h=t.__pictorialClipPath,c=r.extend({},n.clipShape),d=e.valueDim,f=n.animationModel,m=n.dataIndex;if(h)l.updateProps(h,{shape:c},f,m);else{c[d.wh]=0,h=new l.Rect({shape:c}),t.__pictorialBundle.setClipPath(h),t.__pictorialClipPath=h;var v={};v[d.wh]=n.clipShape[d.wh],l[o?"updateProps":"initProps"](h,{shape:v},f,m)}}}function C(data,t){var e=data.getItemModel(t);return e.getAnimationDelayParams=L,e.isAnimationEnabled=D,e}function L(path){return{index:path.__pictorialAnimationIndex,count:path.__pictorialRepeatTimes}}function D(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function P(path,t){path.off("emphasis").off("normal");var e=t.symbolScale.slice();t.hoverAnimation&&path.on("emphasis",(function(){this.animateTo({scale:[1.1*e[0],1.1*e[1]]},400,"elasticOut")})).on("normal",(function(){this.animateTo({scale:e.slice()},400,"elasticOut")}))}function k(data,t,e,n){var o=new l.Group,r=new l.Group;return o.add(r),o.__pictorialBundle=r,r.attr("position",e.bundlePosition.slice()),e.symbolRepeat?M(o,t,e):I(o,0,e),T(o,e,n),A(o,t,e,n),o.__pictorialShapeStr=E(data,e),o.__pictorialSymbolMeta=e,o}function O(data,t,e,n){var o=n.__pictorialBarRect;o&&(o.style.text=null);var h=[];z(n,(function(path){h.push(path)})),n.__pictorialMainPath&&h.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),r.each(h,(function(path){l.updateProps(path,{scale:[0,0]},e,t,(function(){n.parent&&n.parent.remove(n)}))})),data.setItemGraphicEl(t,null)}function E(data,t){return[data.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function z(t,e,n){r.each(t.__pictorialBundle.children(),(function(o){o!==t.__pictorialBarRect&&e.call(n,o)}))}function N(t,e,n,o,r,h){e&&t.attr(e),o.symbolClip&&!r?n&&t.attr(n):n&&l[r?"updateProps":"initProps"](t,n,o.animationModel,o.dataIndex,h)}function R(t,e,n){var o=n.color,h=n.dataIndex,c=n.itemModel,d=c.getModel("itemStyle.normal").getItemStyle(["color"]),f=c.getModel("itemStyle.emphasis").getItemStyle(),v=c.getShallow("cursor");z(t,(function(path){path.setColor(o),path.setStyle(r.defaults({fill:o,opacity:n.opacity},d)),l.setHoverStyle(path,f),v&&(path.cursor=v),path.z2=n.z2}));var y={},x=e.valueDim.posDesc[+(n.boundingLength>0)],_=t.__pictorialBarRect;m(_.style,y,c,o,e.seriesModel,h,x),l.setHoverStyle(_,y)}function V(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var B=o.extendChartView({type:"pictorialBar",render:function(t,e,n){var o=this.group,data=t.getData(),r=this._data,h=t.coordinateSystem,c=!!h.getBaseAxis().isHorizontal(),d=h.grid.getRect(),f={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:h,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:c,valueDim:y[+c],categoryDim:y[1-c]};return data.diff(r).add((function(t){if(data.hasValue(t)){var e=C(data,t),n=_(data,t,e,f),r=k(data,f,n);data.setItemGraphicEl(t,r),o.add(r),R(r,f,n)}})).update((function(t,e){var n=r.getItemGraphicEl(e);if(data.hasValue(t)){var h=C(data,t),c=_(data,t,h,f),d=E(data,c);n&&d!==n.__pictorialShapeStr&&(o.remove(n),data.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var o=n.animationModel,r=n.dataIndex,h=t.__pictorialBundle;l.updateProps(h,{position:n.bundlePosition.slice()},o,r),n.symbolRepeat?M(t,e,n,!0):I(t,e,n,!0);T(t,n,!0),A(t,e,n,!0)}(n,f,c):n=k(data,f,c,!0),data.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=c,o.add(n),R(n,f,c)}else o.remove(n)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&O(r,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=data,this.group},dispose:r.noop,remove:function(t,e){var n=this.group,data=this._data;t.get("animation")?data&&data.eachItemGraphicEl((function(e){O(data,e.dataIndex,t,e)})):n.removeAll()}});t.exports=B},function(t,e,n){var o=n(220),r=n(219);n(386),n(635),n(636);var l=n(637),h=n(638),c=n(286);o.registerLayout(l),o.registerVisual(h),o.registerProcessor(r.curry(c,"themeRiver"))},function(t,e,n){var o=n(627);n(241).register("single",{create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(r,l){var h=new o(r,t,e);h.name="single_"+l,h.resize(r,e),r.coordinateSystem=h,n.push(h)})),t.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}})),n},dimensions:o.prototype.dimensions})},function(t,e,n){var o=n(628),r=n(237),l=n(225).getLayoutRect;function h(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}h.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:h,_init:function(t,e,n){var l=this.dimension,h=new o(l,r.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),c="category"===h.type;h.onBand=c&&t.get("boundaryGap"),h.inverse=t.get("inverse"),h.orient=t.get("orient"),t.axis=h,h.model=t,h.coordinateSystem=this,this._axis=h},update:function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var data=t.getData(),e=this.dimension;this._axis.scale.unionExtentFromData(data,t.coordDimToDataDim(e)),r.niceScaleExtent(this._axis.scale,this._axis.model)}}),this)},resize:function(t,e){this._rect=l({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var rect=this._rect,t=this._axis,e=t.isHorizontal(),n=e?[0,rect.width]:[0,rect.height],o=t.reverse?1:0;t.setExtent(n[o],n[1-o]),this._updateAxisTransform(t,e?rect.x:rect.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),o=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return o-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return o-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var rect=this.getRect(),e=this.getAxis();return"horizontal"===e.orient?e.contain(e.toLocalCoord(t[0]))&&t[1]>=rect.y&&t[1]<=rect.y+rect.height:e.contain(e.toLocalCoord(t[1]))&&t[0]>=rect.y&&t[0]<=rect.y+rect.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),rect=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?rect.y+rect.height/2:rect.x+rect.width/2,n}};var c=h;t.exports=c},function(t,e,n){var o=n(219),r=n(248),l=function(t,e,n,o,l){r.call(this,t,e,n),this.type=o||"value",this.position=l||"bottom",this.orient=null,this._labelInterval=null};l.prototype={constructor:l,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(219),r=n(255),l=n(221),h=n(387),c=n(256),d=r.getInterval,f=r.ifIgnoreOnTick,m=["axisLine","axisTickLabel","axisName"],v=c.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,l){var c=this.group;c.removeAll();var d=h.layout(t),f=new r(t,d);o.each(m,f.add,f),c.add(f.getGroup()),t.get("splitLine.show")&&this._splitLine(t,d.labelInterval),v.superCall(this,"render",t,e,n,l)},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel("splitLine"),r=o.getModel("lineStyle"),h=r.get("width"),c=r.get("color"),m=d(o,e);c=c instanceof Array?c:[c];for(var v=t.coordinateSystem.getRect(),y=n.isHorizontal(),x=[],_=0,w=n.getTicksCoords(),S=[],M=[],I=t.get("axisLabel.showMinLabel"),T=t.get("axisLabel.showMaxLabel"),i=0;i<w.length;++i)if(!f(n,i,m,w.length,I,T)){var A=n.toGlobalCoord(w[i]);y?(S[0]=A,S[1]=v.y,M[0]=A,M[1]=v.y+v.height):(S[0]=v.x,S[1]=A,M[0]=v.x+v.width,M[1]=A);var C=_++%c.length;x[C]=x[C]||[],x[C].push(new l.Line(l.subPixelOptimizeLine({shape:{x1:S[0],y1:S[1],x2:M[0],y2:M[1]},style:{lineWidth:h},silent:!0})))}for(i=0;i<x.length;++i)this.group.add(l.mergePath(x[i],{style:{stroke:c[i%c.length],lineDash:r.getLineDash(h),lineWidth:h},silent:!0}))}}}),y=v;t.exports=y},function(t,e,n){var o=n(219),r=n(232),l=n(284),h=n(262),c=r.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});o.merge(c.prototype,h),l("single",c,(function(t,option){return option.type||(option.data?"category":"value")}),{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var d=c;t.exports=d},function(t,e,n){var o=n(219),r=n(224),l=n(285),h=n(388),c=o.each,d=o.curry,f=r.makeGetter();function m(t,e,n,r,l){var h=t.axis;if(!h.scale.isBlank()&&h.containData(e))if(t.involveSeries){var d=function(t,e){var n=e.axis,o=n.dim,r=t,l=[],h=Number.MAX_VALUE,d=-1;return c(e.seriesModels,(function(e,f){var m,v,y=e.coordDimToDataDim(o);if(e.getAxisTooltipData){var x=e.getAxisTooltipData(y,t,n);v=x.dataIndices,m=x.nestestValue}else{if(!(v=e.getData().indicesOfNearest(y[0],t,!1,"category"===n.type?.5:null)).length)return;m=e.getData().get(y[0],v[0])}if(null!=m&&isFinite(m)){var _=t-m,w=Math.abs(_);w<=h&&((w<h||_>=0&&d<0)&&(h=w,d=_,r=m,l.length=0),c(v,(function(t){l.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:l,snapToValue:r}}(e,t),f=d.payloadBatch,m=d.snapToValue;f[0]&&null==l.seriesIndex&&o.extend(l,f[0]),!r&&t.snap&&h.containData(m)&&null!=m&&(e=m),n.showPointer(t,e,f,l),n.showTooltip(t,d,m)}else n.showPointer(t,e)}function v(t,e,n,o){t[e.key]={value:n,payloadBatch:o}}function y(t,e,n,o){var r=n.payloadBatch,h=e.axis,c=h.model,d=e.axisPointerModel;if(e.triggerTooltip&&r.length){var f=e.coordSys.model,m=l.makeKey(f),v=t.map[m];v||(v=t.map[m]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},t.list.push(v)),v.dataByAxis.push({axisDim:h.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:d.get("label.precision"),formatter:d.get("label.formatter")},seriesDataIndices:r.slice()})}}function x(t){var e=t.axis.model,n={},o=n.axisDim=t.axis.dim;return n.axisIndex=n[o+"AxisIndex"]=e.componentIndex,n.axisName=n[o+"AxisName"]=e.name,n.axisId=n[o+"AxisId"]=e.id,n}function _(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,n){var r=t.currTrigger,l=[t.x,t.y],w=t,S=t.dispatchAction||o.bind(n.dispatchAction,n),M=e.getComponent("axisPointer").coordSysAxesInfo;if(M){_(l)&&(l=h({seriesIndex:w.seriesIndex,dataIndex:w.dataIndex},e).point);var I=_(l),T=w.axesInfo,A=M.axesInfo,C="leave"===r||_(l),L={},D={},P={list:[],map:{}},k={showPointer:d(v,D),showTooltip:d(y,P)};c(M.coordSysMap,(function(t,e){var n=I||t.containPoint(l);c(M.coordSysAxesInfo[e],(function(t,e){var o=t.axis,r=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(T,t);if(!C&&n&&(!T||r)){var h=r&&r.value;null!=h||I||(h=o.pointToData(l)),null!=h&&m(t,h,k,!1,L)}}))}));var O={};return c(A,(function(t,e){var n=t.linkGroup;n&&!D[e]&&c(n.axesInfo,(function(e,o){var r=D[o];if(e!==t&&r){var l=r.value;n.mapper&&(l=t.axis.scale.parse(n.mapper(l,x(e),x(t)))),O[t.key]=l}}))})),c(O,(function(t,e){m(A[e],t,k,!0,L)})),function(t,e,n){var o=n.axesInfo=[];c(e,(function(e,n){var option=e.axisPointerModel.option,r=t[n];r?(!e.useHandle&&(option.status="show"),option.value=r.value,option.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(option.status="hide"),"show"===option.status&&o.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:option.value})}))}(D,A,L),function(t,e,n,o){if(_(e)||!t.list.length)return void o({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(P,l,t,S),function(t,e,n){var r=n.getZr(),l=f(r).axisPointerLastHighlights||{},h=f(r).axisPointerLastHighlights={};c(t,(function(t,e){var option=t.axisPointerModel.option;"show"===option.status&&c(option.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;h[e]=t}))}));var d=[],m=[];o.each(l,(function(t,e){!h[e]&&m.push(t)})),o.each(h,(function(t,e){!l[e]&&d.push(t)})),m.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:m}),d.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:d})}(A,0,n),L}}},function(t,e,n){var o=n(220).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=o},function(t,e,n){var o=n(220),r=n(389),l=o.extendComponentView({type:"axisPointer",render:function(t,e,n){var o=e.getComponent("tooltip"),l=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,(function(t,e,n){"none"!==l&&("leave"===t||l.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){r.unregister(e.getZr(),"axisPointer"),l.superApply(this._model,"remove",arguments)},dispose:function(t,e){r.unregister("axisPointer",e),l.superApply(this._model,"dispose",arguments)}}),h=l;t.exports=h},function(t,e,n){var o=n(221),r=n(326),l=n(290),h=n(387),c=n(256),d=["x","y"],f=["width","height"],m=r.extend({makeElOption:function(t,e,n,o,r){var c=n.axis,d=c.coordinateSystem,f=x(d,1-y(c)),m=d.dataToPoint(e)[0],_=o.get("type");if(_&&"none"!==_){var w=l.buildElStyle(o),S=v[_](c,m,f,w);S.style=w,t.graphicKey=S.type,t.pointer=S}var M=h.layout(n);l.buildCartesianSingleLabelElOption(e,t,M,n,o,r)},getHandleTransform:function(t,e,n){var o=h.layout(e,{labelInside:!1});return o.labelMargin=n.get("handle.margin"),{position:l.getTransformedPosition(e.axis,t,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,o){var r=n.axis,l=r.coordinateSystem,h=y(r),c=x(l,h),d=t.position;d[h]+=e[h],d[h]=Math.min(c[1],d[h]),d[h]=Math.max(c[0],d[h]);var f=x(l,1-h),m=(f[1]+f[0])/2,v=[m,m];return v[h]=d[h],{position:d,rotation:t.rotation,cursorPoint:v,tooltipOption:{verticalAlign:"middle"}}}}),v={line:function(t,e,n,r){var h=l.makeLineShape([e,n[0]],[e,n[1]],y(t));return o.subPixelOptimizeLine({shape:h,style:r}),{type:"Line",shape:h}},shadow:function(t,e,n,o){var r=t.getBandWidth(),span=n[1]-n[0];return{type:"Rect",shape:l.makeRectShape([e-r/2,n[0]],[r,span],y(t))}}};function y(t){return t.isHorizontal()?0:1}function x(t,e){var rect=t.getRect();return[rect[d[e]],rect[d[e]]+rect[f[e]]]}c.registerAxisPointerClass("SingleAxisPointer",m);var _=m;t.exports=_},function(t,e,n){var o=n(239),r=n(234),l=n(233),h=n(219),c=n(227).encodeHTML,d=n(383),f=r.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(option){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(data){for(var t=data.length,e=d().key((function(t){return t[2]})).entries(data),n=h.map(e,(function(t){return{name:t.key,dataList:t.values}})),o=n.length,r=-1,l=-1,i=0;i<o;++i){var c=n[i].dataList.length;c>r&&(r=c,l=i)}for(var f=0;f<o;++f)if(f!==l)for(var m=n[f].name,v=0;v<r;++v){for(var y=n[l].dataList[v][0],x=n[f].dataList.length,_=-1,w=0;w<x;++w){if(n[f].dataList[w][0]===y){_=w;break}}-1===_&&(data[t]=[],data[t][0]=y,data[t][1]=0,data[t][2]=m,t++)}return data},getInitialData:function(option,t){var e=[],n=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type");e=[{name:"time",type:"category"===n?"ordinal":"time"===n?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var r=h.filter(option.data,(function(t){return void 0!==t[2]})),data=this.fixData(r||[]),c=[],d=this.nameMap=h.createHashMap(),f=0,i=0;i<data.length;++i)c.push(data[i][2]),d.get(data[i][2])||(d.set(data[i][2],f),f++);e=o(e,data);var m=new l(e,this);return m.initData(data,c),m},coordDimToDataDim:function(t){return["time"]},getLayerSeries:function(){for(var data=this.getData(),t=data.count(),e=[],i=0;i<t;++i)e[i]=i;for(var n=d().key((function(t){return data.get("name",t)})).entries(e),o=h.map(n,(function(t){return{name:t.key,indices:t.values}})),r=0;r<o.length;++r)o[r].indices.sort(l);function l(t,e){return data.get("time",t)-data.get("time",e)}return o},getAxisTooltipData:function(t,e,n){h.isArray(t)||(t=t?[t]:[]);for(var o,data=this.getData(),r=this.getLayerSeries(),l=[],c=r.length,i=0;i<c;++i){for(var d=Number.MAX_VALUE,f=-1,m=r[i].indices.length,v=0;v<m;++v){var y=data.get(t[0],r[i].indices[v]),x=Math.abs(y-e);x<=d&&(o=y,d=x,f=r[i].indices[v])}l.push(f)}return{dataIndices:l,nestestValue:o}},formatTooltip:function(t){var data=this.getData(),e=data.get("name",t),n=data.get("value",t);return(isNaN(n)||null==n)&&(n="-"),c(e+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}}),m=f;t.exports=m},function(t,e,n){var o=n(220),r=n(360).Polygon,l=n(221),h=n(219),c=h.bind,d=h.extend,f=n(261),m=o.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){var data=t.getData(),o=this.group,h=t.getLayerSeries(),m=data.getLayout("layoutInfo"),rect=m.rect,v=m.boundaryGap;function y(t){return t.name}o.attr("position",[0,rect.y+v[0]]);var x=new f(this._layersSeries||[],h,y,y),_={};function w(e,n,c){var f=this._layers;if("remove"!==e){for(var m,polygon,text,v=[],y=[],x=h[n].indices,w=0;w<x.length;w++){var S=data.getItemLayout(x[w]),M=S.x,I=S.y0,T=S.y;v.push([M,I]),y.push([M,I+T]),m=data.getItemVisual(x[w],"color")}var A=data.getItemLayout(x[0]),C=data.getItemModel(x[w-1]),L=C.getModel("label.normal"),D=L.get("margin");if("add"===e){var P=_[n]=new l.Group;polygon=new r({shape:{points:v,stackedOnPoints:y,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),text=new l.Text({style:{x:A.x-D,y:A.y0+A.y/2}}),P.add(polygon),P.add(text),o.add(P),polygon.setClipPath(function(rect,t,e){var n=new l.Rect({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return l.initProps(n,{shape:{width:rect.width+20,height:rect.height+20}},t,e),n}(polygon.getBoundingRect(),t,(function(){polygon.removeClipPath()})))}else{P=f[c];polygon=P.childAt(0),text=P.childAt(1),o.add(P),_[n]=P,l.updateProps(polygon,{shape:{points:v,stackedOnPoints:y}},t),l.updateProps(text,{style:{x:A.x-D,y:A.y0+A.y/2}},t)}var k=C.getModel("itemStyle.emphasis"),O=C.getModel("itemStyle.normal");l.setTextStyle(text.style,L,{text:L.get("show")?t.getFormattedLabel(x[w-1],"normal")||data.getName(x[w-1]):null,textVerticalAlign:"middle"}),polygon.setStyle(d({fill:m},O.getItemStyle(["color"]))),l.setHoverStyle(polygon,k.getItemStyle())}else o.remove(f[n])}x.add(c(w,this,"add")).update(c(w,this,"update")).remove(c(w,this,"remove")).execute(),this._layersSeries=h,this._layers=_},dispose:function(){}});t.exports=m},function(t,e,n){var o=n(219),r=n(222);function l(data,t,e){if(data.count())for(var n,r=t.coordinateSystem,l=t.getLayerSeries(),h=o.map(l,(function(t){return o.map(t.indices,(function(t){var e=r.dataToPoint(data.get("time",t));return e[1]=data.get("value",t),e}))})),base=function(data){for(var t=data.length,e=data[0].length,n=[],o=[],r=0,base={},i=0;i<e;++i){for(var l=0,h=0;l<t;++l)h+=data[l][i][1];h>r&&(r=h),n.push(h)}for(var c=0;c<e;++c)o[c]=(r-n[c])/2;r=0;for(var d=0;d<e;++d){var f=n[d]+o[d];f>r&&(r=f)}return base.y0=o,base.max=r,base}(h),c=base.y0,d=e/base.max,f=l.length,m=l[0].indices.length,v=0;v<m;++v){n=c[v]*d,data.setItemLayout(l[0].indices[v],{layerIndex:0,x:h[0][v][0],y0:n,y:h[0][v][1]*d});for(var i=1;i<f;++i)n+=h[i-1][v][1]*d,data.setItemLayout(l[i].indices[v],{layerIndex:i,x:h[i][v][0],y0:n,y:h[i][v][1]*d})}}t.exports=function(t,e){t.eachSeriesByType("themeRiver",(function(t){var data=t.getData(),e=t.coordinateSystem,n={},rect=e.getRect();n.rect=rect;var o=t.get("boundaryGap"),h=e.getAxis();(n.boundaryGap=o,"horizontal"===h.orient)?(o[0]=r.parsePercent(o[0],rect.height),o[1]=r.parsePercent(o[1],rect.height),l(data,t,rect.height-o[0]-o[1])):(o[0]=r.parsePercent(o[0],rect.width),o[1]=r.parsePercent(o[1],rect.width),l(data,t,rect.width-o[0]-o[1]));data.setLayout("layoutInfo",n)}))}},function(t,e,n){var o=n(219).createHashMap;t.exports=function(t){t.eachSeriesByType("themeRiver",(function(t){var data=t.getData(),e=t.getRawData(),n=t.get("color"),r=o();data.each((function(t){r.set(data.getRawIndex(t),t)})),e.each((function(o){var l=e.getName(o),h=n[(t.nameMap.get(l)-1)%n.length];e.setItemVisual(o,"color",h);var c=r.get(o);null!=c&&data.setItemVisual(c,"color",h)}))}))}},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(221),h=n(359).findLabelValueDim,c=n(247),d=n(319),f=n(261),m=n(640),v=n(641),y=n(642),x=n(643),_=n(644),w=["itemStyle","normal"],S=["itemStyle","emphasis"],M=["label","normal"],I=["label","emphasis"],T="e\0\0",A={cartesian2d:m,geo:v,singleAxis:y,polar:x,calendar:_};function C(t,e,n,o,r){null==n[t]||r||(e[t]=n[t],n[t]=o[t])}function L(data){var t={};return r.each(data.dimensions,(function(e,n){var o=data.getDimensionInfo(e);if(!o.isExtraCoord){var r=o.coordDim;(t[r]=t[r]||[])[o.coordDimIndex]=n}})),t}function D(t,e,n,o,r,data){(t=P(t,e,n,o,r,data))&&data.setItemGraphicEl(e,t)}function P(t,e,n,o,h,data){var c=n.type;if(!t||c===t.__customGraphicType||"path"===c&&n.pathData===t.__customPathData||"image"===c&&n.style.image===t.__customImagePath||"text"===c&&n.style.text===t.__customText||(h.remove(t),t=null),null!=c){var d,m=!t;if(!t&&(t=function(t){var e,n=t.type;if("path"===n){var o=t.shape;(e=l.makePath(o.pathData,null,{x:o.x||0,y:o.y||0,width:o.width||0,height:o.height||0},"center")).__customPathData=t.pathData}else if("image"===n)(e=new l.Image({})).__customImagePath=t.style.image;else if("text"===n)(e=new l.Text({})).__customText=t.style.text;else{e=new(0,l[n.charAt(0).toUpperCase()+n.slice(1)])}return e.__customGraphicType=n,e.name=t.name,e}(n)),function(t,e,n,o,data,h){var c={},d=n.style||{};if(n.shape&&(c.shape=r.clone(n.shape)),n.position&&(c.position=n.position.slice()),n.scale&&(c.scale=n.scale.slice()),n.origin&&(c.origin=n.origin.slice()),n.rotation&&(c.rotation=n.rotation),"image"===t.type&&n.style){var f=c.style={};r.each(["x","y","width","height"],(function(e){C(e,f,d,t.style,h)}))}if("text"===t.type&&n.style){f=c.style={};r.each(["x","y"],(function(e){C(e,f,d,t.style,h)})),!d.hasOwnProperty("textFill")&&d.fill&&(d.textFill=d.fill),!d.hasOwnProperty("textStroke")&&d.stroke&&(d.textStroke=d.stroke)}if("group"!==t.type&&(t.useStyle(d),h)){t.style.opacity=0;var m=d.opacity;null==m&&(m=1),l.initProps(t,{style:{opacity:m}},o,e)}h?t.attr(c):l.updateProps(t,c,o,e),t.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&l.setHoverStyle(t,n.styleEmphasis)}(t,e,n,o,0,m),"group"===c){var v=t.children()||[],y=n.children||[];if(n.diffChildrenByName)new f((d={oldChildren:v,newChildren:y,dataIndex:e,animatableModel:o,group:t,data:data}).oldChildren,d.newChildren,k,k,d).add(O).update(O).remove(E).execute();else{for(var x=0;x<y.length;x++)P(t.childAt(x),e,y[x],o,t,data);for(;x<v.length;x++)v[x]&&t.remove(v[x])}}return h.add(t),t}}function k(t,e){var n=t&&t.name;return null!=n?n:T+e}function O(t,e){var n=this.context,o=null!=t?n.newChildren[t]:null;P(null!=e?n.oldChildren[e]:null,n.dataIndex,o,n.animatableModel,n.group,n.data)}function E(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}o.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(option,t){return c(option.data,this,t)}}),o.extendChartView({type:"custom",_data:null,render:function(t,e,n){var o=this._data,data=t.getData(),c=this.group,f=function(t,data,e,n){var o=t.get("renderItem"),c=t.coordinateSystem,f={};c&&(f=c.prepareCustoms?c.prepareCustoms():A[c.type](c));var m,v,y,x,_,T,C=r.defaults({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,e){return null==e&&(e=m),data.get(data.getDimension(t||0),e)},style:function(e,n){null==n&&(n=m),k(n);var o=v.getModel(w).getItemStyle();null!=T&&(o.fill=T);var h=data.getItemVisual(n,"opacity");null!=h&&(o.opacity=h),null!=_&&(l.setTextStyle(o,y,null,{autoColor:T,isRectText:!0}),o.text=y.getShallow("show")?r.retrieve2(t.getFormattedLabel(n,"normal"),data.get(_,n)):null);return e&&r.extend(o,e),o},styleEmphasis:function(e,n){null==n&&(n=m),k(n);var o=v.getModel(S).getItemStyle();null!=_&&(l.setTextStyle(o,x,null,{isRectText:!0},!0),o.text=x.getShallow("show")?r.retrieve3(t.getFormattedLabel(n,"emphasis"),t.getFormattedLabel(n,"normal"),data.get(_,n)):null);return e&&r.extend(o,e),o},visual:function(t,e){return null==e&&(e=m),data.getItemVisual(e,t)},barLayout:function(t){if(c.getBaseAxis){var e=c.getBaseAxis();return d.getLayoutOnAxis(r.defaults({axis:e},t),n)}},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(t){return l.getFont(t,e)}},f.api||{}),D={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:f.coordSys,dataInsideLength:data.count(),encode:L(t.getData())},P=!0;return function(t){return m=t,P=!0,o&&o(r.defaults({dataIndexInside:t,dataIndex:data.getRawIndex(t)},D),C)||{}};function k(t){null==t&&(t=m),P&&(v=data.getItemModel(t),y=v.getModel(M),x=v.getModel(I),_=h(data),T=data.getItemVisual(t,"color"),P=!1)}}(t,data,e,n);data.diff(o).add((function(e){data.hasValue(e)&&D(null,e,f(e),t,c,data)})).update((function(e,n){var r=o.getItemGraphicEl(n);data.hasValue(e)?D(r,e,f(e),t,c,data):r&&c.remove(r)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&c.remove(e)})).execute(),this._data=data},dispose:r.noop})},function(t,e,n){var o=n(219);function r(t,e){return e=e||[0,0],o.map(["x","y"],(function(n,o){var r=this.getAxis(n),l=e[o],h=t[o]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(l-h)-r.dataToCoord(l+h))}),this)}t.exports=function(t){var rect=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:o.bind(t.dataToPoint,t),size:o.bind(r,t)}}}},function(t,e,n){var o=n(219);function r(t,e){return e=e||[0,0],o.map([0,1],(function(n){var o=e[n],r=t[n]/2,l=[],h=[];return l[n]=o-r,h[n]=o+r,l[1-n]=h[1-n]=e[1-n],Math.abs(this.dataToPoint(l)[n]-this.dataToPoint(h)[n])}),this)}t.exports=function(t){var rect=t.getBoundingRect();return{coordSys:{type:"geo",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:o.bind(t.dataToPoint,t),size:o.bind(r,t)}}}},function(t,e,n){var o=n(219);function r(t,e){var n=this.getAxis(),o=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(o-r)-n.dataToCoord(o+r))}t.exports=function(t){var rect=t.getRect();return{coordSys:{type:"singleAxis",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:o.bind(t.dataToPoint,t),size:o.bind(r,t)}}}},function(t,e,n){var o=n(219);function r(t,e){return o.map(["Radius","Angle"],(function(n,o){var r=this["get"+n+"Axis"](),l=e[o],h=t[o]/2,c="dataTo"+n,d="category"===r.type?r.getBandWidth():Math.abs(r[c](l-h)-r[c](l+h));return"Angle"===n&&(d=d*Math.PI/180),d}),this)}t.exports=function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),l=e.getExtent();return l[0]>l[1]&&l.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:l[1],r0:l[0]},api:{coord:o.bind((function(data){var o=e.dataToRadius(data[0]),r=n.dataToAngle(data[1]),l=t.coordToPoint([o,r]);return l.push(o,r*Math.PI/180),l})),size:o.bind(r,t)}}}},function(t,e,n){var o=n(219);t.exports=function(t){var rect=t.getRect(),e=t.getRangeInfo();return{coordSys:{type:"calendar",x:rect.x,y:rect.y,width:rect.width,height:rect.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:o.bind(t.dataToPoint,t)}}}},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(224),h=n(221),c=n(225);o.registerPreprocessor((function(option){var t=option.graphic;r.isArray(t)?t[0]&&t[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{elements:t}]:t&&!t.elements&&(option.graphic=[{elements:[t]}])}));var d=o.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(option){var t=this.option.elements;this.option.elements=null,d.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(t,e){var n=this.option,o=(e?n:t).elements,h=n.elements=e?[]:n.elements,d=[];this._flatten(o,d);var f=l.mappingToExists(h,d);l.makeIdAndName(f);var m=this._elOptionsToUpdate=[];r.each(f,(function(t,e){var n=t.option;n&&(m.push(n),function(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var o=e.parentOption;o?e.parentId=o.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var o=r.extend({},n),l=t[e],h=n.$action||"merge";"merge"===h?l?(r.merge(l,o,!0),c.mergeLayoutParam(l,o,{ignoreSize:!0}),c.copyLayoutParams(n,l)):t[e]=o:"replace"===h?t[e]=o:"remove"===h&&l&&(t[e]=null)}(h,e,n),function(t,e){if(!t)return;t.hv=e.hv=[v(e,["left","right"]),v(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(h[e],n))}),this);for(var i=h.length-1;i>=0;i--)null==h[i]?h.splice(i,1):delete h[i].$action},_flatten:function(t,e,n){r.each(t,(function(option){if(option){n&&(option.parentOption=n),e.push(option);var t=option.children;"group"===option.type&&t&&this._flatten(t,e,option),delete option.children}}),this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function f(t,e,n,o){var r=n.type,l=new(0,h[r.charAt(0).toUpperCase()+r.slice(1)])(n);e.add(l),o.set(t,l),l.__ecGraphicId=t}function m(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){m(t,e)})),e.removeKey(t.__ecGraphicId),n.remove(t))}function v(t,e){var n;return r.each(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}o.extendComponentView({type:"graphic",init:function(t,e){this._elMap=r.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,n),this._relocate(t,n)},_updateElements:function(t,e){var n=t.useElOptionsToUpdate();if(n){var o=this._elMap,l=this.group;r.each(n,(function(t){var e=t.$action,n=t.id,h=o.get(n),d=t.parentId,v=null!=d?o.get(d):l;if("text"===t.type){var y=t.style;t.hv&&t.hv[1]&&(y.textVerticalAlign=y.textBaseline=null),!y.hasOwnProperty("textFill")&&y.fill&&(y.textFill=y.fill),!y.hasOwnProperty("textStroke")&&y.stroke&&(y.textStroke=y.stroke)}var x=function(t){return t=r.extend({},t),r.each(["id","parentId","$action","hv","bounding"].concat(c.LOCATION_PARAMS),(function(e){delete t[e]})),t}(t);e&&"merge"!==e?"replace"===e?(m(h,o),f(n,v,x,o)):"remove"===e&&m(h,o):h?h.attr(x):f(n,v,x,o);var _=o.get(n);_&&(_.__ecGraphicWidth=t.width,_.__ecGraphicHeight=t.height)}))}},_relocate:function(t,e){for(var n=t.option.elements,o=this.group,r=this._elMap,i=n.length-1;i>=0;i--){var l=n[i],h=r.get(l.id);if(h){var d=h.parent,f=d===o?{width:e.getWidth(),height:e.getHeight()}:{width:d.__ecGraphicWidth||0,height:d.__ecGraphicHeight||0};c.positionElement(h,l,f,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var t=this._elMap;t.each((function(e){m(e,t)})),this._elMap=r.createHashMap()},dispose:function(){this._clear()}})},function(t,e,n){n(269),n(390),n(272)},function(t,e,n){n(648),n(651),n(652),n(653)},function(t,e,n){var o=n(220);n(391),n(649),n(392);var r=n(650),l=n(232);o.registerProcessor(r),l.registerSubTypeDefaulter("legend",(function(){return"plain"}))},function(t,e,n){var o=n(220),r=n(219);function l(t,e,n){var o,l={},h="toggleSelected"===t;return n.eachComponent("legend",(function(n){h&&null!=o?n[o?"select":"unSelect"](e.name):(n[t](e.name),o=n.isSelected(e.name));var c=n.getData();r.each(c,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var o=n.isSelected(e);l.hasOwnProperty(e)?l[e]=l[e]&&o:l[e]=o}}))})),{name:e.name,selected:l}}o.registerAction("legendToggleSelect","legendselectchanged",r.curry(l,"toggleSelected")),o.registerAction("legendSelect","legendselected",r.curry(l,"select")),o.registerAction("legendUnSelect","legendunselected",r.curry(l,"unSelect"))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}},function(t,e,n){var o=n(391),r=n(225),l=r.mergeLayoutParam,h=r.getLayoutParams,c=o.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(option,t,e,n){var o=h(option);c.superCall(this,"init",option,t,e,n),d(this,option,o)},mergeOption:function(option,t){c.superCall(this,"mergeOption",option,t),d(this,this.option,option)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function d(t,e,n){var o=[1,1];o[t.getOrient().index]=0,l(e,n,{type:"box",ignoreSize:o})}var f=c;t.exports=f},function(t,e,n){var o=n(219),r=n(221),l=n(225),h=n(392),c=r.Group,d=["width","height"],f=["x","y"],m=h.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){m.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new c),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new c),this._showController},resetInner:function(){m.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,l){var h=this;m.superCall(this,"renderInner",t,e,n,l);var c=this._controllerGroup,d=e.get("pageIconSize",!0);o.isArray(d)||(d=[d,d]),v("pagePrev",0);var f=e.getModel("pageTextStyle");function v(t,n){var f=t+"DataIndex",m=r.createIcon(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:o.bind(h._pageGo,h,f,e,l)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});m.name=t,c.add(m)}c.add(new r.Text({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),v("pageNext",1)},layoutInner:function(t,e,n){var h=this.getContentGroup(),c=this._containerGroup,m=this._controllerGroup,v=t.getOrient().index,y=d[v],x=d[1-v],_=f[1-v];l.box(t.get("orient"),h,t.get("itemGap"),v?n.width:null,v?null:n.height),l.box("horizontal",m,t.get("pageButtonItemGap",!0));var w=h.getBoundingRect(),S=m.getBoundingRect(),M=this._showController=w[y]>n[y],I=[-w.x,-w.y];I[v]=h.position[v];var T=[0,0],A=[-S.x,-S.y],C=o.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));M&&("end"===t.get("pageButtonPosition",!0)?A[v]+=n[y]-S[y]:T[v]+=S[y]+C);A[1-v]+=w[x]/2-S[x]/2,h.attr("position",I),c.attr("position",T),m.attr("position",A);var L=this.group.getBoundingRect();if((L={x:0,y:0})[y]=M?n[y]:w[y],L[x]=Math.max(w[x],S[x]),L[_]=Math.min(0,S[_]+A[1-v]),c.__rectSize=n[y],M){var D={x:0,y:0};D[y]=Math.max(n[y]-S[y]-C,0),D[x]=L[x],c.setClipPath(new r.Rect({shape:D})),c.__rectSize=D[y]}else m.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var P=this._getPageInfo(t);return null!=P.pageIndex&&r.updateProps(h,{position:P.contentPosition},!!M&&t),this._updatePageInfoView(t,P),L},_pageGo:function(t,e,n){var o=this._getPageInfo(e)[t];null!=o&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;o.each(["pagePrev","pageNext"],(function(o){var r=null!=e[o+"DataIndex"],l=n.childOfName(o);l&&(l.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),l.cursor=r?"pointer":"default")}));var r=n.childOfName("pageText"),l=t.get("pageFormatter"),h=e.pageIndex,c=null!=h?h+1:0,d=e.pageCount;r&&l&&r.setStyle("text",o.isString(l)?l.replace("{current}",c).replace("{total}",d):l({current:c,total:d}))},_getPageInfo:function(t){var e,n,o,r,l=t.get("scrollDataIndex",!0),h=this.getContentGroup(),c=h.getBoundingRect(),m=this._containerGroup.__rectSize,v=t.getOrient().index,y=d[v],x=d[1-v],_=f[v],w=h.position.slice();this._showController?h.eachChild((function(t){t.__legendDataIndex===l&&(r=t)})):r=h.childAt(0);var S=m?Math.ceil(c[y]/m):0;if(r){var M=r.getBoundingRect(),I=r.position[v]+M[_];w[v]=-I-c[_],e=Math.floor(S*(I+M[_]+m/2)/c[y]),e=c[y]&&S?Math.max(0,Math.min(S-1,e)):-1;var T,A={x:0,y:0};A[y]=m,A[x]=c[x],A[_]=-w[v]-c[_];var C=h.children();if(h.eachChild((function(t,e){var n=D(t);n.intersect(A)&&(null==T&&(T=e),o=t.__legendDataIndex),e===C.length-1&&n[_]+n[y]<=A[_]+A[y]&&(o=null)})),null!=T){var L=D(C[T]);if(A[_]=L[_]+L[y]-A[y],T<=0&&L[_]>=A[_])n=null;else{for(;T>0&&D(C[T-1]).intersect(A);)T--;n=C[T].__legendDataIndex}}}return{contentPosition:w,pageIndex:e,pageCount:S,pagePrevDataIndex:n,pageNextDataIndex:o};function D(t){var e=t.getBoundingRect().clone();return e[_]+=t.position[v],e}}}),v=m;t.exports=v},function(t,e,n){n(220).registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))},function(t,e,n){var o=n(220);n(272),n(655),n(656),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},function(t,e,n){var o=n(220).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=o},function(t,e,n){var o=n(220),r=n(219),l=n(230),h=n(657),c=n(227),d=n(222),f=n(221),m=n(388),v=n(225),y=n(229),x=n(389),_=n(237),w=n(290),S=r.bind,M=r.each,I=d.parsePercent,T=new f.Rect({shape:{x:-1,y:-1,width:2,height:2}}),A=o.extendComponentView({type:"tooltip",init:function(t,e){if(!l.node){var n=new h(e.getDom(),e);this._tooltipContent=n}},render:function(t,e,n){if(!l.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var o=this._tooltipContent;o.update(),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");x.register("itemTooltip",this._api,S((function(e,n,o){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,o):"leave"===e&&this._hide(o))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){o.manuallyShowTip(t,e,n,{x:o._lastX,y:o._lastY})}))}},manuallyShowTip:function(t,e,n,o){if(o.from!==this.uid&&!l.node){var r=L(o,n);this._ticket="";var h=o.dataByCoordSys;if(o.tooltip&&null!=o.x&&null!=o.y){var c=T;c.position=[o.x,o.y],c.update(),c.tooltip=o.tooltip,this._tryShow({offsetX:o.x,offsetY:o.y,target:c},r)}else if(h)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,event:{},dataByCoordSys:o.dataByCoordSys,tooltipOption:o.tooltipOption},r);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,o))return;var d=m(o,e),f=d.point[0],v=d.point[1];null!=f&&null!=v&&this._tryShow({offsetX:f,offsetY:v,position:o.position,target:d.el,event:{}},r)}else null!=o.x&&null!=o.y&&(n.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:n.getZr().findHover(o.x,o.y).target,event:{}},r))}},manuallyHideTip:function(t,e,n,o){var r=this._tooltipContent;this._alwaysShowContent||r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,o.from!==this.uid&&this._hide(L(o,n))},_manuallyAxisShowTip:function(t,e,n,o){var r=o.seriesIndex,l=o.dataIndex,h=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=l&&null!=h){var c=e.getSeriesByIndex(r);if(c)if("axis"===(t=C([c.getData().getItemModel(l),c,(c.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:l,position:o.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;o&&o.length?this._showAxisTooltip(o,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=r.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,o=this._tooltipModel,l=[e.offsetX,e.offsetY],h=[],d=[],f=C([e.tooltipOption,o]);M(t,(function(t){M(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),o=t.value,l=[];if(e&&null!=o){var f=w.getValueLabel(o,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);r.each(t.seriesDataIndices,(function(r){var h=n.getSeriesByIndex(r.seriesIndex),c=r.dataIndexInside,m=h&&h.getDataParams(c);m.axisDim=t.axisDim,m.axisIndex=t.axisIndex,m.axisType=t.axisType,m.axisId=t.axisId,m.axisValue=_.getAxisRawValue(e.axis,o),m.axisValueLabel=f,m&&(d.push(m),l.push(h.formatTooltip(c,!0)))}));var m=f;h.push((m?c.encodeHTML(m)+"<br />":"")+l.join("<br />"))}}))}),this),h.reverse(),h=h.join("<br /><br />");var m=e.position;this._showOrMove(f,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(f,m,l[0],l[1],this._tooltipContent,d):this._showTooltipContent(f,h,d,Math.random(),l[0],l[1],m)}))},_showSeriesItemTooltip:function(t,e,n){var o=this._ecModel,r=e.seriesIndex,l=o.getSeriesByIndex(r),h=e.dataModel||l,c=e.dataIndex,d=e.dataType,data=h.getData(),f=C([data.getItemModel(c),h,l&&(l.coordinateSystem||{}).model,this._tooltipModel]),m=f.get("trigger");if(null==m||"item"===m){var v=h.getDataParams(c,d),y=h.formatTooltip(c,!1,d),x="item_"+h.name+"_"+c;this._showOrMove(f,(function(){this._showTooltipContent(f,y,v,x,t.offsetX,t.offsetY,t.position,t.target)})),n({type:"showTip",dataIndexInside:c,dataIndex:data.getRawIndex(c),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var o=e.tooltip;if("string"==typeof o){o={content:o,formatter:o}}var r=new y(o,this._tooltipModel,this._ecModel),l=r.get("content"),h=Math.random();this._showOrMove(r,(function(){this._showTooltipContent(r,l,r.get("formatterParams")||{},h,t.offsetX,t.offsetY,t.position,e)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,o,r,l,h,d){if(this._ticket="",t.get("showContent")&&t.get("show")){var f=this._tooltipContent,m=t.get("formatter");h=h||t.get("position");var html=e;if(m&&"string"==typeof m)html=c.formatTpl(m,n,!0);else if("function"==typeof m){var v=S((function(e,html){e===this._ticket&&(f.setContent(html),this._updatePosition(t,h,r,l,f,n,d))}),this);this._ticket=o,html=m(n,o,v)}f.setContent(html),f.show(t),this._updatePosition(t,h,r,l,f,n,d)}},_updatePosition:function(t,e,n,o,content,l,h){var c=this._api.getWidth(),d=this._api.getHeight();e=e||t.get("position");var f=content.getSize(),m=t.get("align"),y=t.get("verticalAlign"),rect=h&&h.getBoundingRect().clone();if(h&&rect.applyTransform(h.transform),"function"==typeof e&&(e=e([n,o],l,content.el,rect,{viewSize:[c,d],contentSize:f.slice()})),r.isArray(e))n=I(e[0],c),o=I(e[1],d);else if(r.isObject(e)){e.width=f[0],e.height=f[1];var x=v.getLayoutRect(e,{width:c,height:d});n=x.x,o=x.y,m=null,y=null}else if("string"==typeof e&&h){var _=function(t,rect,e){var n=e[0],o=e[1],r=0,l=0,h=rect.width,c=rect.height;switch(t){case"inside":r=rect.x+h/2-n/2,l=rect.y+c/2-o/2;break;case"top":r=rect.x+h/2-n/2,l=rect.y-o-5;break;case"bottom":r=rect.x+h/2-n/2,l=rect.y+c+5;break;case"left":r=rect.x-n-5,l=rect.y+c/2-o/2;break;case"right":r=rect.x+h+5,l=rect.y+c/2-o/2}return[r,l]}(e,rect,f);n=_[0],o=_[1]}else{_=function(t,e,n,o,r,l,h){var c=D(n),d=c.width,f=c.height;null!=l&&(t+d+l>o?t-=d+l:t+=l);null!=h&&(e+f+h>r?e-=f+h:e+=h);return[t,e]}(n,o,content.el,c,d,m?null:20,y?null:20);n=_[0],o=_[1]}if(m&&(n-=P(m)?f[0]/2:"right"===m?f[0]:0),y&&(o-=P(y)?f[1]/2:"bottom"===y?f[1]:0),t.get("confine")){_=function(t,e,n,o,r){var l=D(n),h=l.width,c=l.height;return t=Math.min(t+h,o)-h,e=Math.min(e+c,r)-c,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,o,content.el,c,d);n=_[0],o=_[1]}content.moveTo(n,o)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&M(e,(function(e,o){var r=e.dataByAxis||{},l=(t[o]||{}).dataByAxis||[];(n&=r.length===l.length)&&M(r,(function(t,e){var o=l[e]||{},r=t.seriesDataIndices||[],h=o.seriesDataIndices||[];(n&=t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&r.length===h.length)&&M(r,(function(t,e){var o=h[e];n&=t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){l.node||(this._tooltipContent.hide(),x.unregister("itemTooltip",e))}});function C(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(n instanceof y&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new y(n,e,e.ecModel))}return e}function L(t,e){return t.dispatchAction||r.bind(e.dispatchAction,e)}function D(t){var e=t.clientWidth,n=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var o=document.defaultView.getComputedStyle(t);o&&(e+=parseInt(o.paddingLeft,10)+parseInt(o.paddingRight,10)+parseInt(o.borderLeftWidth,10)+parseInt(o.borderRightWidth,10),n+=parseInt(o.paddingTop,10)+parseInt(o.paddingBottom,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10))}return{width:e,height:n}}function P(t){return"center"===t||"middle"===t}t.exports=A},function(t,e,n){var o=n(219),r=n(242),l=n(243),h=n(230),c=n(227),d=o.each,f=c.toCamelCase,m=["","-webkit-","-moz-","-o-"];function v(t){var e,n,l=[],v=t.get("transitionDuration"),y=t.get("backgroundColor"),x=t.getModel("textStyle"),_=t.get("padding");return v&&l.push((n="left "+(e=v)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",o.map(m,(function(t){return t+"transition:"+n})).join(";"))),y&&(h.canvasSupported?l.push("background-Color:"+y):(l.push("background-Color:#"+r.toHex(y)),l.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],(function(e){var n="border-"+e,o=f(n),r=t.get(o);null!=r&&l.push(n+":"+r+("color"===e?"":"px"))})),l.push(function(t){var e=[],n=t.get("fontSize"),o=t.getTextColor();return o&&e.push("color:"+o),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),d(["decoration","align"],(function(n){var o=t.get(n);o&&e.push("text-"+n+":"+o)})),e.join(";")}(x)),null!=_&&l.push("padding:"+c.normalizeCssArray(_).join("px ")+"px"),l.join(";")+";"}function y(t,e){var n=document.createElement("div"),o=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!r._enterable){var n=o.handler;l.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}y.prototype={constructor:y,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+v(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(content){this.el.innerHTML=null==content?"":content},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,o=this._zr;o&&o.painter&&(n=o.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var style=this.el.style;style.left=t+"px",style.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(time){!this._show||this._inContent&&this._enterable||(time?(this._hideDelay=time,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),time)):this.hide())},isShow:function(){return this._show}};var x=y;t.exports=x},function(t,e,n){var o=n(220),r=n(219),l=n(659);n(327),n(665),n(667),n(272),n(669),o.registerLayout(r.curry(l,"bar")),o.extendComponentView({type:"polar"})},function(t,e,n){var o=n(219),r=n(222).parsePercent;function l(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function h(t){return t.dim}var c=function(t,e,n){var c=n.getWidth(),d=n.getHeight(),f={},m={},v=function(t,e){var n={};o.each(t,(function(t,e){var data=t.getData(),o=t.coordinateSystem.getBaseAxis(),c=o.getExtent(),d="category"===o.type?o.getBandWidth():Math.abs(c[1]-c[0])/data.count(),f=n[h(o)]||{bandWidth:d,remainedWidth:d,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=f.stacks;n[h(o)]=f;var v=l(t);m[v]||f.autoWidthCount++,m[v]=m[v]||{width:0,maxWidth:0};var y=r(t.get("barWidth"),d),x=r(t.get("barMaxWidth"),d),_=t.get("barGap"),w=t.get("barCategoryGap");y&&!m[v].width&&(y=Math.min(f.remainedWidth,y),m[v].width=y,f.remainedWidth-=y),x&&(m[v].maxWidth=x),null!=_&&(f.gap=_),null!=w&&(f.categoryGap=w)}));var c={};return o.each(n,(function(t,e){c[e]={};var n=t.stacks,l=t.bandWidth,h=r(t.categoryGap,l),d=r(t.gap,1),f=t.remainedWidth,m=t.autoWidthCount,v=(f-h)/(m+(m-1)*d);v=Math.max(v,0),o.each(n,(function(t,e){var n=t.maxWidth;n&&n<v&&(n=Math.min(n,f),t.width&&(n=Math.min(n,t.width)),f-=n,t.width=n,m--)})),v=(f-h)/(m+(m-1)*d),v=Math.max(v,0);var y,x=0;o.each(n,(function(t,e){t.width||(t.width=v),y=t,x+=t.width*(1+d)})),y&&(x-=y.width*d);var _=-x/2;o.each(n,(function(t,n){c[e][n]=c[e][n]||{offset:_,width:t.width},_+=t.width*(1+d)}))})),c}(o.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var data=t.getData(),e=t.coordinateSystem,n=e.getAngleAxis(),o=e.getBaseAxis(),y=l(t),x=v[h(o)][y],_=x.offset,w=x.width,S=e.getOtherAxis(o),M=t.get("center")||["50%","50%"],I=r(M[0],c),T=r(M[1],d),A=t.get("barMinHeight")||0,C=t.get("barMinAngle")||0,L=S.getExtent()[0],D=S.model.get("max"),P=S.model.get("min"),k=[t.coordDimToDataDim("radius")[0],t.coordDimToDataDim("angle")[0]],O=data.mapArray(k,(function(t,n){return e.dataToPoint([t,n])}),!0);f[y]=f[y]||[],m[y]=m[y]||[],data.each(t.coordDimToDataDim(S.dim)[0],(function(t,o){if(!isNaN(t)){f[y][o]||(f[y][o]={p:L,n:L},m[y][o]={p:L,n:L});var r,l,h,c,d=t>=0?"p":"n",v=e.pointToCoord(O[o]),x=m[y][o][d];if("radius"===S.dim)r=x,l=v[0],c=(h=(-v[1]+_)*Math.PI/180)+w*Math.PI/180,Math.abs(l)<A&&(l=r+(l<0?-1:1)*A),m[y][o][d]=l;else{l=(r=v[0]+_)+w,null!=D&&(t=Math.min(t,D)),null!=P&&(t=Math.max(t,P));var M=n.dataToAngle(t);Math.abs(M-x)<C&&(M=x-(t<0?-1:1)*C),h=-x*Math.PI/180,c=-M*Math.PI/180;var k=n.getExtent(),E=M;E===k[0]&&t>0?E=k[1]:E===k[1]&&t<0&&(E=k[0]),m[y][o][d]=E}data.setItemLayout(o,{cx:I,cy:T,r0:r,r:l,startAngle:h,endAngle:c})}}),!0)}}),this)};t.exports=c},function(t,e,n){var o=n(661),r=n(662),l=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new o,this._angleAxis=new r,this._radiusAxis.polar=this._angleAxis.polar=this};l.prototype={type:"polar",axisPointerEnabled:!0,constructor:l,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(data){return this._radiusAxis.containData(data[0])&&this._angleAxis.containData(data[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,o=this._radiusAxis;return n.scale.type===t&&e.push(n),o.scale.type===t&&e.push(o),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(data,t){return this.coordToPoint([this._radiusAxis.dataToRadius(data[0],t),this._angleAxis.dataToAngle(data[1],t)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,o=this.getAngleAxis(),r=o.getExtent(),l=Math.min(r[0],r[1]),h=Math.max(r[0],r[1]);o.inverse?l=h-360:h=l+360;var c=Math.sqrt(e*e+n*n);e/=c,n/=c;for(var d=Math.atan2(-n,e)/Math.PI*180,f=d<l?1:-1;d<l||d>h;)d+=360*f;return[c,d]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]}};var h=l;t.exports=h},function(t,e,n){var o=n(219),r=n(248);function l(t,e){r.call(this,"radius",t,e),this.type="category"}l.prototype={constructor:l,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(219),r=n(248);function l(t,e){e=e||[0,360],r.call(this,"angle",t,e),this.type="category"}l.prototype={constructor:l,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData},o.inherits(l,r);var h=l;t.exports=h},function(t,e,n){var o=n(220);n(664);var r=o.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=r},function(t,e,n){var o=n(219),r=n(232),l=n(284),h=n(262),c=r.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});o.merge(c.prototype,h);var d={splitNumber:5};function f(t,option){return option.type||(option.data?"category":"value")}l("angle",c,f,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),l("radius",c,f,d)},function(t,e,n){n(327),n(666)},function(t,e,n){var o=n(219),r=n(221),l=n(229),h=n(256),c=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function d(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var o=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:o[0],y1:o[1],x2:r[0],y2:r[1]}}function f(t){return t.getRadiusAxis().inverse?0:1}var m=h.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,l=r.getRadiusAxis().getExtent(),h=n.getTicksCoords();"category"!==n.type&&h.pop(),o.each(c,(function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,r,h,l)}),this)}},_axisLine:function(t,e,n,o){var l=t.getModel("axisLine.lineStyle"),circle=new r.Circle({shape:{cx:e.cx,cy:e.cy,r:o[f(e)]},style:l.getLineStyle(),z2:1,silent:!0});circle.style.fill=null,this.group.add(circle)},_axisTick:function(t,e,n,l){var h=t.getModel("axisTick"),c=(h.get("inside")?-1:1)*h.get("length"),m=l[f(e)],v=o.map(n,(function(t){return new r.Line({shape:d(e,[m,m+c],t)})}));this.group.add(r.mergePath(v,{style:o.defaults(h.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,o){for(var h=t.axis,c=t.get("data"),d=t.getModel("axisLabel"),m=t.getFormattedLabels(),v=d.get("margin"),y=h.getLabelsCoords(),i=0;i<n.length;i++){var x=o[f(e)],p=e.coordToPoint([x+v,y[i]]),_=e.cx,w=e.cy,S=Math.abs(p[0]-_)/x<.3?"center":p[0]>_?"left":"right",M=Math.abs(p[1]-w)/x<.3?"middle":p[1]>w?"top":"bottom";c&&c[i]&&c[i].textStyle&&(d=new l(c[i].textStyle,d,d.ecModel));var I=new r.Text({silent:!0});this.group.add(I),r.setTextStyle(I.style,d,{x:p[0],y:p[1],textFill:d.getTextColor()||t.get("axisLine.lineStyle.color"),text:m[i],textAlign:S,textVerticalAlign:M})}},_splitLine:function(t,e,n,l){var h=t.getModel("splitLine").getModel("lineStyle"),c=h.get("color"),f=0;c=c instanceof Array?c:[c];for(var m=[],i=0;i<n.length;i++){var v=f++%c.length;m[v]=m[v]||[],m[v].push(new r.Line({shape:d(e,l,n[i])}))}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({stroke:c[i%c.length]},h.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,l){var h=t.getModel("splitArea").getModel("areaStyle"),c=h.get("color"),d=0;c=c instanceof Array?c:[c];for(var f=[],m=Math.PI/180,v=-n[0]*m,y=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),_=t.get("clockwise"),i=1;i<n.length;i++){var w=d++%c.length;f[w]=f[w]||[],f[w].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:y,r:x,startAngle:v,endAngle:-n[i]*m,clockwise:_},silent:!0})),v=-n[i]*m}for(i=0;i<f.length;i++)this.group.add(r.mergePath(f[i],{style:o.defaults({fill:c[i%c.length]},h.getAreaStyle()),silent:!0}))}});t.exports=m},function(t,e,n){n(327),n(668)},function(t,e,n){var o=n(219),r=n(221),l=n(255),h=n(256),c=["axisLine","axisTickLabel","axisName"],d=["splitLine","splitArea"],f=h.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,h=r.getAngleAxis(),f=n.getTicksCoords(),m=h.getExtent()[0],v=n.getExtent(),y=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(r,t,m),x=new l(t,y);o.each(c,x.add,x),this.group.add(x.getGroup()),o.each(d,(function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,r,m,v,f)}),this)}},_splitLine:function(t,e,n,l,h){var c=t.getModel("splitLine").getModel("lineStyle"),d=c.get("color"),f=0;d=d instanceof Array?d:[d];for(var m=[],i=0;i<h.length;i++){var v=f++%d.length;m[v]=m[v]||[],m[v].push(new r.Circle({shape:{cx:e.cx,cy:e.cy,r:h[i]},silent:!0}))}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({stroke:d[i%d.length],fill:null},c.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,l,h){var c=t.getModel("splitArea").getModel("areaStyle"),d=c.get("color"),f=0;d=d instanceof Array?d:[d];for(var m=[],v=h[0],i=1;i<h.length;i++){var y=f++%d.length;m[y]=m[y]||[],m[y].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:v,r:h[i],startAngle:0,endAngle:2*Math.PI},silent:!0})),v=h[i]}for(i=0;i<m.length;i++)this.group.add(r.mergePath(m[i],{style:o.defaults({fill:d[i%d.length]},c.getAreaStyle()),silent:!0}))}});t.exports=f},function(t,e,n){var o=n(227),r=n(326),l=n(221),h=n(290),c=n(236),d=n(255),f=n(256),m=r.extend({makeElOption:function(t,e,n,r,f){var m=n.axis;"angle"===m.dim&&(this.animationThreshold=Math.PI/18);var y,x=m.polar,_=x.getOtherAxis(m).getExtent();y=m["dataTo"+o.capitalFirst(m.dim)](e);var w=r.get("type");if(w&&"none"!==w){var S=h.buildElStyle(r),M=v[w](m,x,y,_,S);M.style=S,t.graphicKey=M.type,t.pointer=M}var I=function(t,e,n,o,r){var h=e.axis,f=h.dataToCoord(t),m=o.getAngleAxis().getExtent()[0];m=m/180*Math.PI;var v,y,x,_=o.getRadiusAxis().getExtent();if("radius"===h.dim){var w=c.create();c.rotate(w,w,m),c.translate(w,w,[o.cx,o.cy]),v=l.applyTransform([f,-r],w);var S=e.getModel("axisLabel").get("rotate")||0,M=d.innerTextLayout(m,S*Math.PI/180,-1);y=M.textAlign,x=M.textVerticalAlign}else{var I=_[1];v=o.coordToPoint([I+r,f]);var T=o.cx,A=o.cy;y=Math.abs(v[0]-T)/I<.3?"center":v[0]>T?"left":"right",x=Math.abs(v[1]-A)/I<.3?"middle":v[1]>A?"top":"bottom"}return{position:v,align:y,verticalAlign:x}}(e,n,0,x,r.get("label.margin"));h.buildLabelElOption(t,n,r,f,I)}});var v={line:function(t,e,n,o,r){return"angle"===t.dim?{type:"Line",shape:h.makeLineShape(e.coordToPoint([o[0],n]),e.coordToPoint([o[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,o,r){var l=t.getBandWidth(),c=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:h.makeSectorShape(e.cx,e.cy,o[0],o[1],(-n-l/2)*c,(l/2-n)*c)}:{type:"Sector",shape:h.makeSectorShape(e.cx,e.cy,n-l/2,n+l/2,0,2*Math.PI)}}};f.registerAxisPointerClass("PolarAxisPointer",m);var y=m;t.exports=y},function(t,e,n){var o=n(220),r=n(219);function l(t,e){e.update="updateView",o.registerAction(e,(function(e,n){var o={};return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name);var l=n.coordinateSystem;r.each(l.regions,(function(t){o[t.name]=n.isSelected(t.name)||!1}))})),{selected:o,name:e.name}}))}n(671),n(287),n(672),n(371),l("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),l("select",{type:"geoSelect",event:"geoselected"}),l("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,n){var o=n(219),r=n(224),l=n(232),h=n(229),c=n(320),d=n(287),f=l.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(option){l.prototype.init.apply(this,arguments),r.defaultEmphasis(option.label,["show"])},optionUpdated:function(){var option=this.option,t=this;option.regions=d.getFilledRegions(option.regions,option.map,option.nameMap),this._optionModelMap=o.reduce(option.regions||[],(function(e,n){return n.name&&e.set(n.name,new h(n,t)),e}),o.createHashMap()),this.updateSelectedMap(option.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new h(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),o={name:t};return"function"==typeof n?(o.status=e,n(o)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});o.mixin(f,c);var m=f;t.exports=m},function(t,e,n){var o=n(368),r=n(220).extendComponentView({type:"geo",init:function(t,e){var n=new o(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,o){if(!o||"geoToggleSelect"!==o.type||o.from!==this.uid){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,o):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=r},function(t,e,n){var o=n(220),r=n(674);n(675),n(677),n(678),n(679),n(680),o.registerPreprocessor(r)},function(t,e,n){var o=n(219),r=["rect","polygon","keep","clear"];t.exports=function(option,t){var e=option&&option.brush;if(o.isArray(e)||(e=e?[e]:[]),e.length){var n=[];o.each(e,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))}));var l=option&&option.toolbox;o.isArray(l)&&(l=l[0]),l||(l={feature:{}},option.toolbox=[l]);var h,map,c=l.feature||(l.feature={}),d=c.brush||(c.brush={}),f=d.type||(d.type=[]);f.push.apply(f,n),h=f,map={},o.each(h,(function(t){map[t]=1})),h.length=0,o.each(map,(function(t,e){h.push(e)})),t&&!f.length&&f.push.apply(f,r)}}},function(t,e,n){var o=n(220),r=n(219),l=n(228),h=n(291),c=n(676),d=n(253),f=n(394),m=["inBrush","outOfBrush"],v="__ecBrushSelect",y="__ecInBrushSelectEvent",x=o.PRIORITY.VISUAL.BRUSH;function _(t,e){if(!t.isDisposed()){var n=t.getZr();n[y]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[y]=!1}}function w(t,e,data,n){for(var i=0,o=e.length;i<o;i++){var area=e[i];if(t[area.brushType](n,data,area.selectors,area))return!0}}function S(t){var e=t.brushSelector;if(r.isString(e)){var n=[];return r.each(c,(function(t,o){n[o]=function(n,data,o,area){var r=data.getItemLayout(n);return t[e](r,o,area)}})),n}if(r.isFunction(e)){var o={};return r.each(c,(function(t,n){o[n]=e})),o}return e}o.registerLayout(x,(function(t,e,n){t.eachComponent({mainType:"brush"},(function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(e.brushTargetManager=new f(e.option,t)).setInputRanges(e.areas,t)}))})),o.registerVisual(x,(function(t,e,n){var o,l,f=[];t.eachComponent({mainType:"brush"},(function(e,n){var d={brushId:e.id,brushIndex:n,brushName:e.name,areas:r.clone(e.areas),selected:[]};f.push(d);var v=e.option,y=v.brushLink,x=[],_=[],I=[],T=0;n||(o=v.throttleType,l=v.throttleDelay);var A=r.map(e.areas,(function(area){return function(area){var t=area.selectors={};return r.each(c[area.brushType],(function(e,n){t[n]=function(n){return e(n,t,area)}})),area}(r.defaults({boundingRect:M[area.brushType](area)},area))})),C=h.createVisualMappings(e.option,m,(function(t){t.mappingMethod="fixed"}));function L(t){return"all"===y||x[t]}function D(t){return!!t.length}r.isArray(y)&&r.each(y,(function(t){x[t]=1})),t.eachSeries((function(n,o){var l=I[o]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;T|=n.hasAxisBrushed(),L(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(_[e]=1)}))}(n,o):function(n,o,l){var h=S(n);if(!h||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(r.isArray(n)?r.indexOf(n,e)<0:e!==n)}(e,o))return;if(r.each(A,(function(area){h[area.brushType]&&e.brushTargetManager.controlSeries(area,n,t)&&l.push(area),T|=D(l)})),L(o)&&D(l)){var data=n.getData();data.each((function(t){w(h,l,data,t)&&(_[t]=1)}))}}(n,o,l)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};d.selected.push(n);var o=S(t),r=I[e],data=t.getData(),l=L(e)?function(t){return _[t]?(n.dataIndex.push(data.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return w(o,r,data,t)?(n.dataIndex.push(data.getRawIndex(t)),"inBrush"):"outOfBrush"};(L(e)?T:D(r))&&h.applyVisual(m,C,data,l)}))})),function(t,e,n,o,r){if(!r)return;var l=t.getZr();if(l[y])return;l[v]||(l[v]=_);d.createOrUpdate(l,v,n,e)(t,o)}(e,o,l,f,n)}));var M={lineX:r.noop,lineY:r.noop,rect:function(area){return I(area.range)},polygon:function(area){for(var t,e=area.range,i=0,n=e.length;i<n;i++){t=t||[[1/0,-1/0],[1/0,-1/0]];var o=e[i];o[0]<t[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&I(t)}};function I(t){return new l(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}},function(t,e,n){var o=n(358),r=n(228);function l(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,area){if(e){var o=area.range;return h(e[t],o)}},rect:function(o,r,area){if(o){var l=area.range,c=[o[e[t]],o[e[t]]+o[n[t]]];return c[1]<c[0]&&c.reverse(),h(c[0],l)||h(c[1],l)||h(l[0],c)||h(l[1],c)}}}}function h(p,t){return t[0]<=p&&p<=t[1]}function c(t,e,n,o,r){for(var i=0,l=r[r.length-1];i<r.length;i++){var p=r[i];if(d(t,e,n,o,p[0],p[1],l[0],l[1]))return!0;l=p}}function d(t,e,n,o,r,l,h,c){var d,m=f(n-t,r-h,o-e,l-c);if((d=m)<=1e-6&&d>=-1e-6)return!1;var v=f(r-t,r-h,l-e,l-c)/m;if(v<0||v>1)return!1;var y=f(n-t,r-t,o-e,l-e)/m;return!(y<0||y>1)}function f(t,e,n,o){return t*o-e*n}var m={lineX:l(0),lineY:l(1),rect:{point:function(t,e,area){return t&&area.boundingRect.contain(t[0],t[1])},rect:function(t,e,area){return t&&area.boundingRect.intersect(t)}},polygon:{point:function(t,e,area){return t&&area.boundingRect.contain(t[0],t[1])&&o.contain(area.range,t[0],t[1])},rect:function(t,e,area){var n=area.range;if(!t||n.length<=1)return!1;var l=t.x,h=t.y,d=t.width,f=t.height,p=n[0];return!!(o.contain(n,l,h)||o.contain(n,l+d,h)||o.contain(n,l,h+f)||o.contain(n,l+d,h+f)||r.create(t).contain(p[0],p[1])||c(l,h,l+d,h,n)||c(l,h,l,h+f,n)||c(l+d,h,l+d,h+f,n)||c(l,h+f,l+d,h+f,n))||void 0}}};t.exports=m},function(t,e,n){n(223).__DEV__;var o=n(220),r=n(219),l=n(291),h=n(229),c=["#ddd"];function d(option,t){return r.merge({brushType:option.brushType,brushMode:option.brushMode,transformable:option.transformable,brushStyle:new h(option.brushStyle).getItemStyle(),removeOnClick:option.removeOnClick,z:option.z},t,!0)}var f=o.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&l.replaceVisualOption(n,t,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:c}},setAreas:function(t){t&&(this.areas=r.map(t,(function(area){return d(this.option,area)}),this))},setBrushOption:function(t){this.brushOption=d(this.option,t),this.brushType=this.brushOption.brushType}});t.exports=f},function(t,e,n){var o=n(220),r=n(219),l=n(325),h=o.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new l(e.getZr())).on("brush",r.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,c.apply(this,arguments)},updateView:c,updateLayout:c,updateVisual:c,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:r.clone(t),$from:n})}});function c(t,e,n,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}t.exports=h},function(t,e,n){var o=n(220);o.registerAction({type:"brush",event:"brush",update:"updateView"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),o.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){}))},function(t,e,n){var o=n(219),r=n(249),l=n(263).toolbox.brush;function h(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}h.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:o.clone(l.title)};var c=h.prototype;c.render=c.updateView=c.updateLayout=function(t,e,n){var r,l,h;e.eachComponent({mainType:"brush"},(function(t){r=t.brushType,l=t.brushOption.brushMode||"single",h|=t.areas.length})),this._brushType=r,this._brushMode=l,o.each(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===l:"clear"===e?h:e===r)?"emphasis":"normal")}))},c.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return o.each(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},c.onclick=function(t,e,n){var o=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?o:o!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},r.register("brush",h);var d=h;t.exports=d},function(t,e,n){n(682),n(683),n(684)},function(t,e,n){var o=n(219),r=n(225),l=n(222),h=n(241);function c(t,e,n){this._model=t}function d(t,e,n,o){var r=n.calendarModel,l=n.seriesModel,h=r?r.coordinateSystem:l?l.coordinateSystem:null;return h===this?h[t](o):null}c.prototype={constructor:c,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=l.parseDate(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var o=t.getDate();o=o<10?"0"+o:o;var r=t.getDay();return{y:e,m:n,d:o,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+o,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):((t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,l=["width","height"],h=this._model.get("cellSize").slice(),c=this._model.getBoxLayoutParams(),d="horizontal"===this._orient?[n,7]:[7,n];o.each([0,1],(function(t){v(h,t)&&(c[l[t]]=h[t]*d[t])}));var f={width:e.getWidth(),height:e.getHeight()},m=this._rect=r.getLayoutRect(c,f);function v(t,e){return null!=t[e]&&"auto"!==t[e]}o.each([0,1],(function(t){v(h,t)||(h[t]=m[l[t]]/d[t])})),this._sw=h[0],this._sh=h[1]},dataToPoint:function(data,t){o.isArray(data)&&(data=data[0]),null==t&&(t=!0);var e=this.getDateInfo(data),n=this._rangeInfo,r=e.formatedDate;if(t&&!(e.time>=n.start.time&&e.time<=n.end.time))return[NaN,NaN];var l=e.day,h=this._getRangeInfo([n.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]:[this._rect.x+h*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(data,t){var e=this.dataToPoint(data,t);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,o):this._getDateByWeeksAndDay(e,n-1,o)},convertToPixel:o.curry(d,"dataToPoint"),convertFromPixel:o.curry(d,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(o.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var l=this.getNextNDay(r,-1);t=[n.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var h=this._getRangeInfo(t);return h.start.time>h.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,o=new Date(t[0].time),r=o.getDate(),l=t[1].date.getDate();if(o.setDate(r+n-1),o.getDate()!==l)for(var h=o.getTime()-t[1].time>0?1:-1;o.getDate()!==l&&(o.getTime()-t[1].time)*h>0;)n-=h,o.setDate(r+n-1);var c=Math.floor((n+t[0].day+6)/7),d=e?1-c:c-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:c,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var o=this._getRangeInfo(n);if(t>o.weeks||0===t&&e<o.fweek||t===o.weeks&&e>o.lweek)return!1;var r=7*(t-1)-o.fweek+e,l=new Date(o.start.time);return l.setDate(o.start.d+r),this.getDateInfo(l)}},c.dimensions=c.prototype.dimensions,c.getDimensionsInfo=c.prototype.getDimensionsInfo,c.create=function(t,e){var n=[];return t.eachComponent("calendar",(function(o){var r=new c(o,t,e);n.push(r),o.coordinateSystem=r})),t.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},h.register("calendar",c);var f=c;t.exports=f},function(t,e,n){var o=n(219),r=n(232),l=n(225),h=l.getLayoutParams,c=l.sizeCalculable,d=l.mergeLayoutParam,f=r.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(option,t,e,n){var o=h(option);f.superApply(this,"init",arguments),m(option,o)},mergeOption:function(option,t){f.superApply(this,"mergeOption",arguments),m(this.option,option)}});function m(t,e){var n=t.cellSize;o.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var r=o.map([0,1],(function(t){return c(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));d(t,e,{type:"box",ignoreSize:r})}var v=f;t.exports=v},function(t,e,n){var o=n(220),r=n(219),l=n(221),h=n(227),c=n(222),d={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},f={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},m=o.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var o=this.group;o.removeAll();var r=t.coordinateSystem,l=r.getRangeInfo(),h=r.getOrient();this._renderDayRect(t,l,o),this._renderLines(t,l,h,o),this._renderYearText(t,l,h,o),this._renderMonthText(t,h,o),this._renderWeekText(t,l,h,o)},_renderDayRect:function(t,e,n){for(var o=t.coordinateSystem,r=t.getModel("itemStyle.normal").getItemStyle(),h=o.getCellWidth(),c=o.getCellHeight(),i=e.start.time;i<=e.end.time;i=o.getNextNDay(i,1).time){var d=o.dataToRect([i],!1).tl,rect=new l.Rect({shape:{x:d[0],y:d[1],width:h,height:c},cursor:"default",style:r});n.add(rect)}},_renderLines:function(t,e,n,o){var r=this,l=t.coordinateSystem,h=t.getModel("splitLine.lineStyle").getLineStyle(),c=t.get("splitLine.show"),d=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=e.start,i=0;f.time<=e.end.time;i++){v(f.formatedDate),0===i&&(f=l.getDateInfo(e.start.y+"-"+e.start.m));var m=f.date;m.setMonth(m.getMonth()+1),f=l.getDateInfo(m)}function v(e){r._firstDayOfMonth.push(l.getDateInfo(e)),r._firstDayPoints.push(l.dataToRect([e],!1).tl);var d=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(d[0]),r._blpoints.push(d[d.length-1]),c&&r._drawSplitline(d,h,o)}v(l.getNextNDay(e.end.time,1).formatedDate),c&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,d,n),h,o),c&&this._drawSplitline(r._getEdgesPoints(r._blpoints,d,n),h,o)},_getEdgesPoints:function(t,e,n){var o=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return o[0][r]=o[0][r]-e/2,o[1][r]=o[1][r]+e/2,o},_drawSplitline:function(t,e,n){var o=new l.Polyline({z2:20,shape:{points:t},style:e});n.add(o)},_getLinePointsOfOneWeek:function(t,e,n){var o=t.coordinateSystem;e=o.getDateInfo(e);for(var r=[],i=0;i<7;i++){var l=o.getNextNDay(e.time,i),h=o.dataToRect([l.time],!1);r[2*l.day]=h.tl,r[2*l.day+1]=h["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(t,e){return"string"==typeof t&&t?h.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,o,r){e=e.slice();var l=["center","bottom"];"bottom"===o?(e[1]+=r,l=["center","top"]):"left"===o?e[0]-=r:"right"===o?(e[0]+=r,l=["center","top"]):e[1]-=r;var h=0;return"left"!==o&&"right"!==o||(h=Math.PI/2),{rotation:h,position:e,style:{textAlign:l[0],textVerticalAlign:l[1]}}},_renderYearText:function(t,e,n,o){var r=t.getModel("yearLabel");if(r.get("show")){var h=r.get("margin"),c=r.get("position");c||(c="horizontal"!==n?"top":"left");var d=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],f=(d[0][0]+d[1][0])/2,m=(d[0][1]+d[1][1])/2,v="horizontal"===n?0:1,y={top:[f,d[v][1]],bottom:[f,d[1-v][1]],left:[d[1-v][0],m],right:[d[v][0],m]},x=e.start.y;+e.end.y>+e.start.y&&(x=x+"-"+e.end.y);var _=r.get("formatter"),w={start:e.start.y,end:e.end.y,nameMap:x},content=this._formatterLabel(_,w),S=new l.Text({z2:30});l.setTextStyle(S.style,r,{text:content}),S.attr(this._yearTextPositionControl(S,y[c],n,c,h)),o.add(S)}},_monthTextPositionControl:function(t,e,n,o,r){var l="left",h="top",c=t[0],d=t[1];return"horizontal"===n?(d+=r,e&&(l="center"),"start"===o&&(h="bottom")):(c+=r,e&&(h="middle"),"start"===o&&(l="right")),{x:c,y:d,textAlign:l,textVerticalAlign:h}},_renderMonthText:function(t,e,n){var o=t.getModel("monthLabel");if(o.get("show")){var h=o.get("nameMap"),c=o.get("margin"),f=o.get("position"),m=o.get("align"),v=[this._tlpoints,this._blpoints];r.isString(h)&&(h=d[h.toUpperCase()]||[]);var y="start"===f?0:1,x="horizontal"===e?0:1;c="start"===f?-c:c;for(var _="center"===m,i=0;i<v[y].length-1;i++){var w=v[y][i].slice(),S=this._firstDayOfMonth[i];if(_){var M=this._firstDayPoints[i];w[x]=(M[x]+v[0][i+1][x])/2}var I=o.get("formatter"),T=h[+S.m-1],A={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:T},content=this._formatterLabel(I,A),C=new l.Text({z2:30});r.extend(l.setTextStyle(C.style,o,{text:content}),this._monthTextPositionControl(w,_,e,f,c)),n.add(C)}}},_weekTextPositionControl:function(t,e,n,o,r){var l="center",h="middle",c=t[0],d=t[1],f="start"===n;return"horizontal"===e?(c=c+o+(f?1:-1)*r[0]/2,l=f?"right":"left"):(d=d+o+(f?1:-1)*r[1]/2,h=f?"bottom":"top"),{x:c,y:d,textAlign:l,textVerticalAlign:h}},_renderWeekText:function(t,e,n,o){var h=t.getModel("dayLabel");if(h.get("show")){var d=t.coordinateSystem,m=h.get("position"),v=h.get("nameMap"),y=h.get("margin"),x=d.getFirstDayOfWeek();r.isString(v)&&(v=f[v.toUpperCase()]||[]);var _=d.getNextNDay(e.end.time,7-e.lweek).time,w=[d.getCellWidth(),d.getCellHeight()];y=c.parsePercent(y,w["horizontal"===n?0:1]),"start"===m&&(_=d.getNextNDay(e.start.time,-(7+e.fweek)).time,y=-y);for(var i=0;i<7;i++){var S,M=d.getNextNDay(_,i),I=d.dataToRect([M.time],!1).center;S=Math.abs((i+x)%7);var T=new l.Text({z2:30});r.extend(l.setTextStyle(T.style,h,{text:v[S]}),this._weekTextPositionControl(I,n,m,y,w)),o.add(T)}}}});t.exports=m},function(t,e,n){var o=n(220),r=n(221),l=n(225).getLayoutRect;o.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),o.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var o=this.group,h=t.getModel("textStyle"),c=t.getModel("subtextStyle"),d=t.get("textAlign"),f=t.get("textBaseline"),m=new r.Text({style:r.setTextStyle({},h,{text:t.get("text"),textFill:h.getTextColor()},{disableBox:!0}),z2:10}),v=m.getBoundingRect(),y=t.get("subtext"),x=new r.Text({style:r.setTextStyle({},c,{text:y,textFill:c.getTextColor(),y:v.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),link=t.get("link"),_=t.get("sublink");m.silent=!link,x.silent=!_,link&&m.on("click",(function(){window.open(link,"_"+t.get("target"))})),_&&x.on("click",(function(){window.open(_,"_"+t.get("subtarget"))})),o.add(m),y&&o.add(x);var w=o.getBoundingRect(),S=t.getBoxLayoutParams();S.width=w.width,S.height=w.height;var M=l(S,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));d||("middle"===(d=t.get("left")||t.get("right"))&&(d="center"),"right"===d?M.x+=M.width:"center"===d&&(M.x+=M.width/2)),f||("center"===(f=t.get("top")||t.get("bottom"))&&(f="middle"),"bottom"===f?M.y+=M.height:"middle"===f&&(M.y+=M.height/2),f=f||"top"),o.attr("position",[M.x,M.y]);var I={textAlign:d,textVerticalAlign:f};m.setStyle(I),x.setStyle(I),w=o.getBoundingRect();var T=M.margin,style=t.getItemStyle(["color","opacity"]);style.fill=t.get("backgroundColor");var rect=new r.Rect({shape:{x:w.x-T[3],y:w.y-T[0],width:w.width+T[1]+T[3],height:w.height+T[0]+T[2],r:t.get("borderRadius")},style:style,silent:!0});r.subPixelOptimizeRect(rect),o.add(rect)}}})},function(t,e,n){n(395),n(273),n(274),n(688),n(689),n(690),n(691),n(396),n(397)},function(t,e,n){var o=n(219),r=n(222),l=n(328),h=o.each,c=r.asc,d=function(t,e,n,o){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=o,this._dataZoomModel=n};function f(t,e){var n=t.getAxisModel(),o=t._percentWindow,l=t._valueWindow;if(o){var h=r.getPixelPrecision(l,[0,500]);h=Math.min(h,20);var c=e||0===o[0]&&100===o[1];n.setRange(c?null:+l[0].toFixed(h),c?null:+l[1].toFixed(h))}}d.prototype={constructor:d,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries((function(n){if(l.isCoordSupported(n.get("coordinateSystem"))){var o=this._dimName,r=e.queryComponents({mainType:o+"Axis",index:n.get(o+"AxisIndex"),id:n.get(o+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&t.push(n)}}),this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,o=this._dimName,r=this.ecModel,l=this.getAxisModel();return"x"===o||"y"===o?(e="gridIndex",t="x"===o?"y":"x"):(e="polarIndex",t="angle"===o?"radius":"angle"),r.eachComponent(t+"Axis",(function(t){(t.get(e)||0)===(l.get(e)||0)&&(n=t)})),n},getMinMaxSpan:function(){return o.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,n=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),l=[0,100],d=[t.start,t.end],f=[];return h(["startValue","endValue"],(function(e){f.push(null!=t[e]?n.parse(t[e]):null)})),h([0,1],(function(t){var h=f[t],c=d[t];"percent"===o[t]?(null==c&&(c=l[t]),h=n.parse(r.linearMap(c,l,e,!0))):c=r.linearMap(h,e,l,!0),f[t]=h,d[t]=c})),{valueWindow:c(f),percentWindow:c(d)}},reset:function(t){if(t===this._dataZoomModel){this._dataExtent=function(t,e,n){var o=[1/0,-1/0];h(n,(function(t){var n=t.getData();n&&h(t.coordDimToDataDim(e),(function(t){var e=n.getDataExtent(t);e[0]<o[0]&&(o[0]=e[0]),e[1]>o[1]&&(o[1]=e[1])}))})),o[1]<o[0]&&(o=[NaN,NaN]);return function(t,e){var n=t.getAxisModel(),o=n.getMin(!0),r="category"===n.get("type"),l=r&&(n.get("data")||[]).length;null!=o&&"dataMin"!==o&&"function"!=typeof o?e[0]=o:r&&(e[0]=l>0?0:NaN);var h=n.getMax(!0);null!=h&&"dataMax"!==h&&"function"!=typeof h?e[1]=h:r&&(e[1]=l>0?l-1:NaN);n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,o),o}(this,this._dimName,this.getTargetSeriesModels());var e=this.calculateDataWindow(t.option);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,function(t){var e=t._minMaxSpan={},n=t._dataZoomModel;h(["min","max"],(function(o){e[o+"Span"]=n.get(o+"Span");var l=n.get(o+"ValueSpan");if(null!=l&&(e[o+"ValueSpan"]=l,null!=(l=t.getAxisModel().axis.scale.parse(l)))){var h=t._dataExtent;e[o+"Span"]=r.linearMap(h[0]+l,h,[0,100],!0)}}))}(this),f(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,f(this,!0))},filterData:function(t){if(t===this._dataZoomModel){var e=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),r=this._valueWindow;if("none"!==o){var l=this.getOtherAxisModel();t.get("$fromToolbox")&&l&&"category"===l.get("type")&&(o="empty"),h(n,(function(t){var n=t.getData(),l=t.coordDimToDataDim(e);"weakFilter"===o?n&&n.filterSelf((function(t){for(var e,o,h,i=0;i<l.length;i++){var c=n.get(l[i],t),d=!isNaN(c),f=c<r[0],m=c>r[1];if(d&&!f&&!m)return!0;d&&(h=!0),f&&(e=!0),m&&(o=!0)}return h&&e&&o})):n&&h(l,(function(e){"empty"===o?t.setData(n.map(e,(function(t){return c(t)?t:NaN}))):n.filterSelf(e,c)}))}))}}function c(t){return t>=r[0]&&t<=r[1]}}};var m=d;t.exports=m},function(t,e,n){var o=n(273).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=o},function(t,e,n){var o=n(219),r=n(243),l=n(221),h=n(253),c=n(274),d=n(222),f=n(225),m=n(271),v=l.Rect,y=d.linearMap,x=d.asc,_=o.bind,w=o.each,S="horizontal",M=5,I=["line","bar","candlestick","scatter"],T=c.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,o){T.superApply(this,"render",arguments),h.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){T.superApply(this,"remove",arguments),h.clear(this,"_dispatchZoomAction")},dispose:function(){T.superApply(this,"dispose",arguments),h.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new l.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},l=this._orient===S?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},h=f.getLayoutParams(t.option);o.each(["right","top","width","height"],(function(t){"ph"===h[t]&&(h[t]=l[t])}));var c=f.getLayoutRect(h,r,t.padding);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),r=o&&o.get("inverse"),l=this._displayables.barGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;l.attr(n!==S||r?n===S&&r?{scale:h?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:h?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:h?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:h?[1,1]:[1,-1]});var rect=t.getBoundingRect([l]);t.attr("position",[e.x-rect.x,e.y-rect.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new v({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new v({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:o.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,data=n.getRawData(),r=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=r){var h=data.getDataExtent(r),c=.3*(h[1]-h[0]);h=[h[0]-c,h[1]+c];var d,f=[0,e[1]],m=[0,e[0]],v=[[e[0],0],[0,0]],x=[],_=m[1]/(data.count()-1),w=0,S=Math.round(data.count()/e[0]);data.each([r],(function(t,e){if(S>0&&e%S)w+=_;else{var n=null==t||isNaN(t)||""===t,o=n?0:y(t,h,f,!0);n&&!d&&e?(v.push([v[v.length-1][0],0]),x.push([x[x.length-1][0],0])):!n&&d&&(v.push([w,0]),x.push([w,0])),v.push([w,o]),x.push([w,o]),w+=_,d=n}}));var M=this.dataZoomModel;this._displayables.barGroup.add(new l.Polygon({shape:{points:v},style:o.defaults({fill:M.get("dataBackgroundColor")},M.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new l.Polyline({shape:{points:x},style:M.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis((function(l,h){var c=t.getAxisProxy(l.name,h).getTargetSeriesModels();o.each(c,(function(t){if(!(n||!0!==e&&o.indexOf(I,t.get("type"))<0)){var c,d=r.getComponent(l.axis,h).axis,f={x:"y",y:"x",radius:"angle",angle:"radius"}[l.name],m=t.coordinateSystem;null!=f&&m.getOtherAxis&&(c=m.getOtherAxis(d).inverse),n={thisAxis:d,series:t,thisDim:l.name,otherDim:f,otherAxisInverse:c}}}),this)}),this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],o=this._displayables.barGroup,h=this._size,c=this.dataZoomModel;o.add(t.filler=new v({draggable:!0,cursor:A(this._orient),drift:_(this._onDragMove,this,"all"),onmousemove:function(t){r.stop(t.event)},ondragstart:_(this._showDataInfo,this,!0),ondragend:_(this._onDragEnd,this),onmouseover:_(this._showDataInfo,this,!0),onmouseout:_(this._showDataInfo,this,!1),style:{fill:c.get("fillerColor"),textPosition:"inside"}})),o.add(new v(l.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:h[0],height:h[1]},style:{stroke:c.get("dataBackgroundColor")||c.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),w([0,1],(function(t){var path=l.createIcon(c.get("handleIcon"),{cursor:A(this._orient),draggable:!0,drift:_(this._onDragMove,this,t),onmousemove:function(t){r.stop(t.event)},ondragend:_(this._onDragEnd,this),onmouseover:_(this._showDataInfo,this,!0),onmouseout:_(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=path.getBoundingRect();this._handleHeight=d.parsePercent(c.get("handleSize"),this._size[1]),this._handleWidth=h.width/h.height*this._handleHeight,path.setStyle(c.getModel("handleStyle").getItemStyle());var f=c.get("handleColor");null!=f&&(path.style.fill=f),o.add(e[t]=path);var m=c.textStyleModel;this.group.add(n[t]=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:m.getTextColor(),textFont:m.getFont()},z2:10}))}),this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[y(t[0],[0,100],e,!0),y(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,o=this._handleEnds,r=this._getViewExtent(),l=n.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];m(e,o,r,n.get("zoomLock")?"all":t,null!=l.minSpan?y(l.minSpan,h,r,!0):null,null!=l.maxSpan?y(l.maxSpan,h,r,!0):null),this._range=x([y(o[0],r,h,!0),y(o[1],r,h,!0)])},_updateView:function(t){var e=this._displayables,n=this._handleEnds,o=x(n.slice()),r=this._size;w([0,1],(function(t){var o=e.handles[t],l=this._handleHeight;o.attr({scale:[l/2,l/2],position:[n[t],r[1]/2-l/2]})}),this),e.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:r[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,n=this._displayables,o=n.handleLabels,r=this._orient,h=["",""];if(e.get("showDetail")){var c=e.findRepresentativeAxisProxy();if(c){var d=c.getAxisModel().axis,f=this._range,m=t?c.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:c.getDataValueWindow();h=[this._formatLabel(m[0],d),this._formatLabel(m[1],d)]}}var v=x(this._handleEnds.slice());function y(t){var e=l.getTransform(n.handles[t].parent,this.group),c=l.transformDirection(0===t?"right":"left",e),d=this._handleWidth/2+M,f=l.applyTransform([v[t]+(0===t?-d:d),this._size[1]/2],e);o[t].setStyle({x:f[0],y:f[1],textVerticalAlign:r===S?"middle":c,textAlign:r===S?c:"center",text:h[t]})}y.call(this,0),y.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),l=n.get("labelPrecision");null!=l&&"auto"!==l||(l=e.getPixelPrecision());var h=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(l,20));return o.isFunction(r)?r(t,h):o.isString(r)?r.replace("{value}",h):h},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var o=this._displayables.barGroup.getLocalTransform(),r=l.applyTransform([e,n],o,!0);this._updateInterval(t,r[0]);var h=this.dataZoomModel.get("realtime");this._updateView(!h),h&&h&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var o=this._handleEnds,r=(o[0]+o[1])/2;this._updateInterval("all",n[0]-r),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var rect;if(w(this.getTargetCoordInfo(),(function(t){if(!rect&&t.length){var e=t[0].model.coordinateSystem;rect=e.getRect&&e.getRect()}})),!rect){var t=this.api.getWidth(),e=this.api.getHeight();rect={x:.2*t,y:.2*e,width:.6*t,height:.6*e}}return rect}});function A(t){return"vertical"===t?"ns-resize":"ew-resize"}var C=T;t.exports=C},function(t,e,n){var o=n(273).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});t.exports=o},function(t,e,n){var o=n(219),r=n(274),l=n(271),h=n(692),c=o.bind,d=r.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,n,r){d.superApply(this,"render",arguments),h.shouldRecordRange(r,t.id)&&(this._range=t.getPercentRange()),o.each(this.getTargetCoordInfo(),(function(e,r){var l=o.map(e,(function(t){return h.generateCoordId(t.model)}));o.each(e,(function(e){var o=e.model,d=t.option;h.register(n,{coordId:h.generateCoordId(o),allCoordIds:l,containsPoint:function(t,e,n){return o.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:c(this._onPan,this,e,r),zoomGetRange:c(this._onZoom,this,e,r),zoomLock:d.zoomLock,disabled:d.disabled,roamControllerOpt:{zoomOnMouseWheel:d.zoomOnMouseWheel,moveOnMouseMove:d.moveOnMouseMove,preventDefaultMouseMove:d.preventDefaultMouseMove}})}),this)}),this)},dispose:function(){h.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,n,o,r,h,c,d,m){var v=this._range.slice(),y=t.axisModels[0];if(y){var x=f[e]([h,c],[d,m],y,n,t),_=x.signal*(v[1]-v[0])*x.pixel/x.pixelLength;return l(_,v,[0,100],"all"),this._range=v}},_onZoom:function(t,e,n,o,r,h){var c=this._range.slice(),d=t.axisModels[0];if(d){var m=f[e](null,[r,h],d,n,t),v=(m.signal>0?m.pixelStart+m.pixelLength-m.pixel:m.pixel-m.pixelStart)/m.pixelLength*(c[1]-c[0])+c[0];o=Math.max(1/o,0),c[0]=(c[0]-v)*o+v,c[1]=(c[1]-v)*o+v;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return l(0,c,[0,100],0,y.minSpan,y.maxSpan),this._range=c}}}),f={grid:function(t,e,n,o,r){var l=n.axis,h={},rect=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===l.dim?(h.pixel=e[0]-t[0],h.pixelLength=rect.width,h.pixelStart=rect.x,h.signal=l.inverse?1:-1):(h.pixel=e[1]-t[1],h.pixelLength=rect.height,h.pixelStart=rect.y,h.signal=l.inverse?-1:1),h},polar:function(t,e,n,o,r){var l=n.axis,h={},c=r.model.coordinateSystem,d=c.getRadiusAxis().getExtent(),f=c.getAngleAxis().getExtent();return t=t?c.pointToCoord(t):[0,0],e=c.pointToCoord(e),"radiusAxis"===n.mainType?(h.pixel=e[0]-t[0],h.pixelLength=d[1]-d[0],h.pixelStart=d[0],h.signal=l.inverse?1:-1):(h.pixel=e[1]-t[1],h.pixelLength=f[1]-f[0],h.pixelStart=f[0],h.signal=l.inverse?-1:1),h},singleAxis:function(t,e,n,o,r){var l=n.axis,rect=r.model.coordinateSystem.getRect(),h={};return t=t||[0,0],"horizontal"===l.orient?(h.pixel=e[0]-t[0],h.pixelLength=rect.width,h.pixelStart=rect.x,h.signal=l.inverse?1:-1):(h.pixel=e[1]-t[1],h.pixelLength=rect.height,h.pixelStart=rect.y,h.signal=l.inverse?-1:1),h}},m=d;t.exports=m},function(t,e,n){var o=n(219),r=n(288),l=n(253),h=o.curry,c="\0_ec_dataZoom_roams";function d(t){var e=t.getZr();return e[c]||(e[c]={})}function f(t){o.each(t,(function(e,n){e.count||(e.controller.dispose(),delete t[n])}))}function m(t,e,n,o,r,l,h){y(t,(function(c){return c.panGetRange(t.controller,e,n,o,r,l,h)}))}function v(t,e,n,o){y(t,(function(r){return r.zoomGetRange(t.controller,e,n,o)}))}function y(t,e){var n=[];o.each(t.dataZoomInfos,(function(t){var o=e(t);!t.disabled&&o&&n.push({dataZoomId:t.dataZoomId,start:o[0],end:o[1]})})),t.dispatchAction(n)}function x(t,e){t.dispatchAction({type:"dataZoom",batch:e})}e.register=function(t,e){var n=d(t),c=e.dataZoomId,y=e.coordId;o.each(n,(function(t,n){var r=t.dataZoomInfos;r[c]&&o.indexOf(e.allCoordIds,y)<0&&(delete r[c],t.count--)})),f(n);var _=n[y];_||((_=n[y]={coordId:y,dataZoomInfos:{},count:0}).controller=function(t,e){var n=new r(t.getZr());return n.on("pan",h(m,e)),n.on("zoom",h(v,e)),n}(t,_),_.dispatchAction=o.curry(x,t)),!_.dataZoomInfos[c]&&_.count++,_.dataZoomInfos[c]=e;var w,S,M,I,T=(w=_.dataZoomInfos,M={},I={true:2,move:1,false:0,undefined:-1},o.each(w,(function(t){var e=!t.disabled&&(!t.zoomLock||"move");I[e]>I[S]&&(S=e),o.extend(M,t.roamControllerOpt)})),{controlType:S,opt:M});_.controller.enable(T.controlType,T.opt),_.controller.setPointerChecker(e.containsPoint),l.createOrUpdate(_,"dispatchAction",e.throttleRate,"fixRate")},e.unregister=function(t,e){var n=d(t);o.each(n,(function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)})),f(n)},e.shouldRecordRange=function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},e.generateCoordId=function(t){return t.type+"\0_"+t.id}},function(t,e,n){n(694),n(697)},function(t,e,n){var o=n(220),r=n(398);n(399),n(400),n(695),n(696),n(405),o.registerPreprocessor(r)},function(t,e,n){var o=n(219),r=n(401),l=n(222),h=[20,140],c=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){c.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){c.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=h[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=h[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)}),this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=l.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(n){var o=[],data=n.getData();data.each(this.getDataDimension(data),(function(e,n){t[0]<=e&&e<=t[1]&&o.push(n)}),!0,this),e.push({seriesId:n.id,dataIndex:o})}),this),e},getVisualMeta:function(t){var e=d(this,"outOfRange",this.getExtent()),n=d(this,"inRange",this.option.range.slice()),o=[];function r(e,n){o.push({value:e,color:t(e,n)})}for(var l=0,h=0,c=n.length,f=e.length;h<f&&(!n.length||e[h]<=n[0]);h++)e[h]<n[l]&&r(e[h],"outOfRange");for(var m=1;l<c;l++,m=0)m&&o.length&&r(n[l],"outOfRange"),r(n[l],"inRange");for(m=1;h<f;h++)(!n.length||n[n.length-1]<e[h])&&(m&&(o.length&&r(o[o.length-1].value,"outOfRange"),m=0),r(e[h],"outOfRange"));var v=o.length;return{stops:o,outerColors:[v?o[0].color:"transparent",v?o[v-1].color:"transparent"]}}});function d(t,e,n){if(n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/200,r=n[0],l=[],i=0;i<=200&&r<n[1];i++)l.push(r),r+=o;return l.push(n[1]),l}var f=c;t.exports=f},function(t,e,n){var o=n(219),r=n(352),l=n(243),h=n(403),c=n(221),d=n(222),f=n(271),m=n(404),v=n(224),y=d.linearMap,x=o.each,_=Math.min,w=Math.max,S=12,M=6,I=h.extend({type:"visualMap.continuous",init:function(){I.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,o){o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var text=e[1-n];text=null!=text?text+"":"";var o=this.visualMapModel,r=o.get("textGap"),l=o.itemSize,h=this._shapes.barGroup,d=this._applyTransform([l[0]/2,0===n?-r:l[1]+r],h),f=this._applyTransform(0===n?"bottom":"top",h),m=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new c.Text({style:{x:d[0],y:d[1],textVerticalAlign:"horizontal"===m?"middle":f,textAlign:"horizontal"===m?f:"center",text:text,textFont:v.getFont(),textFill:v.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,l=this._orient,h=this._useHandle,c=m.getItemAlign(e,this.api,r),d=n.barGroup=this._createBarGroup(c);d.add(n.outOfRange=T()),d.add(n.inRange=T(null,h?C(this._orient):null,o.bind(this._dragHandle,this,"all",!1),o.bind(this._dragHandle,this,"all",!0)));var f=e.textStyleModel.getTextRect(""),v=w(f.width,f.height);h&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(d,0,r,v,l,c),this._createHandle(d,1,r,v,l,c)),this._createIndicator(d,r,v,l),t.add(d)},_createHandle:function(t,e,n,r,h){var d=o.bind(this._dragHandle,this,e,!1),f=o.bind(this._dragHandle,this,e,!0),m=T(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,r),C(this._orient),d,f);m.position[0]=n[0],t.add(m);var v=this.visualMapModel.textStyleModel,y=new c.Text({draggable:!0,drift:d,onmousemove:function(t){l.stop(t.event)},ondragend:f,style:{x:0,y:0,text:"",textFont:v.getFont(),textFill:v.getTextColor()}});this.group.add(y);var x=["horizontal"===h?r/2:1.5*r,"horizontal"===h?0===e?-1.5*r:1.5*r:0===e?-r/2:r/2],_=this._shapes;_.handleThumbs[e]=m,_.handleLabelPoints[e]=x,_.handleLabels[e]=y},_createIndicator:function(t,e,n,o){var r=T([[0,0]],"move");r.position[0]=e[0],r.attr({invisible:!0,silent:!0}),t.add(r);var l=this.visualMapModel.textStyleModel,h=new c.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(h);var d=["horizontal"===o?n/2:M+3,0],f=this._shapes;f.indicator=r,f.indicatorLabel=h,f.indicatorLabelPoint=d},_dragHandle:function(t,e,n,o){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,o],this._shapes.barGroup,!0);this._updateInterval(t,r[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():A(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[y(e[0],n,o,!0),y(e[1],n,o,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,o=this._handleEnds,r=[0,n.itemSize[1]];f(e,o,r,t,0);var l=n.getExtent();this._dataInterval=[y(o[0],r,l,!0),y(o[1],r,l,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),o=this._shapes,r=[0,e.itemSize[1]],l=t?r:this._handleEnds,h=this._createBarVisual(this._dataInterval,n,l,"inRange"),c=this._createBarVisual(n,n,r,"outOfRange");o.inRange.setStyle({fill:h.barColor,opacity:h.opacity}).setShape("points",h.barPoints),o.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints),this._updateHandle(l,h)},_createBarVisual:function(t,e,n,o){var l={forceState:o,convertOpacityToAlpha:!0},h=this._makeColorGradient(t,l),c=[this.getControllerVisual(t[0],"symbolSize",l),this.getControllerVisual(t[1],"symbolSize",l)],d=this._createBarPoints(n,c);return{barColor:new r(0,0,0,1,h),barPoints:d,handlesColor:[h[0].color,h[h.length-1].color]}},_makeColorGradient:function(t,e){var n=[],o=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var i=1;i<100;i++){var r=t[0]+o*i;if(r>t[1])break;n.push({color:this.getControllerVisual(r,"color",e),offset:i/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new c.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,o=this.visualMapModel,r=n.handleThumbs,l=n.handleLabels;x([0,1],(function(h){var d=r[h];d.setStyle("fill",e.handlesColor[h]),d.position[1]=t[h];var f=c.applyTransform(n.handleLabelPoints[h],c.getTransform(d,this.group));l[h].setStyle({x:f[0],y:f[1],text:o.formatValueText(this._dataInterval[h]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===h?"bottom":"top":"left",n.barGroup)})}),this)}},_showIndicator:function(t,e,n,o){var r=this.visualMapModel,l=r.getExtent(),h=r.itemSize,d=[0,h[1]],f=y(t,l,d,!0),m=this._shapes,v=m.indicator;if(v){v.position[1]=f,v.attr("invisible",!1),v.setShape("points",function(t,e,n,o){return t?[[0,-_(e,w(n,0))],[M,0],[0,_(e,w(o-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,o,f,h[1]));var x=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});v.setStyle("fill",x);var S=c.applyTransform(m.indicatorLabelPoint,c.getTransform(v,this.group)),I=m.indicatorLabel;I.attr("invisible",!1);var T=this._applyTransform("left",m.barGroup),A=this._orient;I.setStyle({text:(n||"")+r.formatValueText(e),textVerticalAlign:"horizontal"===A?T:"middle",textAlign:"horizontal"===A?"center":T,x:S[0],y:S[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,o=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);o[1]=_(w(0,o[1]),n[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,o=n.itemSize;if(n.option.hoverLink){var r=[0,o[1]],l=n.getExtent();t=_(w(r[0],t),r[1]);var h=function(t,e,n){var o=S/2,r=t.get("hoverLinkDataSize");r&&(o=y(r,e,n,!0)/2);return o}(n,l,r),c=[t-h,t+h],d=y(t,r,l,!0),f=[y(c[0],r,l,!0),y(c[1],r,l,!0)];c[0]<r[0]&&(f[0]=-1/0),c[1]>r[1]&&(f[1]=1/0),e&&(f[0]===-1/0?this._showIndicator(d,f[1],"< ",h):f[1]===1/0?this._showIndicator(d,f[0],"> ",h):this._showIndicator(d,d," ",h));var x=this._hoverLinkDataIndices,M=[];(e||A(n))&&(M=this._hoverLinkDataIndices=n.findTargetDataIndices(f));var I=v.compressBatches(x,M);this._dispatchHighDown("downplay",m.convertDataIndex(I[0])),this._dispatchHighDown("highlight",m.convertDataIndex(I[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var o=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(o)){var data=o.getData(e.dataType),r=data.getDimension(n.getDataDimension(data)),l=data.get(r,e.dataIndex,!0);isNaN(l)||this._showIndicator(l,l)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",m.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,element,e,n){var r=c.getTransform(element,n?null:this.group);return c[o.isArray(t)?"applyTransform":"transformDirection"](t,r,e)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function T(t,cursor,e,n){return new c.Polygon({shape:{points:t},draggable:!!e,cursor:cursor,drift:e,onmousemove:function(t){l.stop(t.event)},ondragend:n})}function A(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function C(t){return"vertical"===t?"ns-resize":"ew-resize"}var L=I;t.exports=L},function(t,e,n){var o=n(220),r=n(398);n(399),n(400),n(698),n(699),n(405),o.registerPreprocessor(r)},function(t,e,n){n(223).__DEV__;var o=n(219),r=n(401),l=n(257),h=n(402),c=n(222).reformIntervals,d=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){d.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();f[this._mode].call(this),this._resetSelected(t,e);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=o.clone(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=o.map(this._pieceList,(function(t){t=o.clone(t);return"inRange"!==e&&(t.visual=null),t})))}))},completeVisualOption:function(){var option=this.option,t={},e=l.listVisualTypes(),n=this.isCategory();function c(t,e,n){return t&&t[e]&&(o.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}o.each(option.pieces,(function(n){o.each(e,(function(e){n.hasOwnProperty(e)&&(t[e]=1)}))})),o.each(t,(function(t,e){var r=0;o.each(this.stateList,(function(t){r|=c(option,t,e)||c(option.target,t,e)}),this),!r&&o.each(this.stateList,(function(t){(option[t]||(option[t]={}))[e]=h.get(e,"inRange"===t?"active":"inactive",n)}))}),this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,r=this._pieceList,l=(e?n:t).selected||{};if(n.selected=l,o.each(r,(function(t,e){var n=this.getSelectedMapKey(t);l.hasOwnProperty(n)||(l[n]=!0)}),this),"single"===n.selectedMode){var h=!1;o.each(r,(function(t,e){var n=this.getSelectedMapKey(t);l[n]&&(h?l[n]=!1:h=!0)}),this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=o.clone(t)},getValueState:function(t){var e=l.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(n){var o=[],data=n.getData();data.each(this.getDataDimension(data),(function(e,n){l.findPieceIndex(e,this._pieceList)===t&&o.push(n)}),!0,this),e.push({seriesId:n.id,dataIndex:o})}),this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){if(!this.isCategory()){var e=[],n=[],r=this,l=this._pieceList.slice();if(l.length){var h=l[0].interval[0];h!==-1/0&&l.unshift({interval:[-1/0,h]}),(h=l[l.length-1].interval[1])!==1/0&&l.push({interval:[h,1/0]})}else l.push({interval:[-1/0,1/0]});var c=-1/0;return o.each(l,(function(t){var e=t.interval;e&&(e[0]>c&&d([c,e[0]],"outOfRange"),d(e.slice()),c=e[1])}),this),{stops:e,outerColors:n}}function d(o,l){var h=r.getRepresentValue({interval:o});l||(l=r.getValueState(h));var c=t(h,l);o[0]===-1/0?n[0]=c:o[1]===1/0?n[1]=c:e.push({value:o[0],color:c},{value:o[1],color:c})}}}),f={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),r=this.getExtent(),l=t.splitNumber;l=Math.max(parseInt(l,10),1),t.splitNumber=l;for(var h=(r[1]-r[0])/l;+h.toFixed(n)!==h&&n<5;)n++;t.precision=n,h=+h.toFixed(n);var d=0;t.minOpen&&e.push({index:d++,interval:[-1/0,r[0]],close:[0,0]});for(var f=r[0],m=d+l;d<m;f+=h){var v=d===l-1?r[1]:f+h;e.push({index:d++,interval:[f,v],close:[1,1]})}t.maxOpen&&e.push({index:d++,interval:[r[1],1/0],close:[0,0]}),c(e),o.each(e,(function(t){t.text=this.formatValueText(t.interval)}),this)},categories:function(){var t=this.option;o.each(t.categories,(function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})}),this),m(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;o.each(t.pieces,(function(t,n){o.isObject(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var h=r.value=t.value;r.interval=[h,h],r.close=[1,1]}else{for(var c=r.interval=[],d=r.close=[0,0],f=[1,0,1],m=[-1/0,1/0],v=[],y=0;y<2;y++){for(var x=[["gte","gt","min"],["lte","lt","max"]][y],i=0;i<3&&null==c[y];i++)c[y]=t[x[i]],d[y]=f[i],v[y]=2===i;null==c[y]&&(c[y]=m[y])}v[0]&&c[1]===1/0&&(d[0]=0),v[1]&&c[0]===-1/0&&(d[1]=0),c[0]===c[1]&&d[0]&&d[1]&&(r.value=c[0])}r.visual=l.retrieveVisuals(t),e.push(r)}),this),m(t,e),c(e),o.each(e,(function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function m(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var v=d;t.exports=v},function(t,e,n){var o=n(219),r=n(403),l=n(221),h=n(238).createSymbol,c=n(225),d=n(404),f=r.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,h=r.getFont(),d=r.getTextColor(),f=this._getItemAlign(),m=e.itemSize,v=this._getViewData(),y=v.endsText,x=o.retrieve(e.get("showLabel",!0),!y);y&&this._renderEndsText(t,y[0],m,x,f),o.each(v.viewPieceList,(function(r){var c=r.piece,v=new l.Group;v.onclick=o.bind(this._onItemClick,this,c),this._enableHoverLink(v,r.indexInModelPieceList);var y=e.getRepresentValue(c);if(this._createItemSymbol(v,y,[0,0,m[0],m[1]]),x){var _=this.visualMapModel.getValueState(y);v.add(new l.Text({style:{x:"right"===f?-n:m[0]+n,y:m[1]/2,text:c.text,textVerticalAlign:"middle",textAlign:f,textFont:h,textFill:d,opacity:"outOfRange"===_?.5:1}}))}t.add(v)}),this),y&&this._renderEndsText(t,y[1],m,x,f),c.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:d.convertDataIndex(n.findTargetDataIndices(e))})}t.on("mouseover",o.bind(n,this,"highlight")).on("mouseout",o.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return d.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,text,e,n,o){if(text){var r=new l.Group,h=this.visualMapModel.textStyleModel;r.add(new l.Text({style:{x:n?"right"===o?e[0]:0:e[0]/2,y:e[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:text,textFont:h.getFont(),textFill:h.getTextColor()}})),t.add(r)}},_getViewData:function(){var t=this.visualMapModel,e=o.map(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),r=t.get("orient"),l=t.get("inverse");return("horizontal"===r?l:!l)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(h(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,option=e.option,n=o.clone(option.selected),r=e.getSelectedMapKey(t);"single"===option.selectedMode?(n[r]=!0,o.each(n,(function(t,e){n[e]=e===r}))):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=f},function(t,e,n){var o=n(220);n(701),n(702),o.registerPreprocessor((function(t){t.markPoint=t.markPoint||{}}))},function(t,e,n){var o=n(329).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});t.exports=o},function(t,e,n){var o=n(219),r=n(268),l=n(222),h=n(233),c=n(330);function d(t,e,n){var o=e.coordinateSystem;t.each((function(r){var h,c=t.getItemModel(r),d=l.parsePercent(c.get("x"),n.getWidth()),f=l.parsePercent(c.get("y"),n.getHeight());if(isNaN(d)||isNaN(f)){if(e.getMarkerPosition)h=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(o){var m=t.get(o.dimensions[0],r),v=t.get(o.dimensions[1],r);h=o.dataToPoint([m,v])}}else h=[d,f];isNaN(d)||(h[0]=d),isNaN(f)||(h[1]=f),t.setItemLayout(r,h)}))}var f=n(331).extend({type:"markPoint",updateLayout:function(t,e,n){e.eachSeries((function(t){var e=t.markPointModel;e&&(d(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))}),this)},renderSeries:function(t,e,n,l){var f=t.coordinateSystem,m=t.id,v=t.getData(),y=this.markerGroupMap,x=y.get(m)||y.set(m,new r),_=function(t,e,n){var r;r=t?o.map(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n})):[{name:"value",type:"float"}];var l=new h(r,n),d=o.map(n.get("data"),o.curry(c.dataTransform,e));t&&(d=o.filter(d,o.curry(c.dataFilter,t)));return l.initData(d,null,t?c.dimValueGetter:function(t){return t.value}),l}(f,t,e);e.setData(_),d(e.getData(),t,l),_.each((function(t){var n=_.getItemModel(t),o=n.getShallow("symbolSize");"function"==typeof o&&(o=o(e.getRawValue(t),e.getDataParams(t))),_.setItemVisual(t,{symbolSize:o,color:n.get("itemStyle.normal.color")||v.getVisual("color"),symbol:n.getShallow("symbol")})})),x.updateData(_),this.group.add(x.group),_.eachItemGraphicEl((function(t){t.traverse((function(t){t.dataModel=e}))})),x.__keep=!0,x.group.silent=e.get("silent")||t.get("silent")}});t.exports=f},function(t,e,n){var o=n(220);n(704),n(705),o.registerPreprocessor((function(t){t.markLine=t.markLine||{}}))},function(t,e,n){var o=n(329).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=o},function(t,e,n){var o=n(219),r=n(233),l=n(222),h=n(330),c=n(323),d=n(331),f=function(t,e,n,r){var data=t.getData(),l=r.type;if(!o.isArray(r)&&("min"===l||"max"===l||"average"===l||null!=r.xAxis||null!=r.yAxis)){var c,d;if(null!=r.yAxis||null!=r.xAxis)c=null!=r.yAxis?"y":"x",e.getAxis(c),d=o.retrieve(r.yAxis,r.xAxis);else{var f=h.getAxisInfo(r,data,e,t);c=f.valueDataDim,f.valueAxis,d=h.numCalculate(data,c,l)}var m="x"===c?0:1,v=1-m,y=o.clone(r),x={};y.type=null,y.coord=[],x.coord=[],y.coord[v]=-1/0,x.coord[v]=1/0;var _=n.get("precision");_>=0&&"number"==typeof d&&(d=+d.toFixed(Math.min(_,20))),y.coord[m]=x.coord[m]=d,r=[y,x,{type:l,valueIndex:r.valueIndex,value:d}]}return(r=[h.dataTransform(t,r[0]),h.dataTransform(t,r[1]),o.extend({},r[2])])[2].type=r[2].type||"",o.merge(r[2],r[0]),o.merge(r[2],r[1]),r};function m(t){return!isNaN(t)&&!isFinite(t)}function v(t,e,n,o){var r=1-t,l=o.dimensions[t];return m(e[r])&&m(n[r])&&e[t]===n[t]&&o.getAxis(l).containData(e[t])}function y(t,e){if("cartesian2d"===t.type){var n=e[0].coord,o=e[1].coord;if(n&&o&&(v(1,n,o,t)||v(0,n,o,t)))return!0}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1])}function x(data,t,e,n,o){var r,h=n.coordinateSystem,c=data.getItemModel(t),d=l.parsePercent(c.get("x"),o.getWidth()),f=l.parsePercent(c.get("y"),o.getHeight());if(isNaN(d)||isNaN(f)){if(n.getMarkerPosition)r=n.getMarkerPosition(data.getValues(data.dimensions,t));else{var v=h.dimensions,y=data.get(v[0],t),x=data.get(v[1],t);r=h.dataToPoint([y,x])}if("cartesian2d"===h.type){var _=h.getAxis("x"),w=h.getAxis("y");v=h.dimensions;m(data.get(v[0],t))?r[0]=_.toGlobalCoord(_.getExtent()[e?0:1]):m(data.get(v[1],t))&&(r[1]=w.toGlobalCoord(w.getExtent()[e?0:1]))}isNaN(d)||(r[0]=d),isNaN(f)||(r[1]=f)}else r=[d,f];data.setItemLayout(t,r)}var _=d.extend({type:"markLine",updateLayout:function(t,e,n){e.eachSeries((function(t){var e=t.markLineModel;if(e){var o=e.getData(),r=e.__from,l=e.__to;r.each((function(e){x(r,e,!0,t,n),x(l,e,!1,t,n)})),o.each((function(t){o.setItemLayout(t,[r.getItemLayout(t),l.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},renderSeries:function(t,e,n,l){var d=t.coordinateSystem,m=t.id,v=t.getData(),_=this.markerGroupMap,w=_.get(m)||_.set(m,new c);this.group.add(w.group);var S=function(t,e,n){var l;l=t?o.map(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n})):[{name:"value",type:"float"}];var c=new r(l,n),d=new r(l,n),m=new r([],n),v=o.map(n.get("data"),o.curry(f,e,t,n));t&&(v=o.filter(v,o.curry(y,t)));var x=t?h.dimValueGetter:function(t){return t.value};return c.initData(o.map(v,(function(t){return t[0]})),null,x),d.initData(o.map(v,(function(t){return t[1]})),null,x),m.initData(o.map(v,(function(t){return t[2]}))),m.hasItemOption=!0,{from:c,to:d,line:m}}(d,t,e),M=S.from,I=S.to,T=S.line;e.__from=M,e.__to=I,e.setData(T);var A=e.get("symbol"),C=e.get("symbolSize");function L(data,e,n){var o=data.getItemModel(e);x(data,e,n,t,l),data.setItemVisual(e,{symbolSize:o.get("symbolSize")||C[n?0:1],symbol:o.get("symbol",!0)||A[n?0:1],color:o.get("itemStyle.normal.color")||v.getVisual("color")})}o.isArray(A)||(A=[A,A]),"number"==typeof C&&(C=[C,C]),S.from.each((function(t){L(M,t,!0),L(I,t,!1)})),T.each((function(t){var e=T.getItemModel(t).get("lineStyle.normal.color");T.setItemVisual(t,{color:e||M.getItemVisual(t,"color")}),T.setItemLayout(t,[M.getItemLayout(t),I.getItemLayout(t)]),T.setItemVisual(t,{fromSymbolSize:M.getItemVisual(t,"symbolSize"),fromSymbol:M.getItemVisual(t,"symbol"),toSymbolSize:I.getItemVisual(t,"symbolSize"),toSymbol:I.getItemVisual(t,"symbol")})})),w.updateData(T),S.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){t.dataModel=e}))})),w.__keep=!0,w.group.silent=e.get("silent")||t.get("silent")}});t.exports=_},function(t,e,n){var o=n(220);n(707),n(708),o.registerPreprocessor((function(t){t.markArea=t.markArea||{}}))},function(t,e,n){var o=n(329).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});t.exports=o},function(t,e,n){var o=n(219),r=n(242),l=n(233),h=n(222),c=n(221),d=n(330),f=n(331),m=function(t,e,n,r){var l=d.dataTransform(t,r[0]),h=d.dataTransform(t,r[1]),c=o.retrieve,f=l.coord,m=h.coord;f[0]=c(f[0],-1/0),f[1]=c(f[1],-1/0),m[0]=c(m[0],1/0),m[1]=c(m[1],1/0);var v=o.mergeAll([{},l,h]);return v.coord=[l.coord,h.coord],v.x0=l.x,v.y0=l.y,v.x1=h.x,v.y1=h.y,v};function v(t){return!isNaN(t)&&!isFinite(t)}function y(t,e,n,o){var r=1-t;return v(e[r])&&v(n[r])}function x(t,e){var n=e.coord[0],o=e.coord[1];return!("cartesian2d"!==t.type||!n||!o||!y(1,n,o)&&!y(0,n,o))||(d.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||d.dataFilter(t,{coord:o,x:e.x1,y:e.y1}))}function _(data,t,e,n,o){var r,l=n.coordinateSystem,c=data.getItemModel(t),d=h.parsePercent(c.get(e[0]),o.getWidth()),f=h.parsePercent(c.get(e[1]),o.getHeight());if(isNaN(d)||isNaN(f)){if(n.getMarkerPosition)r=n.getMarkerPosition(data.getValues(e,t));else{var m=data.get(e[0],t),y=data.get(e[1],t);r=l.dataToPoint([m,y],!0)}if("cartesian2d"===l.type){var x=l.getAxis("x"),_=l.getAxis("y");m=data.get(e[0],t),y=data.get(e[1],t);v(m)?r[0]=x.toGlobalCoord(x.getExtent()["x0"===e[0]?0:1]):v(y)&&(r[1]=_.toGlobalCoord(_.getExtent()["y0"===e[1]?0:1]))}isNaN(d)||(r[0]=d),isNaN(f)||(r[1]=f)}else r=[d,f];return r}var w=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];f.extend({type:"markArea",updateLayout:function(t,e,n){e.eachSeries((function(t){var e=t.markAreaModel;if(e){var r=e.getData();r.each((function(e){var l=o.map(w,(function(o){return _(r,e,o,t,n)}));r.setItemLayout(e,l),r.getItemGraphicEl(e).setShape("points",l)}))}}),this)},renderSeries:function(t,e,n,h){var d=t.coordinateSystem,f=t.name,v=t.getData(),y=this.markerGroupMap,S=y.get(f)||y.set(f,{group:new c.Group});this.group.add(S.group),S.__keep=!0;var M=function(t,e,n){var r,h;t?(r=o.map(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n})),h=new l(o.map(["x0","y0","x1","y1"],(function(t,e){return{name:t,type:r[e%2].type}})),n)):h=new l(r=[{name:"value",type:"float"}],n);var c=o.map(n.get("data"),o.curry(m,e,t,n));t&&(c=o.filter(c,o.curry(x,t)));var d=t?function(t,e,n,o){return t.coord[Math.floor(o/2)][o%2]}:function(t){return t.value};return h.initData(c,null,d),h.hasItemOption=!0,h}(d,t,e);e.setData(M),M.each((function(e){M.setItemLayout(e,o.map(w,(function(n){return _(M,e,n,t,h)}))),M.setItemVisual(e,{color:v.getVisual("color")})})),M.diff(S.__data).add((function(t){var polygon=new c.Polygon({shape:{points:M.getItemLayout(t)}});M.setItemGraphicEl(t,polygon),S.group.add(polygon)})).update((function(t,n){var polygon=S.__data.getItemGraphicEl(n);c.updateProps(polygon,{shape:{points:M.getItemLayout(t)}},e,t),S.group.add(polygon),M.setItemGraphicEl(t,polygon)})).remove((function(t){var polygon=S.__data.getItemGraphicEl(t);S.group.remove(polygon)})).execute(),M.eachItemGraphicEl((function(polygon,t){var n=M.getItemModel(t),l=n.getModel("label.normal"),h=n.getModel("label.emphasis"),d=M.getItemVisual(t,"color");polygon.useStyle(o.defaults(n.getModel("itemStyle.normal").getItemStyle(),{fill:r.modifyAlpha(d,.4),stroke:d})),polygon.hoverStyle=n.getModel("itemStyle.emphasis").getItemStyle(),c.setLabelStyle(polygon.style,polygon.hoverStyle,l,h,{labelFetcher:e,labelDataIndex:t,defaultText:M.getName(t)||"",isRectText:!0,autoColor:d}),c.setHoverStyle(polygon,{}),polygon.dataModel=e})),S.__data=M,S.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){var o=n(220),r=n(710);n(711),n(712),n(713),n(715),o.registerPreprocessor(r)},function(t,e,n){var o=n(219);function r(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),label=t.label||t.label||{},r=label.normal||(label.normal={}),h={normal:1,emphasis:1};o.each(label,(function(t,e){h[e]||l(r,e)||(r[e]=t)})),n.label&&!l(label,"emphasis")&&(label.emphasis=n.label,delete n.label)}function l(t,e){return t.hasOwnProperty(e)}t.exports=function(option){var t=option&&option.timeline;o.isArray(t)||(t=t?[t]:[]),o.each(t,(function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(r(t),l(t,"controlPosition")){var h=t.controlStyle||(t.controlStyle={});l(h,"position")||(h.position=t.controlPosition),"none"!==h.position||l(h,"show")||(h.show=!1,delete h.position),delete t.controlPosition}o.each(t.data||[],(function(t){o.isObject(t)&&!o.isArray(t)&&(!l(t,"value")&&l(t,"name")&&(t.value=t.name),r(t))}))}(t)}))}},function(t,e,n){n(232).registerSubTypeDefaulter("timeline",(function(){return"slider"}))},function(t,e,n){var o=n(220),r=n(219);o.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),r.defaults({currentIndex:n.option.currentIndex},t)})),o.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))},function(t,e,n){var o=n(219),r=n(714),l=n(224),h=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});o.mixin(h,l.dataFormatMixin);var c=h;t.exports=c},function(t,e,n){var o=n(219),r=n(232),l=n(233),h=n(224),c=r.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(option,t,e){this._data,this._names,this.mergeDefaultAndTheme(option,e),this._initData()},mergeOption:function(option){c.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,r=this._names=[];if("category"===n){var c=[];o.each(e,(function(t,e){var n,l=h.getDataItemValue(t);o.isObject(t)?(n=o.clone(t)).value=e:n=e,c.push(n),o.isString(l)||null!=l&&!isNaN(l)||(l=""),r.push(l+"")})),e=c}var d={category:"ordinal",time:"time"}[n]||"number";(this._data=new l([{name:"value",type:d}],this)).initData(e,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),d=c;t.exports=d},function(t,e,n){var o=n(219),r=n(228),l=n(236),h=n(221),c=n(225),d=n(716),f=n(717),m=n(238).createSymbol,v=n(237),y=n(222),x=n(227).encodeHTML,_=o.bind,w=o.each,S=Math.PI,M=d.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n,o){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),l=this._createGroup("mainGroup"),h=this._createGroup("labelGroup"),c=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){return x(c.scale.getLabel(t))},w(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](r,l,c,t)}),this),this._renderAxisLabel(r,h,c,t),this._position(r,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.normal.position"),o=t.get("orient"),r=function(t,e){return c.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===o?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][n]);var l,h,d,f,m={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},v={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:S/2},x="vertical"===o?r.height:r.width,_=t.getModel("controlStyle"),w=(A=_.get("show"))?_.get("itemSize"):0,M=A?_.get("itemGap"):0,I=w+M,T=t.get("label.normal.rotate")||0;T=T*S/180;var A,C=_.get("position",!0),L=(A=_.get("show",!0))&&_.get("showPlayBtn",!0),D=A&&_.get("showPrevBtn",!0),P=A&&_.get("showNextBtn",!0),k=0,O=x;return"left"===C||"bottom"===C?(L&&(l=[0,0],k+=I),D&&(h=[k,0],k+=I),P&&(d=[O-w,0],O-=I)):(L&&(l=[O-w,0],O-=I),D&&(h=[0,0],k+=I),P&&(d=[O-w,0],O-=I)),f=[k,O],t.get("inverse")&&f.reverse(),{viewRect:r,mainLength:x,orient:o,rotation:y[o],labelRotation:T,labelPosOpt:n,labelAlign:t.get("label.normal.align")||m[o],labelBaseline:t.get("label.normal.verticalAlign")||t.get("label.normal.baseline")||v[o],playPosition:l,prevBtnPosition:h,nextBtnPosition:d,axisExtent:f,controlSize:w,controlGap:M}},_position:function(t,e){var n=this._mainGroup,o=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var h=l.create(),c=r.x,d=r.y+r.height;l.translate(h,h,[-c,-d]),l.rotate(h,h,-S/2),l.translate(h,h,[c,d]),(r=r.clone()).applyTransform(h)}var f=I(r),m=I(n.getBoundingRect()),v=I(o.getBoundingRect()),y=n.position,x=o.position;x[0]=y[0]=f[0][0];var _,w=t.labelPosOpt;isNaN(w)?(T(y,m,f,1,_="+"===w?0:1),T(x,v,f,1,1-_)):(T(y,m,f,1,_=w>=0?0:1),x[1]=y[1]+w);function M(t){var e=t.position;t.origin=[f[0][0]-e[0],f[1][0]-e[1]]}function I(rect){return[[rect.x,rect.x+rect.width],[rect.y,rect.y+rect.height]]}function T(t,e,n,o,r){t[o]+=n[o][r]-e[o][r]}n.attr("position",y),o.attr("position",x),n.rotation=o.rotation=t.rotation,M(n),M(o)},_createAxis:function(t,e){var data=e.getData(),n=e.get("axisType"),o=v.createScaleByModel(e,n),r=data.getDataExtent("value");o.setExtent(r[0],r[1]),this._customizeScale(o,data),o.niceTicks();var l=new f("value",o,t.axisExtent,n);return l.model=e,l},_customizeScale:function(t,data){t.getTicks=function(){return data.mapArray(["value"],(function(t){return t}))},t.getTicksLabels=function(){return o.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new h.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,r){var l=n.getExtent();r.get("lineStyle.show")&&e.add(new h.Line({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:o.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,o){var data=o.getData(),r=n.scale.getTicks();w(r,(function(t,r){var l=n.dataToCoord(t),c=data.getItemModel(r),d=c.getModel("itemStyle.normal"),f=c.getModel("itemStyle.emphasis"),m={position:[l,0],onclick:_(this._changeTimeline,this,r)},v=I(c,d,e,m);h.setHoverStyle(v,f.getItemStyle()),c.get("tooltip")?(v.dataIndex=r,v.dataModel=o):v.dataIndex=v.dataModel=null}),this)},_renderAxisLabel:function(t,e,n,o){var r=o.getModel("label.normal");if(r.get("show")){var data=o.getData(),l=n.scale.getTicks(),c=v.getFormattedLabels(n,r.get("formatter")),d=n.getLabelInterval();w(l,(function(o,r){if(!n.isLabelIgnored(r,d)){var l=data.getItemModel(r),f=l.getModel("label.normal"),m=l.getModel("label.emphasis"),v=n.dataToCoord(o),y=new h.Text({position:[v,0],rotation:t.labelRotation-t.rotation,onclick:_(this._changeTimeline,this,r),silent:!1});h.setTextStyle(y.style,f,{text:c[r],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(y),h.setHoverStyle(y,h.setTextStyle({},m))}}),this)}},_renderControl:function(t,e,n,l){var c=t.controlSize,d=t.rotation,f=l.getModel("controlStyle.normal").getItemStyle(),m=l.getModel("controlStyle.emphasis").getItemStyle(),rect=[0,-c/2,c,c],v=l.getPlayState(),y=l.get("inverse",!0);function x(t,n,v,y){if(t){var x=function(t,e,rect,n){return h.makePath(t.get(e).replace(/^path:\/\//,""),o.clone(n||{}),new r(rect[0],rect[1],rect[2],rect[3]),"center")}(l,n,rect,{position:t,origin:[c/2,0],rotation:y?-d:0,rectHover:!0,style:f,onclick:v});e.add(x),h.setHoverStyle(x,m)}}x(t.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,y?"-":"+")),x(t.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,y?"+":"-")),x(t.playPosition,"controlStyle."+(v?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!v),!0)},_renderCurrentPointer:function(t,e,n,o){var data=o.getData(),r=o.getCurrentIndex(),l=data.getItemModel(r).getModel("checkpointStyle"),h=this,c={onCreate:function(t){t.draggable=!0,t.drift=_(h._handlePointerDrag,h),t.ondragend=_(h._handlePointerDragend,h),T(t,r,n,o,!0)},onUpdate:function(t){T(t,r,n,o)}};this._currentPointer=I(l,l,this._mainGroup,{},this._currentPointer,c)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],o=this._axis,r=y.asc(o.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var l=this._findNearestTick(n),h=this.model;(e||l!==h.getCurrentIndex()&&h.get("realtime"))&&this._changeTimeline(l)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_((function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return h.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,data=this.model.getData(),n=1/0,o=this._axis;return data.each(["value"],(function(r,l){var h=o.dataToCoord(r),c=Math.abs(h-t);c<n&&(n=c,e=l)})),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});function I(t,e,n,r,symbol,l){var h=e.get("color");if(symbol)symbol.setColor(h),n.add(symbol),l&&l.onUpdate(symbol);else{var c=t.get("symbol");(symbol=m(c,-1,-1,2,2,h)).setStyle("strokeNoScale",!0),n.add(symbol),l&&l.onCreate(symbol)}var d=e.getItemStyle(["color","symbol","symbolSize"]);symbol.setStyle(d),r=o.merge({rectHover:!0,z2:100},r,!0);var f=t.get("symbolSize");(f=f instanceof Array?f.slice():[+f,+f])[0]/=2,f[1]/=2,r.scale=f;var v=t.get("symbolOffset");if(v){var x=r.position=r.position||[0,0];x[0]+=y.parsePercent(v[0],f[0]),x[1]+=y.parsePercent(v[1],f[1])}var _=t.get("symbolRotate");return r.rotation=(_||0)*Math.PI/180||0,symbol.attr(r),symbol.updateTransform(),symbol}function T(t,e,n,o,r){if(!t.dragging){var l=o.getModel("checkpointStyle"),h=n.dataToCoord(o.getData().get(["value"],e));r||!l.get("animation",!0)?t.attr({position:[h,0]}):(t.stopAnimation(!0),t.animateTo({position:[h,0]},l.get("animationDuration",!0),l.get("animationEasing",!0)))}}t.exports=M},function(t,e,n){var o=n(316).extend({type:"timeline"});t.exports=o},function(t,e,n){var o=n(219),r=n(248),l=n(237),h=function(t,e,n,o){r.call(this,t,e,n),this.type=o||"value",this._autoLabelInterval,this.model=null};h.prototype={constructor:h,getLabelInterval:function(){var t,e=this.model,n=e.getModel("label.normal");return null!=(t=n.get("interval"))&&"auto"!=t?t:((t=this._autoLabelInterval)||(t=this._autoLabelInterval=l.getAxisLabelInterval(o.map(this.scale.getTicks(),this.dataToCoord,this),l.getFormattedLabels(this,n.get("formatter")),n.getFont(),"horizontal"===e.get("orient")?0:90,n.get("rotate"))),t)},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},o.inherits(h,r);var c=h;t.exports=c},function(t,e,n){n(719),n(720),n(721),n(722),n(723),n(724),n(728)},function(t,e,n){var o=n(220),r=n(219),l=n(249),h=o.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(option){h.superApply(this,"mergeDefaultAndTheme",arguments),r.each(this.option.feature,(function(t,e){var n=l.get(e);n&&r.merge(t,n.defaultOption)}))},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}}),c=h;t.exports=c},function(t,e,n){var o=n(220),r=n(219),l=n(240),h=n(249),c=n(221),d=n(229),f=n(261),m=n(393),v=o.extendComponentView({type:"toolbox",render:function(t,e,n,o){var v=this.group;if(v.removeAll(),t.get("show")){var y=+t.get("itemSize"),x=t.get("feature")||{},_=this._features||(this._features={}),w=[];r.each(x,(function(t,e){w.push(e)})),new f(this._featureNames||[],w).add(S).update(S).remove(r.curry(S,null)).execute(),this._featureNames=w,m.layout(v,t,n),v.add(m.makeBackground(v.getBoundingRect(),t)),v.eachChild((function(t){var e=t.__title,o=t.hoverStyle;if(o&&e){var rect=l.getBoundingRect(e,l.makeFont(o)),r=t.position[0]+v.position[0],h=!1;t.position[1]+v.position[1]+y+rect.height>n.getHeight()&&(o.textPosition="top",h=!0);var c=h?-5-rect.height:y+8;r+rect.width/2>n.getWidth()?(o.textPosition=["100%",c],o.textAlign="right"):r-rect.width/2<0&&(o.textPosition=[0,c],o.textAlign="left")}}))}function S(l,f){var m,S=w[l],M=w[f],I=x[S],T=new d(I,t,t.ecModel);if(S&&!M){if(function(t){return 0===t.indexOf("my")}(S))m={model:T,onclick:T.option.onclick,featureName:S};else{var A=h.get(S);if(!A)return;m=new A(T,e,n)}_[S]=m}else{if(!(m=_[M]))return;m.model=T,m.ecModel=e,m.api=n}S||!M?T.get("show")&&!m.unusable?(!function(o,l,h){var d=o.getModel("iconStyle"),f=l.getIcons?l.getIcons():o.get("icon"),m=o.get("title")||{};if("string"==typeof f){var x=f,title=m;m={},(f={})[h]=x,m[h]=title}var _=o.iconPaths={};r.each(f,(function(h,f){var path=c.createIcon(h,{},{x:-y/2,y:-y/2,width:y,height:y});path.setStyle(d.getModel("normal").getItemStyle()),path.hoverStyle=d.getModel("emphasis").getItemStyle(),c.setHoverStyle(path),t.get("showTitle")&&(path.__title=m[f],path.on("mouseover",(function(){var t=d.getModel("emphasis").getItemStyle();path.setStyle({text:m[f],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})})).on("mouseout",(function(){path.setStyle({textFill:null})}))),path.trigger(o.get("iconStatus."+f)||"normal"),v.add(path),path.on("click",r.bind(l.onclick,l,e,n,f)),_[f]=path}))}(T,m,S),T.setIconStatus=function(t,e){var option=this.option,n=this.iconPaths;option.iconStatus=option.iconStatus||{},option.iconStatus[t]=e,n[t]&&n[t].trigger(e)},m.render&&m.render(T,e,n,o)):m.remove&&m.remove(e,n):m.dispose&&m.dispose(e,n)}},updateView:function(t,e,n,o){r.each(this._features,(function(t){t.updateView&&t.updateView(t.model,e,n,o)}))},updateLayout:function(t,e,n,o){r.each(this._features,(function(t){t.updateLayout&&t.updateLayout(t.model,e,n,o)}))},remove:function(t,e){r.each(this._features,(function(n){n.remove&&n.remove(t,e)})),this.group.removeAll()},dispose:function(t,e){r.each(this._features,(function(n){n.dispose&&n.dispose(t,e)}))}});t.exports=v},function(t,e,n){var o=n(230),r=n(263),l=n(249),h=r.toolbox.saveAsImage;function c(t){this.model=t}c.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:h.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:h.lang.slice()},c.prototype.unusable=!o.canvasSupported,c.prototype.onclick=function(t,e){var n=this.model,title=n.get("name")||t.get("title.0.text")||"echarts",r=document.createElement("a"),l=n.get("type",!0)||"png";r.download=title+"."+l,r.target="_blank";var h=e.getConnectedDataURL({type:l,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=h,"function"!=typeof MouseEvent||o.browser.ie||o.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var c=atob(h.split(",")[1]),d=c.length,f=new Uint8Array(d);d--;)f[d]=c.charCodeAt(d);var m=new Blob([f]);window.navigator.msSaveOrOpenBlob(m,title+"."+l)}else{var v=n.get("lang"),html='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>';window.open().document.write(html)}else{var y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(y)}},l.register("saveAsImage",c);var d=c;t.exports=d},function(t,e,n){var o=n(220),r=n(219),l=n(263),h=n(249),c=l.toolbox.magicType;function d(t){this.model=t}d.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:r.clone(c.title),option:{},seriesIndex:{}};var f=d.prototype;f.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return r.each(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n};var m={line:function(t,e,n,o){if("bar"===t)return r.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get("option.line")||{},!0)},bar:function(t,e,n,o){if("line"===t)return r.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get("option.bar")||{},!0)},stack:function(t,e,n,o){if("line"===t||"bar"===t)return r.merge({id:e,stack:"__ec_magicType_stack__"},o.get("option.stack")||{},!0)},tiled:function(t,e,n,o){if("line"===t||"bar"===t)return r.merge({id:e,stack:""},o.get("option.tiled")||{},!0)}},v=[["line","bar"],["stack","tiled"]];f.onclick=function(t,e,n){var o=this.model,l=o.get("seriesIndex."+n);if(m[n]){var h={series:[]};r.each(v,(function(t){r.indexOf(t,n)>=0&&r.each(t,(function(t){o.setIconStatus(t,"normal")}))})),o.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==l?null:{seriesIndex:l}},(function(e){var l=e.subType,c=e.id,d=m[n](l,c,e,o);d&&(r.defaults(d,e.option),h.series.push(d));var f=e.coordinateSystem;if(f&&"cartesian2d"===f.type&&("line"===n||"bar"===n)){var v=f.getAxesByScale("ordinal")[0];if(v){var y=v.dim+"Axis",x=t.queryComponents({mainType:y,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;h[y]=h[y]||[];for(var i=0;i<=x;i++)h[y][x]=h[y][x]||{};h[y][x].boundaryGap="bar"===n}}})),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:h})}},o.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)})),h.register("magicType",d);var y=d;t.exports=y},function(t,e,n){var o=n(220),r=n(219),l=n(243),h=n(263),c=n(249),d=h.toolbox.dataView,f=new Array(60).join("-"),m="\t";function v(t){return r.map(t,(function(t){var data=t.getRawData(),e=[t.name],n=[];return data.each(data.dimensions,(function(){for(var t=arguments.length,o=arguments[t-1],r=data.getName(o),i=0;i<t-1;i++)n[i]=arguments[i];e.push((r?r+m:"")+n.join(m))})),e.join("\n")})).join("\n\n"+f+"\n\n")}function y(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var x=new RegExp("["+m+"]+","g");function _(t,e){var n=t.split(new RegExp("\n*"+f+"\n*","g")),o={series:[]};return r.each(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(m)>=0)return!0}(t)){var l=function(t){for(var e=t.split(/\n+/g),n=y(e.shift()).split(x),o=[],l=r.map(n,(function(header){return{name:header,data:[]}})),i=0;i<e.length;i++){var h=y(e[i]).split(x);o.push(h.shift());for(var c=0;c<h.length;c++)l[c]&&(l[c].data[i]=h[c])}return{series:l,categories:o}}(t),h=e[n],c=h.axisDim+"Axis";h&&(o[c]=o[c]||[],o[c][h.axisIndex]={data:l.categories},o.series=o.series.concat(l.series))}else{l=function(t){for(var e=t.split(/\n+/g),n=y(e.shift()),data=[],i=0;i<e.length;i++){var o,r=y(e[i]).split(x),l="",h=!1;isNaN(r[0])?(h=!0,l=r[0],r=r.slice(1),data[i]={name:l,value:[]},o=data[i].value):o=data[i]=[];for(var c=0;c<r.length;c++)o.push(+r[c]);1===o.length&&(h?data[i].value=o[0]:data[i]=o[0])}return{name:n,data:data}}(t);o.series.push(l)}})),o}function w(t){this._dom=null,this.model=t}function S(t,e){return r.map(t,(function(t,n){var o=e&&e[n];return r.isObject(o)&&!r.isArray(o)?(r.isObject(t)&&!r.isArray(t)&&(t=t.value),r.defaults({value:t},o)):t}))}w.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.clone(d.title),lang:r.clone(d.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},w.prototype.onclick=function(t,e){var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var h=document.createElement("div");h.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",h.style.backgroundColor=o.get("backgroundColor")||"#fff";var header=document.createElement("h4"),c=o.get("lang")||[];header.innerHTML=c[0]||o.get("title"),header.style.cssText="margin: 10px 20px;",header.style.color=o.get("textColor");var d=document.createElement("div"),textarea=document.createElement("textarea");d.style.cssText="display:block;width:100%;overflow:auto;";var y=o.get("optionToContent"),x=o.get("contentToOption"),w=function(t){var e,n,o=function(t){var e={},n=[],meta=[];return t.eachRawSeries((function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(t);else{var r=o.getBaseAxis();if("category"===r.type){var l=r.dim+"_"+r.index;e[l]||(e[l]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},meta.push({axisDim:r.dim,axisIndex:r.index})),e[l].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:meta}}(t);return{value:r.filter([(e=o.seriesGroupByCategoryAxis,n=[],r.each(e,(function(t,e){var o=t.categoryAxis,l=t.valueAxis.dim,h=[" "].concat(r.map(t.series,(function(t){return t.name}))),c=[o.model.getCategories()];r.each(t.series,(function(t){c.push(t.getRawData().mapArray(l,(function(t){return t})))}));for(var d=[h.join(m)],i=0;i<c[0].length;i++){for(var f=[],v=0;v<c.length;v++)f.push(c[v][i]);d.push(f.join(m))}n.push(d.join("\n"))})),n.join("\n\n"+f+"\n\n")),v(o.other)],(function(t){return t.replace(/[\n\t\s]/g,"")})).join("\n\n"+f+"\n\n"),meta:o.meta}}(t);if("function"==typeof y){var S=y(e.getOption());"string"==typeof S?d.innerHTML=S:r.isDom(S)&&d.appendChild(S)}else d.appendChild(textarea),textarea.readOnly=o.get("readOnly"),textarea.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",textarea.style.color=o.get("textColor"),textarea.style.borderColor=o.get("textareaBorderColor"),textarea.style.backgroundColor=o.get("textareaColor"),textarea.value=w.value;var M=w.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:0;left:0;right:0;";var T="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),C=document.createElement("div");T+=";background-color:"+o.get("buttonColor"),T+=";color:"+o.get("buttonTextColor");var L=this;function D(){n.removeChild(h),L._dom=null}l.addEventListener(A,"click",D),l.addEventListener(C,"click",(function(){var t;try{t="function"==typeof x?x(d,e.getOption()):_(textarea.value,M)}catch(t){throw D(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),D()})),A.innerHTML=c[1],C.innerHTML=c[2],C.style.cssText=T,A.style.cssText=T,!o.get("readOnly")&&I.appendChild(C),I.appendChild(A),l.addEventListener(textarea,"keydown",(function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,o=this.selectionEnd;this.value=e.substring(0,n)+m+e.substring(o),this.selectionStart=this.selectionEnd=n+1,l.stop(t)}})),h.appendChild(header),h.appendChild(d),h.appendChild(I),d.style.height=n.clientHeight-80+"px",n.appendChild(h),this._dom=h},w.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},w.prototype.dispose=function(t,e){this.remove(t,e)},c.register("dataView",w),o.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];r.each(t.newOption.series,(function(t){var o=e.getSeriesByName(t.name)[0];if(o){var l=o.get("data");n.push({name:t.name,data:S(t.data,l)})}else n.push(r.extend({type:"scatter"},t))})),e.mergeOption(r.defaults({series:n},t.newOption))}));var M=w;t.exports=M},function(t,e,n){var o=n(220),r=n(219),l=n(325),h=n(394),c=n(406),d=n(271),f=n(263),m=n(249);n(725);var v=f.toolbox.dataZoom,y=r.each,x="\0_ec_\0toolbox-dataZoom_";function _(t,e,n){(this._brushController=new l(n.getZr())).on("brush",r.bind(this._onBrush,this)).mount(),this._isZoomActive}_.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.clone(v.title)};var w=_.prototype;w.render=function(t,e,n,o){this.model=t,this.ecModel=e,this.api=n,function(t,e,view,n,o){var r=view._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive);view._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var l=new h(M(t.option),e,{include:["grid"]});view._brushController.setPanels(l.makePanelOpts(o,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}))).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,o,n),function(t,e){t.setIconStatus("back",c.count(e)>1?"emphasis":"normal")}(t,e)},w.onclick=function(t,e,n){S[n].call(this)},w.remove=function(t,e){this._brushController.unmount()},w.dispose=function(t,e){this._brushController.dispose()};var S={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(c.pop(this.ecModel))}};function M(option){var t={};return r.each(["xAxisIndex","yAxisIndex"],(function(e){t[e]=option[e],null==t[e]&&(t[e]="all"),(!1===t[e]||"none"===t[e])&&(t[e]=[])})),t}w._onBrush=function(t,e){if(e.isEnd&&t.length){var n={},o=this.ecModel;this._brushController.updateCovers([]),new h(M(this.model.option),o,{include:["grid"]}).matchOutputRanges(t,o,(function(area,t,e){if("cartesian2d"===e.type){var n=area.brushType;"rect"===n?(r("x",e,t[0]),r("y",e,t[1])):r({lineX:"x",lineY:"y"}[n],e,t)}})),c.push(o,n),this._dispatchZoomAction(n)}function r(t,e,r){var l=e.getAxis(t),h=l.model,c=function(t,e,n){var o;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(o=n)})),o}(t,h,o),f=c.findRepresentativeAxisProxy(h).getMinMaxSpan();null==f.minValueSpan&&null==f.maxValueSpan||(r=d(0,r.slice(),l.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),c&&(n[c.id]={dataZoomId:c.id,startValue:r[0],endValue:r[1]})}},w._dispatchZoomAction=function(t){var e=[];y(t,(function(t,n){e.push(r.clone(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},m.register("dataZoom",_),o.registerPreprocessor((function(option){if(option){var t=option.dataZoom||(option.dataZoom=[]);r.isArray(t)||(option.dataZoom=t=[t]);var e=option.toolbox;if(e&&(r.isArray(e)&&(e=e[0]),e&&e.feature)){var n=e.feature.dataZoom;o("xAxis",n),o("yAxis",n)}}function o(e,n){if(n){var o=e+"Index",l=n[o];null==l||"all"==l||r.isArray(l)||(l=!1===l||"none"===l?[]:[l]),function(t,e){var n=option[t];r.isArray(n)||(n=n?[n]:[]);y(n,e)}(e,(function(n,h){if(null==l||"all"==l||-1!==r.indexOf(l,h)){var c={type:"select",$fromToolbox:!0,id:x+e+h};c[o]=h,t.push(c)}}))}}}));var I=_;t.exports=I},function(t,e,n){n(395),n(273),n(274),n(726),n(727),n(396),n(397)},function(t,e,n){var o=n(273).extend({type:"dataZoom.select"});t.exports=o},function(t,e,n){var o=n(274).extend({type:"dataZoom.select"});t.exports=o},function(t,e,n){var o=n(220),r=n(406),l=n(263),h=n(249),c=l.toolbox.restore;function d(t){this.model=t}d.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:c.title},d.prototype.onclick=function(t,e,n){r.clear(t),e.dispatchAction({type:"restore",from:this.uid})},h.register("restore",d),o.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var f=d;t.exports=f},function(t,e,n){n(730),(0,n(275).registerPainter)("vml",n(731))},function(t,e,n){var o=n(230),r=n(226).applyTransform,l=n(228),h=n(242),c=n(240),d=n(279),f=n(344),m=n(278),v=n(266),y=n(267),x=n(231),_=n(260),w=n(280),S=n(407),M=_.CMD,I=Math.round,T=Math.sqrt,A=Math.abs,C=Math.cos,L=Math.sin,D=Math.max;if(!o.canvasSupported){var P=21600,k=P/2,O=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=P+","+P,t.coordorigin="0,0"},E=function(t,g,b){return"rgb("+[t,g,b].join(",")+")"},z=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},N=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},R=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},V=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},B=function(t,e,n){var o=h.parse(e);n=+n,isNaN(n)&&(n=1),o&&(t.color=E(o[0],o[1],o[2]),t.opacity=n*o[3])},G=function(t,e,style,n){var o="fill"==e,l=t.getElementsByTagName(e)[0];null!=style[e]&&"none"!==style[e]&&(o||!o&&style.lineWidth)?(t[o?"filled":"stroked"]="true",style[e]instanceof w&&N(t,l),l||(l=S.createNode(e)),o?function(t,style,e){var n,o,l=style.fill;if(null!=l)if(l instanceof w){var c,d=0,f=[0,0],m=0,v=1,rect=e.getBoundingRect(),y=rect.width,x=rect.height;if("linear"===l.type){c="gradient";var _=e.transform,S=[l.x*y,l.y*x],M=[l.x2*y,l.y2*x];_&&(r(S,S,_),r(M,M,_));var I=M[0]-S[0],T=M[1]-S[1];(d=180*Math.atan2(I,T)/Math.PI)<0&&(d+=360),d<1e-6&&(d=0)}else{c="gradientradial";S=[l.x*y,l.y*x],_=e.transform;var A=e.scale,C=y,L=x;f=[(S[0]-rect.x)/C,(S[1]-rect.y)/L],_&&r(S,S,_),C/=A[0]*P,L/=A[1]*P;var k=D(C,L);m=0/k,v=2*l.r/k-m}var O=l.colorStops.slice();O.sort((function(t,e){return t.offset-e.offset}));for(var z=O.length,N=[],R=[],i=0;i<z;i++){var V=O[i],G=(n=V.color,o=void 0,o=h.parse(n),[E(o[0],o[1],o[2]),o[3]]);R.push(V.offset*v+m+" "+G[0]),0!==i&&i!==z-1||N.push(G)}if(z>=2){var H=N[0][0],W=N[1][0],F=N[0][1]*style.opacity,Z=N[1][1]*style.opacity;t.type=c,t.method="none",t.focus="100%",t.angle=d,t.color=H,t.color2=W,t.colors=R.join(","),t.opacity=Z,t.opacity2=F}"radial"===c&&(t.focusposition=f.join(","))}else B(t,l,style.opacity)}(l,style,n):function(t,style){null!=style.lineDash&&(t.dashstyle=style.lineDash.join(" ")),null==style.stroke||style.stroke instanceof w||B(t,style.stroke,style.opacity)}(l,style),z(t,l)):(t[o?"filled":"stroked"]="false",N(t,l))},H=[[],[],[]];x.prototype.brushVML=function(t){var style=this.style,e=this._vmlEl;e||(e=S.createNode("shape"),O(e),this._vmlEl=e),G(e,"fill",style,this),G(e,"stroke",style,this);var n=this.transform,o=null!=n,l=e.getElementsByTagName("stroke")[0];if(l){var h=style.lineWidth;if(o&&!style.strokeNoScale){var c=n[0]*n[3]-n[1]*n[2];h*=T(A(c))}l.weight=h+"px"}var path=this.path||(this.path=new _);this.__dirtyPath&&(path.beginPath(),this.buildPath(path,this.shape),path.toStatic(),this.__dirtyPath=!1),e.path=function(path,t){var e,n,o,i,l,h,c=M.M,d=M.C,f=M.L,m=M.A,v=M.Q,y=[],data=path.data,x=path.len();for(i=0;i<x;){switch(n="",e=0,o=data[i++]){case c:n=" m ",e=1,l=data[i++],h=data[i++],H[0][0]=l,H[0][1]=h;break;case f:n=" l ",e=1,l=data[i++],h=data[i++],H[0][0]=l,H[0][1]=h;break;case v:case d:n=" c ",e=3;var _,w,S=data[i++],A=data[i++],D=data[i++],O=data[i++];o===v?(_=D,w=O,D=(D+2*S)/3,O=(O+2*A)/3,S=(l+2*S)/3,A=(h+2*A)/3):(_=data[i++],w=data[i++]),H[0][0]=S,H[0][1]=A,H[1][0]=D,H[1][1]=O,H[2][0]=_,H[2][1]=w,l=_,h=w;break;case m:var E=0,z=0,N=1,R=1,V=0;t&&(E=t[4],z=t[5],N=T(t[0]*t[0]+t[1]*t[1]),R=T(t[2]*t[2]+t[3]*t[3]),V=Math.atan2(-t[1]/R,t[0]/N));var B=data[i++],G=data[i++],W=data[i++],F=data[i++],Z=data[i++]+V,U=data[i++]+Z+V;i++;var j=data[i++],X=B+C(Z)*W,Y=G+L(Z)*F,$=(S=B+C(U)*W,A=G+L(U)*F,j?" wa ":" at ");Math.abs(X-S)<1e-4&&(Math.abs(U-Z)>.01?j&&(X+=.0125):Math.abs(Y-G)<1e-4?j&&X<B||!j&&X>B?A-=.0125:A+=.0125:j&&Y<G||!j&&Y>G?S+=.0125:S-=.0125),y.push($,I(((B-W)*N+E)*P-k),",",I(((G-F)*R+z)*P-k),",",I(((B+W)*N+E)*P-k),",",I(((G+F)*R+z)*P-k),",",I((X*N+E)*P-k),",",I((Y*R+z)*P-k),",",I((S*N+E)*P-k),",",I((A*R+z)*P-k)),l=S,h=A;break;case M.R:var K=H[0],J=H[1];K[0]=data[i++],K[1]=data[i++],J[0]=K[0]+data[i++],J[1]=K[1]+data[i++],t&&(r(K,K,t),r(J,J,t)),K[0]=I(K[0]*P-k),J[0]=I(J[0]*P-k),K[1]=I(K[1]*P-k),J[1]=I(J[1]*P-k),y.push(" m ",K[0],",",K[1]," l ",J[0],",",K[1]," l ",J[0],",",J[1]," l ",K[0],",",J[1]);break;case M.Z:y.push(" x ")}if(e>0){y.push(n);for(var Q=0;Q<e;Q++){var p=H[Q];t&&r(p,p,t),y.push(I(p[0]*P-k),",",I(p[1]*P-k),Q<e-1?",":"")}}}return y.join("")}(path,this.transform),e.style.zIndex=R(this.zlevel,this.z,this.z2),z(t,e),null!=style.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},x.prototype.onRemove=function(t){N(t,this._vmlEl),this.removeRectText(t)},x.prototype.onAdd=function(t){z(t,this._vmlEl),this.appendRectText(t)};v.prototype.brushVML=function(t){var e,n,img,style=this.style,image=style.image;if("object"==typeof(img=image)&&img.tagName&&"IMG"===img.tagName.toUpperCase()){var o=image.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var l=image.runtimeStyle,h=l.width,c=l.height;l.width="auto",l.height="auto",e=image.width,n=image.height,l.width=h,l.height=c,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}image=o}else image===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(image){var d=style.x||0,f=style.y||0,m=style.width,v=style.height,y=style.sWidth,x=style.sHeight,_=style.sx||0,w=style.sy||0,M=y&&x,A=this._vmlEl;A||(A=S.doc.createElement("div"),O(A),this._vmlEl=A);var C,L=A.style,P=!1,k=1,E=1;if(this.transform&&(C=this.transform,k=T(C[0]*C[0]+C[1]*C[1]),E=T(C[2]*C[2]+C[3]*C[3]),P=C[1]||C[2]),P){var N=[d,f],V=[d+m,f],B=[d,f+v],G=[d+m,f+v];r(N,N,C),r(V,V,C),r(B,B,C),r(G,G,C);var H=D(N[0],V[0],B[0],G[0]),W=D(N[1],V[1],B[1],G[1]),F=[];F.push("M11=",C[0]/k,",","M12=",C[2]/E,",","M21=",C[1]/k,",","M22=",C[3]/E,",","Dx=",I(d*k+C[4]),",","Dy=",I(f*E+C[5])),L.padding="0 "+I(H)+"px "+I(W)+"px 0",L.filter="progid:DXImageTransform.Microsoft.Matrix("+F.join("")+", SizingMethod=clip)"}else C&&(d=d*k+C[4],f=f*E+C[5]),L.filter="",L.left=I(d)+"px",L.top=I(f)+"px";var Z=this._imageEl,U=this._cropEl;Z||(Z=S.doc.createElement("div"),this._imageEl=Z);var j=Z.style;if(M){if(e&&n)j.width=I(k*e*m/y)+"px",j.height=I(E*n*v/x)+"px";else{var X=new Image,Y=this;X.onload=function(){X.onload=null,e=X.width,n=X.height,j.width=I(k*e*m/y)+"px",j.height=I(E*n*v/x)+"px",Y._imageWidth=e,Y._imageHeight=n,Y._imageSrc=image},X.src=image}U||((U=S.doc.createElement("div")).style.overflow="hidden",this._cropEl=U);var $=U.style;$.width=I((m+_*m/y)*k),$.height=I((v+w*v/x)*E),$.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-_*m/y*k+",Dy="+-w*v/x*E+")",U.parentNode||A.appendChild(U),Z.parentNode!=U&&U.appendChild(Z)}else j.width=I(k*m)+"px",j.height=I(E*v)+"px",A.appendChild(Z),U&&U.parentNode&&(A.removeChild(U),this._cropEl=null);var K="",J=style.opacity;J<1&&(K+=".Alpha(opacity="+I(100*J)+") "),K+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+image+", SizingMethod=scale)",j.filter=K,A.style.zIndex=R(this.zlevel,this.z,this.z2),z(t,A),null!=style.text&&this.drawRectText(t,this.getBoundingRect())}},v.prototype.onRemove=function(t){N(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},v.prototype.onAdd=function(t){z(t,this._vmlEl),this.appendRectText(t)};var W,F={},Z=0,U=document.createElement("div");c.$override("measureText",(function(text,t){var e=S.doc;W||((W=e.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",S.doc.body.appendChild(W));try{W.style.font=t}catch(t){}return W.innerHTML="",W.appendChild(e.createTextNode(text)),{width:W.offsetWidth}}));for(var j=new l,X=function(t,rect,e,n){var style=this.style;this.__dirty&&d.normalizeTextStyle(style,!0);var text=style.text;if(null!=text&&(text+=""),text){if(style.rich){var o=c.parseRichText(text,style);text=[];for(var i=0;i<o.lines.length;i++){for(var l=o.lines[i].tokens,h=[],f=0;f<l.length;f++)h.push(l[f].text);text.push(h.join(""))}text=text.join("\n")}var m,v,y=style.textAlign,x=style.textVerticalAlign,_=function(t){var e=F[t];if(!e){Z>100&&(Z=0,F={});var n,style=U.style;try{style.font=t,n=style.fontFamily.split(",")[0]}catch(t){}e={style:style.fontStyle||"normal",variant:style.fontVariant||"normal",weight:style.fontWeight||"normal",size:0|parseFloat(style.fontSize||12),family:n||"Microsoft YaHei"},F[t]=e,Z++}return e}(style.font),w=_.style+" "+_.variant+" "+_.weight+" "+_.size+'px "'+_.family+'"';e=e||c.getBoundingRect(text,w,y,x);var M=this.transform;if(M&&!n&&(j.copy(rect),j.applyTransform(M),rect=j),n)m=rect.x,v=rect.y;else{var T=style.textPosition,A=style.textDistance;if(T instanceof Array)m=rect.x+V(T[0],rect.width),v=rect.y+V(T[1],rect.height),y=y||"left";else{var C=c.adjustTextPositionOnRect(T,rect,A);m=C.x,v=C.y,y=y||C.textAlign,x=x||C.textVerticalAlign}}m=c.adjustTextX(m,e.width,y),v=c.adjustTextY(v,e.height,x),v+=e.height/2;var L,D,P,k=S.createNode,E=this._textVmlEl;E?D=(L=(P=E.firstChild).nextSibling).nextSibling:(E=k("line"),L=k("path"),D=k("textpath"),P=k("skew"),D.style["v-text-align"]="left",O(E),L.textpathok=!0,D.on=!0,E.from="0 0",E.to="1000 0.05",z(E,P),z(E,L),z(E,D),this._textVmlEl=E);var N=[m,v],B=E.style;M&&n?(r(N,N,M),P.on=!0,P.matrix=M[0].toFixed(3)+","+M[2].toFixed(3)+","+M[1].toFixed(3)+","+M[3].toFixed(3)+",0,0",P.offset=(I(N[0])||0)+","+(I(N[1])||0),P.origin="0 0",B.left="0px",B.top="0px"):(P.on=!1,B.left=I(m)+"px",B.top=I(v)+"px"),D.string=String(text).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{D.style.font=w}catch(t){}G(E,"fill",{fill:style.textFill,opacity:style.opacity},this),G(E,"stroke",{stroke:style.textStroke,opacity:style.opacity,lineDash:style.lineDash},this),E.style.zIndex=R(this.zlevel,this.z,this.z2),z(t,E)}},Y=function(t){N(t,this._textVmlEl),this._textVmlEl=null},$=function(t){z(t,this._textVmlEl)},K=[f,m,v,x,y],i=0;i<K.length;i++){var J=K[i].prototype;J.drawRectText=X,J.removeRectText=Y,J.appendRectText=$}y.prototype.brushVML=function(t){var style=this.style;null!=style.text?this.drawRectText(t,{x:style.x||0,y:style.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},y.prototype.onRemove=function(t){this.removeRectText(t)},y.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){var o=n(265),r=n(407),l=n(219).each;function h(t){return parseInt(t,10)}function c(t,e){r.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),o=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",o.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=o,this._vmlViewport=n,this.resize();var l=e.delFromStorage,h=e.addToStorage;e.delFromStorage=function(t){l.call(e,t),t&&t.onRemove&&t.onRemove(o)},e.addToStorage=function(t){t.onAdd&&t.onAdd(o),h.call(e,t)},this._firstPaint=!0}c.prototype={constructor:c,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||h(e.width))-h(e.paddingLeft)-h(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||h(e.height))-h(e.paddingTop)-h(e.paddingBottom)|0}},l(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(t){var e;c.prototype[t]=(e=t,function(){o('In IE8.0 VML mode painter not support method "'+e+'"')})}));var d=c;t.exports=d},function(t,e,n){n(332),(0,n(275).registerPainter)("svg",n(733))},function(t,e,n){var o=n(333).createElement,r=n(219),l=r.each,h=n(265),c=n(231),d=n(266),f=n(267),m=n(734),v=n(735),y=n(736),x=n(332),_=x.path,w=x.image,S=x.text;function M(t){return parseInt(t,10)}function I(t,e){return e&&t&&e.parentNode!==t}function T(t,e,n){if(I(t,e)&&n){var o=n.nextSibling;o?t.insertBefore(e,o):t.appendChild(e)}}function A(t,e){if(I(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function C(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function L(t){return t.__textSvgEl}function D(t){return t.__svgEl}var P=function(t,e,n){this.root=t,this.storage=e,this._opts=n=r.extend({},n||{});var l=o("svg");l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("version","1.1"),l.setAttribute("baseProfile","full"),l.style["user-select"]="none",l.style.cssText="position:absolute;left:0;top:0;",this.gradientManager=new v(l),this.clipPathManager=new y(l);var h=document.createElement("div");h.style.cssText="overflow:hidden;position:relative",this._svgRoot=l,this._viewport=h,t.appendChild(h),h.appendChild(l),this.resize(n.width,n.height),this._visibleList=[]};P.prototype={constructor:P,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused();var i,e,n=this._svgRoot,o=this._visibleList,r=t.length,l=[];for(i=0;i<r;i++){var h=t[i],v=(e=h)instanceof c?_:e instanceof d?w:e instanceof f?S:_;h.invisible||(h.__dirty&&(v&&v.brush(h),this.clipPathManager.update(h),h.style&&(this.gradientManager.update(h.style.fill),this.gradientManager.update(h.style.stroke)),h.__dirty=!1),l.push(h))}var y,x=m(o,l);for(i=0;i<x.length;i++){if((k=x[i]).removed)for(var M=0;M<k.count;M++){var I=D(h=o[k.indices[M]]),P=L(h);C(n,I),C(n,P)}}for(i=0;i<x.length;i++){var k;if((k=x[i]).added)for(M=0;M<k.count;M++){I=D(h=l[k.indices[M]]),P=L(h);y?T(n,I,y):A(n,I),I?T(n,P,I):y?T(n,P,y):A(n,P),T(n,P,I),y=P||I||y,this.gradientManager.addWithoutUpdate(I,h),this.clipPathManager.markUsed(h)}else if(!k.removed)for(M=0;M<k.count;M++){y=I=L(h=l[k.indices[M]])||D(h)||y,this.gradientManager.markUsed(h),this.gradientManager.addWithoutUpdate(I,h),this.clipPathManager.markUsed(h)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this._visibleList=l},_getDefs:function(t){var defs,e=this._svgRoot;return 0===(defs=this._svgRoot.getElementsByTagName("defs")).length?t?((defs=e.insertBefore(o("defs"),e.firstChild)).contains||(defs.contains=function(t){var e=defs.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),defs):null:defs[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var o=this._opts;if(null!=t&&(o.width=t),null!=e&&(o.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t&&this._height!==e){this._width=t,this._height=e;var r=n.style;r.width=t+"px",r.height=e+"px";var l=this._svgRoot;l.setAttribute("width",t),l.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],o=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],l=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var h=this.root,c=document.defaultView.getComputedStyle(h);return(h[o]||M(c[n])||M(h.style[n]))-(M(c[r])||0)-(M(c[l])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var html=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(html)}},l(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(t){var e;P.prototype[t]=(e=t,function(){h('In SVG mode painter not support method "'+e+'"')})}));var k=P;t.exports=k},function(t,e){function n(){}function o(t,e,n,o){for(var r=0,l=e.length,h=0,c=0;r<l;r++){var component=e[r];if(component.removed){for(d=[],i=c;i<c+component.count;i++)d.push(i);component.indices=d,c+=component.count}else{for(var d=[],i=h;i<h+component.count;i++)d.push(i);component.indices=d,h+=component.count,component.added||(c+=component.count)}}return e}n.prototype={diff:function(t,e,n){n||(n=function(a,b){return a===b}),this.equals=n;var r=this;t=t.slice();var l=(e=e.slice()).length,h=t.length,c=1,d=l+h,f=[{newPos:-1,components:[]}],m=this.extractCommon(f[0],e,t,0);if(f[0].newPos+1>=l&&m+1>=h){for(var v=[],i=0;i<e.length;i++)v.push(i);return[{indices:v,count:e.length}]}function y(){for(var n=-1*c;n<=c;n+=2){var d,m=f[n-1],v=f[n+1],y=(v?v.newPos:0)-n;m&&(f[n-1]=void 0);var x=m&&m.newPos+1<l,_=v&&0<=y&&y<h;if(x||_){if(!x||_&&m.newPos<v.newPos?(d={newPos:(path=v).newPos,components:path.components.slice(0)},r.pushComponent(d.components,void 0,!0)):((d=m).newPos++,r.pushComponent(d.components,!0,void 0)),y=r.extractCommon(d,e,t,n),d.newPos+1>=l&&y+1>=h)return o(r,d.components,e,t);f[n]=d}else f[n]=void 0}var path;c++}for(;c<=d;){var x=y();if(x)return x}},pushComponent:function(t,e,n){var o=t[t.length-1];o&&o.added===e&&o.removed===n?t[t.length-1]={count:o.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,o){for(var r=e.length,l=n.length,h=t.newPos,c=h-o,d=0;h+1<r&&c+1<l&&this.equals(e[h+1],n[c+1]);)h++,c++,d++;return d&&t.components.push({count:d}),t.newPos=h,c},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var r=new n;t.exports=function(t,e,n){return r.diff(t,e,n)}},function(t,e,n){var o=n(408),r=n(219),l=n(265);function h(t){o.call(this,t,["linearGradient","radialGradient"],"__gradient_in_use__")}r.inherits(h,o),h.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;r.each(["fill","stroke"],(function(o){if(e.style[o]&&("linear"===e.style[o].type||"radial"===e.style[o].type)){var r,l=e.style[o],defs=n.getDefs(!0);l._dom?(r=l._dom,defs.contains(l._dom)||n.addDom(r)):r=n.add(l),n.markUsed(e);var h=r.getAttribute("id");t.setAttribute(o,"url(#"+h+")")}}))}},h.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return l("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},h.prototype.update=function(t){var e=this;o.prototype.update.call(this,t,(function(){var n=t.type,o=t._dom.tagName;"linear"===n&&"linearGradient"===o||"radial"===n&&"radialGradient"===o?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))}))},h.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void l("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,o=n.length;i<o;++i){var r=this.createElement("stop");r.setAttribute("offset",100*n[i].offset+"%"),r.setAttribute("stop-color",n[i].color),e.appendChild(r)}t._dom=e},h.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&o.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&o.prototype.markUsed.call(this,e._dom)}};var c=h;t.exports=c},function(t,e,n){var o=n(408),r=n(219),l=n(236);function h(t){o.call(this,t,"clipPath","__clippath_in_use__")}r.inherits(h,o),h.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},h.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var o,r,defs=this.getDefs(!0),h=e[0],c=n?"_textDom":"_dom";h[c]?(r=h[c].getAttribute("id"),o=h[c],defs.contains(o)||defs.appendChild(o)):(r="zr-clip-"+this.nextId,++this.nextId,(o=this.createElement("clipPath")).setAttribute("id",r),defs.appendChild(o),h[c]=o);var d=this.getSvgProxy(h);if(h.transform&&h.parent.invTransform&&!n){var f=Array.prototype.slice.call(h.transform);l.mul(h.transform,h.parent.invTransform,h.transform),d.brush(h),h.transform=f}else d.brush(h);var m=this.getSvgElement(h);o.appendChild(m.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),e.length>1&&this.updateDom(o,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},h.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&r.each(t.__clipPaths,(function(t){t._dom&&o.prototype.markUsed.call(e,t._dom),t._textDom&&o.prototype.markUsed.call(e,t._textDom)}))};var c=h;t.exports=c},,function(t,e,n){var o,r;void 0===(r="function"==typeof(o=function(a,t,e){return function(a,t,e,n,i,o){for(var r=0,s=["webkit","moz","ms","o"],l=0;l<s.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[s[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[l]+"CancelAnimationFrame"]||window[s[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),i=window.setTimeout((function(){a(e+n)}),n);return r=e+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var u=this;for(var h in u.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},o)o.hasOwnProperty(h)&&(u.options[h]=o[h]);""===u.options.separator&&(u.options.useGrouping=!1),u.options.prefix||(u.options.prefix=""),u.options.suffix||(u.options.suffix=""),u.d="string"==typeof a?document.getElementById(a):a,u.startVal=Number(t),u.endVal=Number(e),u.countDown=u.startVal>u.endVal,u.frameVal=u.startVal,u.decimals=Math.max(0,n||0),u.dec=Math.pow(10,u.decimals),u.duration=1e3*Number(i)||2e3,u.formatNumber=function(a){var t,e,n,i;if(a=a.toFixed(u.decimals),e=(t=(a+="").split("."))[0],n=t.length>1?u.options.decimal+t[1]:"",i=/(\d+)(\d{3})/,u.options.useGrouping)for(;i.test(e);)e=e.replace(i,"$1"+u.options.separator+"$2");return u.options.prefix+e+n+u.options.suffix},u.easeOutExpo=function(a,t,e,n){return e*(1-Math.pow(2,-10*a/n))*1024/1023+t},u.easingFn=u.options.easingFn?u.options.easingFn:u.easeOutExpo,u.formattingFn=u.options.formattingFn?u.options.formattingFn:u.formatNumber,u.version=function(){return"1.7.1"},u.printValue=function(a){var t=u.formattingFn(a);"INPUT"===u.d.tagName?this.d.value=t:"text"===u.d.tagName||"tspan"===u.d.tagName?this.d.textContent=t:this.d.innerHTML=t},u.count=function(a){u.startTime||(u.startTime=a),u.timestamp=a;var t=a-u.startTime;u.remaining=u.duration-t,u.options.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(t,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(t,u.startVal,u.endVal-u.startVal,u.duration):u.countDown?u.frameVal=u.startVal-(u.startVal-u.endVal)*(t/u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(t/u.duration),u.countDown?u.frameVal=u.frameVal<u.endVal?u.endVal:u.frameVal:u.frameVal=u.frameVal>u.endVal?u.endVal:u.frameVal,u.frameVal=Math.round(u.frameVal*u.dec)/u.dec,u.printValue(u.frameVal),t<u.duration?u.rAF=requestAnimationFrame(u.count):u.callback&&u.callback()},u.start=function(a){return u.callback=a,u.rAF=requestAnimationFrame(u.count),!1},u.pauseResume=function(){u.paused?(u.paused=!1,delete u.startTime,u.duration=u.remaining,u.startVal=u.frameVal,requestAnimationFrame(u.count)):(u.paused=!0,cancelAnimationFrame(u.rAF))},u.reset=function(){u.paused=!1,delete u.startTime,u.startVal=t,cancelAnimationFrame(u.rAF),u.printValue(u.startVal)},u.update=function(a){cancelAnimationFrame(u.rAF),u.paused=!1,delete u.startTime,u.startVal=u.frameVal,u.endVal=Number(a),u.countDown=u.startVal>u.endVal,u.rAF=requestAnimationFrame(u.count)},u.printValue(u.startVal)}})?o.call(e,n,e,t):o)||(t.exports=r)}])]);